[{
  "comments": [{
    "author": {
      "login": "felixcheung"
    },
    "body": "don't repeat `freqItemsets(model)` - use `itemsets` from above",
    "commit": "64c07aaa0d538c6d0fe01a8fe831e11194603e22",
    "createdAt": "2017-03-07T06:15:13Z",
    "diffHunk": "@@ -0,0 +1,74 @@\n+#\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+#\n+\n+library(testthat)\n+\n+context(\"MLlib frequent pattern mining\")\n+\n+# Tests for MLlib frequent pattern mining algorithms in SparkR\n+sparkSession <- sparkR.session(enableHiveSupport = FALSE)\n+\n+test_that(\"spark.fpGrowth\", {\n+  data <- selectExpr(createDataFrame(data.frame(features = c(\n+    \"1,2\",\n+    \"1,2\",\n+    \"1,2,3\",\n+    \"1,3\"\n+  ))), \"split(features, ',') as features\")\n+\n+  model <- spark.fpGrowth(data, minSupport = 0.3, minConfidence = 0.8)\n+\n+  itemsets <- collect(freqItemsets(model))\n+\n+  expected_itemsets <- data.frame(\n+    items = I(list(list(\"3\"), list(\"3\", \"1\"), list(\"2\"), list(\"2\", \"1\"), list(\"1\"))),\n+    freq = c(2, 2, 3, 3, 4)\n+  )\n+\n+  expect_equivalent(expected_itemsets, collect(freqItemsets(model)))"
  }],
  "prId": 17170
}, {
  "comments": [{
    "author": {
      "login": "felixcheung"
    },
    "body": "we need to add a test when numPartitions is not set...",
    "commit": "64c07aaa0d538c6d0fe01a8fe831e11194603e22",
    "createdAt": "2017-03-27T01:50:31Z",
    "diffHunk": "@@ -0,0 +1,76 @@\n+#\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+#\n+\n+library(testthat)\n+\n+context(\"MLlib frequent pattern mining\")\n+\n+# Tests for MLlib frequent pattern mining algorithms in SparkR\n+sparkSession <- sparkR.session(enableHiveSupport = FALSE)\n+\n+test_that(\"spark.fpGrowth\", {\n+  data <- selectExpr(createDataFrame(data.frame(items = c(\n+    \"1,2\",\n+    \"1,2\",\n+    \"1,2,3\",\n+    \"1,3\"\n+  ))), \"split(items, ',') as items\")\n+\n+  model <- spark.fpGrowth(data, minSupport = 0.3, minConfidence = 0.8, numPartitions = 1)",
    "line": 33
  }],
  "prId": 17170
}]