[{
  "comments": [{
    "author": {
      "login": "shivaram"
    },
    "body": "Can we just use a `R_HOME` if it is set instead of using a command line argument ?\n",
    "commit": "0b3960a29dd47ae12c9534806191cfb098139888",
    "createdAt": "2016-01-19T21:54:06Z",
    "diffHunk": "@@ -35,12 +35,19 @@ LIB_DIR=\"$FWDIR/lib\"\n mkdir -p $LIB_DIR\n \n pushd $FWDIR > /dev/null\n+if [ ! -z \"$1\" ]\n+  then\n+    R_HOME=\"$1/bin\"\n+   else\n+    R_HOME=\"$(dirname $(which R))\""
  }, {
    "author": {
      "login": "napsternxg"
    },
    "body": "In R there there is usually no `R_HOME` like there is in python so this might confuse users.  We should use the default R when the variable is not passed. \n\nOr I can use a variable like `SPARK_R_HOME` which specifies the R home directory ?\n",
    "commit": "0b3960a29dd47ae12c9534806191cfb098139888",
    "createdAt": "2016-01-19T22:11:12Z",
    "diffHunk": "@@ -35,12 +35,19 @@ LIB_DIR=\"$FWDIR/lib\"\n mkdir -p $LIB_DIR\n \n pushd $FWDIR > /dev/null\n+if [ ! -z \"$1\" ]\n+  then\n+    R_HOME=\"$1/bin\"\n+   else\n+    R_HOME=\"$(dirname $(which R))\""
  }, {
    "author": {
      "login": "napsternxg"
    },
    "body": "Also if using an environment variable then the code for running sparkR would also have to be edited to use the R version from this path. \n",
    "commit": "0b3960a29dd47ae12c9534806191cfb098139888",
    "createdAt": "2016-01-19T22:13:01Z",
    "diffHunk": "@@ -35,12 +35,19 @@ LIB_DIR=\"$FWDIR/lib\"\n mkdir -p $LIB_DIR\n \n pushd $FWDIR > /dev/null\n+if [ ! -z \"$1\" ]\n+  then\n+    R_HOME=\"$1/bin\"\n+   else\n+    R_HOME=\"$(dirname $(which R))\""
  }, {
    "author": {
      "login": "shivaram"
    },
    "body": "`R_HOME` is a reasonably well defined concept ? http://www.inside-r.org/r-doc/base/R.home \n\nRegardless I think you will need to use a different R binary for running sparkR if you don't want it to use the default R ?\n",
    "commit": "0b3960a29dd47ae12c9534806191cfb098139888",
    "createdAt": "2016-01-19T22:49:13Z",
    "diffHunk": "@@ -35,12 +35,19 @@ LIB_DIR=\"$FWDIR/lib\"\n mkdir -p $LIB_DIR\n \n pushd $FWDIR > /dev/null\n+if [ ! -z \"$1\" ]\n+  then\n+    R_HOME=\"$1/bin\"\n+   else\n+    R_HOME=\"$(dirname $(which R))\""
  }, {
    "author": {
      "login": "napsternxg"
    },
    "body": "I have made the fix. \n\nHere are my new test results:\n\n```\n$ unset R_HOME\nram:/content/username/SOFTWARE/spark/R $ ./install-dev.sh \nUSING R_HOME = \nERROR: this R is version 2.15.1, package 'SparkR' requires R >= 3.0\n* removing â€˜/content/username/SOFTWARE/spark/R/lib/SparkRâ€™\nram:/content/username/SOFTWARE/spark/R $ export R_HOME=/content/username/SOFTWARE/R-3.2.3\nram:/content/username/SOFTWARE/spark/R $ ./install-dev.sh \nUSING R_HOME = /content/username/SOFTWARE/R-3.2.3\n* installing *source* package â€˜SparkRâ€™ ...\n** R\n** inst\n** preparing package for lazy loading\nCreating a new generic function for â€˜colnamesâ€™ in package â€˜SparkRâ€™\nCreating a new generic function for â€˜colnames<-â€™ in package â€˜SparkRâ€™\nCreating a new generic function for â€˜covâ€™ in package â€˜SparkRâ€™\nCreating a new generic function for â€˜na.omitâ€™ in package â€˜SparkRâ€™\nCreating a new generic function for â€˜filterâ€™ in package â€˜SparkRâ€™\nCreating a new generic function for â€˜intersectâ€™ in package â€˜SparkRâ€™\nCreating a new generic function for â€˜sampleâ€™ in package â€˜SparkRâ€™\nCreating a new generic function for â€˜transformâ€™ in package â€˜SparkRâ€™\nCreating a new generic function for â€˜subsetâ€™ in package â€˜SparkRâ€™\nCreating a new generic function for â€˜summaryâ€™ in package â€˜SparkRâ€™\nCreating a new generic function for â€˜lagâ€™ in package â€˜SparkRâ€™\nCreating a new generic function for â€˜rankâ€™ in package â€˜SparkRâ€™\nCreating a new generic function for â€˜sdâ€™ in package â€˜SparkRâ€™\nCreating a new generic function for â€˜varâ€™ in package â€˜SparkRâ€™\nCreating a new generic function for â€˜predictâ€™ in package â€˜SparkRâ€™\nCreating a new generic function for â€˜rbindâ€™ in package â€˜SparkRâ€™\nCreating a generic function for â€˜lapplyâ€™ from package â€˜baseâ€™ in package â€˜SparkRâ€™\nCreating a generic function for â€˜Filterâ€™ from package â€˜baseâ€™ in package â€˜SparkRâ€™\nCreating a generic function for â€˜aliasâ€™ from package â€˜statsâ€™ in package â€˜SparkRâ€™\nCreating a generic function for â€˜substrâ€™ from package â€˜baseâ€™ in package â€˜SparkRâ€™\nCreating a generic function for â€˜%in%â€™ from package â€˜baseâ€™ in package â€˜SparkRâ€™\nCreating a generic function for â€˜meanâ€™ from package â€˜baseâ€™ in package â€˜SparkRâ€™\nCreating a generic function for â€˜uniqueâ€™ from package â€˜baseâ€™ in package â€˜SparkRâ€™\nCreating a generic function for â€˜nrowâ€™ from package â€˜baseâ€™ in package â€˜SparkRâ€™\nCreating a generic function for â€˜ncolâ€™ from package â€˜baseâ€™ in package â€˜SparkRâ€™\nCreating a generic function for â€˜headâ€™ from package â€˜utilsâ€™ in package â€˜SparkRâ€™\nCreating a generic function for â€˜factorialâ€™ from package â€˜baseâ€™ in package â€˜SparkRâ€™\nCreating a generic function for â€˜atan2â€™ from package â€˜baseâ€™ in package â€˜SparkRâ€™\nCreating a generic function for â€˜ifelseâ€™ from package â€˜baseâ€™ in package â€˜SparkRâ€™\n** help\nNo man pages found in package  â€˜SparkRâ€™ \n*** installing help indices\n** building package indices\n** testing if installed package can be loaded\n* DONE (SparkR)\n\n```\n",
    "commit": "0b3960a29dd47ae12c9534806191cfb098139888",
    "createdAt": "2016-01-19T22:58:54Z",
    "diffHunk": "@@ -35,12 +35,19 @@ LIB_DIR=\"$FWDIR/lib\"\n mkdir -p $LIB_DIR\n \n pushd $FWDIR > /dev/null\n+if [ ! -z \"$1\" ]\n+  then\n+    R_HOME=\"$1/bin\"\n+   else\n+    R_HOME=\"$(dirname $(which R))\""
  }, {
    "author": {
      "login": "napsternxg"
    },
    "body": "Updated my pull request. \n",
    "commit": "0b3960a29dd47ae12c9534806191cfb098139888",
    "createdAt": "2016-01-19T23:06:06Z",
    "diffHunk": "@@ -35,12 +35,19 @@ LIB_DIR=\"$FWDIR/lib\"\n mkdir -p $LIB_DIR\n \n pushd $FWDIR > /dev/null\n+if [ ! -z \"$1\" ]\n+  then\n+    R_HOME=\"$1/bin\"\n+   else\n+    R_HOME=\"$(dirname $(which R))\""
  }],
  "prId": 10836
}]