[
  {
    "id" : "4db7ec98-9f85-4427-b196-280deb7f898b",
    "prId" : 370,
    "comments" : [
      {
        "id" : "c5cad288-6a27-4701-99fa-fe5db0b44bc0",
        "parentId" : null,
        "author" : {
          "login" : "gabro",
          "name" : null,
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/691940?u=5aaf176f5da60764f857b8f8c6842217f737627f&v=4"
        },
        "body" : "maybe add metals-vscode to the related projects?",
        "createdAt" : "2018-12-02T10:44:26Z",
        "updatedAt" : "2018-12-02T13:58:41Z",
        "lastEditedBy" : {
          "login" : "gabro",
          "name" : null,
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/691940?u=5aaf176f5da60764f857b8f8c6842217f737627f&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "1d9964ba-873e-4253-8ede-aeb99bcf5ad4",
        "parentId" : "c5cad288-6a27-4701-99fa-fe5db0b44bc0",
        "author" : {
          "login" : "olafurpg",
          "name" : null,
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/1408093?v=4"
        },
        "body" : "Good idea!",
        "createdAt" : "2018-12-02T13:58:59Z",
        "updatedAt" : "2018-12-02T13:58:59Z",
        "lastEditedBy" : {
          "login" : "olafurpg",
          "name" : null,
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/1408093?v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "965f0a75947bae0c87b07abc268c424850dbc53c",
    "line" : 30,
    "diffHunk" : "@@ -7,80 +7,137 @@ Whenever you are stuck or unsure, please open an issue or\n [ask on Gitter](https://gitter.im/scalameta/metals). This project follows\n [Scalameta's contribution guidelines](https://github.com/scalameta/scalameta/blob/master/CONTRIBUTING.md).\n \n+## Requirements\n+\n+You will need the following applications installed:\n+\n+- Java 8, make sure `JAVA_HOME` points to a Java 8 installation and not Java 11.\n+- `git`\n+- `sbt` (for building a local version of the server)\n+\n ## Project structure\n \n - `metals` contains a Scala implementation of a language server based on\n-  Scalameta\n+  Scalameta.\n - `mtags` source file indexer for Java and Scala.\n-- `vscode-extension` contains a Visual Studio Code extension, implementing a\n-  client for the language server\n-- `tests` directory for unit tests\n-- `test-workspace` directory for manually testing the vscode plugin locally\n+- `tests/input` example Scala code that is used as testing data for unit tests.\n+- `tests/unit` moderately fast-running unit tests.\n+- `tests/slow` slow integration tests.\n+- `test-workspace` demo project for manually testing Metals through an editor.\n \n ## Related projects"
  },
  {
    "id" : "8ed1d163-6ea2-4f51-9a12-488dc28d647e",
    "prId" : 370,
    "comments" : [
      {
        "id" : "2a18049a-ad37-44ba-a27c-4ab75061fae0",
        "parentId" : null,
        "author" : {
          "login" : "gabro",
          "name" : null,
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/691940?u=5aaf176f5da60764f857b8f8c6842217f737627f&v=4"
        },
        "body" : "and also `sbt publishLocal`?",
        "createdAt" : "2018-12-02T10:46:30Z",
        "updatedAt" : "2018-12-02T13:58:41Z",
        "lastEditedBy" : {
          "login" : "gabro",
          "name" : null,
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/691940?u=5aaf176f5da60764f857b8f8c6842217f737627f&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "653fd429-a7bb-43c8-9050-f98fcf1359b7",
        "parentId" : "2a18049a-ad37-44ba-a27c-4ab75061fae0",
        "author" : {
          "login" : "olafurpg",
          "name" : null,
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/1408093?v=4"
        },
        "body" : "Fixed ðŸ‘ ",
        "createdAt" : "2018-12-02T13:58:53Z",
        "updatedAt" : "2018-12-02T13:58:53Z",
        "lastEditedBy" : {
          "login" : "olafurpg",
          "name" : null,
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/1408093?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "965f0a75947bae0c87b07abc268c424850dbc53c",
    "line" : null,
    "diffHunk" : "@@ -7,80 +7,137 @@ Whenever you are stuck or unsure, please open an issue or\n [ask on Gitter](https://gitter.im/scalameta/metals). This project follows\n [Scalameta's contribution guidelines](https://github.com/scalameta/scalameta/blob/master/CONTRIBUTING.md).\n \n+## Requirements\n+\n+You will need the following applications installed:\n+\n+- Java 8, make sure `JAVA_HOME` points to a Java 8 installation and not Java 11.\n+- `git`\n+- `sbt` (for building a local version of the server)\n+\n ## Project structure\n \n - `metals` contains a Scala implementation of a language server based on\n-  Scalameta\n+  Scalameta.\n - `mtags` source file indexer for Java and Scala.\n-- `vscode-extension` contains a Visual Studio Code extension, implementing a\n-  client for the language server\n-- `tests` directory for unit tests\n-- `test-workspace` directory for manually testing the vscode plugin locally\n+- `tests/input` example Scala code that is used as testing data for unit tests.\n+- `tests/unit` moderately fast-running unit tests.\n+- `tests/slow` slow integration tests.\n+- `test-workspace` demo project for manually testing Metals through an editor.\n \n ## Related projects\n \n The improvement you are looking to contribute may belong in a separate\n repository:\n \n - [scalameta/scalameta](https://github.com/scalameta/scalameta/): SemanticDB,\n-  parsing, tokenization\n-- [scalameta/scalafmt](https://github.com/scalameta/scalafmt/): code formatting\n+  parsing, tokenization.\n+- [scalacenter/bloop](https://github.com/scalacenter/bloop/): build server for\n+  compilation.\n+- [scala/scala](https://github.com/scala/scala/): presentation compiler.\n+- [scalameta/scalafmt](https://github.com/scalameta/scalafmt/): code formatting.\n - [scalacenter/scalafix](https://github.com/scalacenter/scalafix/): code\n-  refactoring and linting\n-- [scala/scala](https://github.com/scala/scala/): presentation compiler\n-\n-## Prerequisites\n-\n-You will need the following applications installed:\n-\n-- `git`\n-- `sbt` (for building a local version of the server)\n-- `npm` (for building a local version of the VSCode extension)\n-- Visual Studio Code (`code` from the console)\n+  refactoring and linting.\n \n ## Unit tests\n \n To run the unit tests open an sbt shell and run `unit/test`\n \n ```sh\n sbt\n-# Run once for every change in sbt plugin\n+# Run once in the beginning and run again for every change in the sbt plugin.\n > sbt-metals/publishLocal\n-# Fast (recommended), only specfic test suite\n+# (recommended) run specific test suite, great for edit/test/debug workflows.\n > metals/testOnly -- tests.DefinitionSuite\n-# Slow (not recommended) run all tests\n+# run unit tests, modestly fast but still a bit too slow for edit/test/debug workflows.\n > unit/test\n+# run slow integration tests, takes several minutes.\n+> slow/test\n+# (not recommended) run all tests, slow. It's better to target individual projects.\n+> test\n ```\n \n-## VS Code extension\n+## Manual tests\n+\n+Some functionality is best to manually test through an editor. A common workflow\n+while iterating on a new feature is to run `publishLocal` and then open an\n+editor in a small demo build.\n+\n+### Visual Studio Code\n+\n+Install the Metals extension from the Marketplace, search for \"Metals\".\n+\n+[Click here to install the Metals VS Code plugin](vscode:extension/scalameta.metals)\n \n-Install the extension dependencies\n+Next, update the \"Server version\" setting under preferences to point to the\n+version you published locally via `sbt publishLocal`.\n+\n+![Metals server version setting](../assets/vscode-server-version.png)\n+\n+When you make changes in the Metals Scala codebase\n+\n+- run `sbt publishLocal`\n+- execute the \"Metals: Restart server\" command in Visual Studio Code (via\n+  command palette)\n+\n+### Vim\n+\n+First, follow the [`vim` installation instruction](../editors/vim.html).\n+\n+Next, write a `new-metals-vim` script that builds a new `metals-vim` bootstrap\n+script using the locally published version.\n \n ```sh\n-sbt publishLocal    # Publish the Metals server locally with version number SNAPSHOT\n-cd vscode-extension\n-npm install\n+coursier bootstrap \\\n+  --java-opt -Dmetals.client=vim-lsc \\\n+  org.scalameta:metals_2.12:@LOCAL_VERSION@ \\ # double-check version here\n+  -r bintray:scalacenter/releases \\\n+  -o /usr/local/bin/metals-vim -f\n ```\n \n-Then open the project\n+Finally, start vim with the local Metals version\n \n ```sh\n-code .\n+cd test-workspace # any directory you want to manually test Metals\n+new-metals-vim && vim build.sbt\n ```\n \n-Next, install the Scala syntax package\n-[`scala-lang.scala`](https://marketplace.visualstudio.com/items?itemName=scala-lang.scala).\n-This plugin is required to start the extension.\n+When you make changes in the Metals Scala codebase, quit vim and re-run\n+`new-metals-vim && vim build.sbt`."
  },
  {
    "id" : "ceb32c6b-cb59-4023-8916-190b6783c116",
    "prId" : 977,
    "comments" : [
      {
        "id" : "27ab07f1-ab9a-410a-9f8c-96164f2371ac",
        "parentId" : null,
        "author" : {
          "login" : "olafurpg",
          "name" : null,
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/1408093?v=4"
        },
        "body" : "Let's keep the `slow` name of this project. The tests in this project are actually slow to run since they \r\n\r\n- require cross-building and `publishLocal` against 2.11/2.13\r\n- run sbt/gradle/maven/mill/... `LspSuite` tests that take a long time to run\r\n- run CPU intensive tests like indexing large classpaths",
        "createdAt" : "2019-10-10T05:29:48Z",
        "updatedAt" : "2019-10-10T06:57:50Z",
        "lastEditedBy" : {
          "login" : "olafurpg",
          "name" : null,
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/1408093?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "e404010a-97b5-4af0-9643-cfdf1e66de01",
        "parentId" : "27ab07f1-ab9a-410a-9f8c-96164f2371ac",
        "author" : {
          "login" : "ckipp01",
          "name" : null,
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/13974112?u=7b6a2ddab8eec6f99e4e40ae9b81f71cb5ba92e5&v=4"
        },
        "body" : "Sounds good. I put the project name back to slow, and updated any other found references of `SlowSuite` that I found.",
        "createdAt" : "2019-10-10T06:58:57Z",
        "updatedAt" : "2019-10-10T06:58:57Z",
        "lastEditedBy" : {
          "login" : "ckipp01",
          "name" : null,
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/13974112?u=7b6a2ddab8eec6f99e4e40ae9b81f71cb5ba92e5&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "c68714b8621d0b4802b0183690b2a91e6027c42a",
    "line" : null,
    "diffHunk" : "@@ -23,7 +23,7 @@ You will need the following applications installed:\n   projects like [Metabrowse](https://github.com/scalameta/metabrowse).\n - `tests/input` example Scala code that is used as testing data for unit tests.\n - `tests/unit` moderately fast-running unit tests.\n-- `tests/slow` slow integration tests."
  },
  {
    "id" : "3574a21e-8f74-4cfe-a422-d72de87db293",
    "prId" : 1596,
    "comments" : [
      {
        "id" : "b3a2c2cc-4500-4236-a878-616059e0a09e",
        "parentId" : null,
        "author" : {
          "login" : "ckipp01",
          "name" : null,
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/13974112?u=7b6a2ddab8eec6f99e4e40ae9b81f71cb5ba92e5&v=4"
        },
        "body" : "```suggestion\r\n- [scalameta/coc-metals](https://github.com/scalameta/coc-metals/): the [coc.nvim](https://github.com/neoclide/coc.nvim) Vim/Nvim\r\n```",
        "createdAt" : "2020-04-09T18:01:04Z",
        "updatedAt" : "2020-04-10T10:34:19Z",
        "lastEditedBy" : {
          "login" : "ckipp01",
          "name" : null,
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/13974112?u=7b6a2ddab8eec6f99e4e40ae9b81f71cb5ba92e5&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "98216b111b90200af63cab4201335bfed979a303",
    "line" : null,
    "diffHunk" : "@@ -47,8 +52,14 @@ repository:\n \n - [scalameta/metals-vscode](https://github.com/scalameta/metals-vscode/): the\n   Visual Studio Code extension for Metals.\n+- [scalameta/coc-metals](https://github.com/scalameta/coc-metals/): the Coc Vim"
  }
]