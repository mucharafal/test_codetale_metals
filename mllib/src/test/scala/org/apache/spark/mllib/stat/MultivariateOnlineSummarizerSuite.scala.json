[{
  "comments": [{
    "author": {
      "login": "srowen"
    },
    "body": "I think this will fail the style checker without braces. If so and while you're here, this is a nit, but can you write `new MultivariateOnlineSummarizer()` because it has side effects? Also I personally prefer 1.0e-7 for example to make it clear it's a double.\n",
    "commit": "25b6fde3ecfdaae2873552064044fed15e7f7374",
    "createdAt": "2016-07-20T14:39:42Z",
    "diffHunk": "@@ -245,4 +245,27 @@ class MultivariateOnlineSummarizerSuite extends SparkFunSuite {\n       absTol 1E-8, \"normL2 mismatch\")\n     assert(summarizer.normL1 ~== Vectors.dense(0.21, 0.4265, 0.61) absTol 1E-10, \"normL1 mismatch\")\n   }\n+\n+  test(\"test min/max with weighted samples (SPARK-16561)\") {\n+    val summarizer1 = (new MultivariateOnlineSummarizer)\n+      .add(Vectors.dense(10.0, -10.0), 1e10)\n+      .add(Vectors.dense(0.0, 0.0), 1e-10)\n+\n+    val summarizer2 = new MultivariateOnlineSummarizer\n+    summarizer2.add(Vectors.dense(10.0, -10.0), 1e10)\n+    for (i <- 1 to 100)"
  }],
  "prId": 14216
}, {
  "comments": [{
    "author": {
      "login": "srowen"
    },
    "body": "The text is wrong but I think you could even omit all of them.\n",
    "commit": "25b6fde3ecfdaae2873552064044fed15e7f7374",
    "createdAt": "2016-07-20T14:40:01Z",
    "diffHunk": "@@ -245,4 +245,27 @@ class MultivariateOnlineSummarizerSuite extends SparkFunSuite {\n       absTol 1E-8, \"normL2 mismatch\")\n     assert(summarizer.normL1 ~== Vectors.dense(0.21, 0.4265, 0.61) absTol 1E-10, \"normL1 mismatch\")\n   }\n+\n+  test(\"test min/max with weighted samples (SPARK-16561)\") {\n+    val summarizer1 = (new MultivariateOnlineSummarizer)\n+      .add(Vectors.dense(10.0, -10.0), 1e10)\n+      .add(Vectors.dense(0.0, 0.0), 1e-10)\n+\n+    val summarizer2 = new MultivariateOnlineSummarizer\n+    summarizer2.add(Vectors.dense(10.0, -10.0), 1e10)\n+    for (i <- 1 to 100)\n+      summarizer2.add(Vectors.dense(0.0, 0.0), 1e-7)\n+\n+    val summarizer3 = new MultivariateOnlineSummarizer\n+    for (i <- 1 to 100)\n+      summarizer3.add(Vectors.dense(0.0, 0.0), 1e-7)\n+    summarizer3.add(Vectors.dense(10.0, -10.0), 1e10)\n+\n+    assert(summarizer1.max ~== Vectors.dense(10.0, 0.0) absTol 1e-14, \"max mismatch\")\n+    assert(summarizer1.min ~== Vectors.dense(0.0, -10.0) absTol 1e-14, \"max mismatch\")"
  }],
  "prId": 14216
}]