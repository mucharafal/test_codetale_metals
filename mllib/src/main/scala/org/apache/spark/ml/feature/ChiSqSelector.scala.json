[{
  "comments": [{
    "author": {
      "login": "jaceklaskowski"
    },
    "body": "Sorry, couldn't resist :) I'd change `\"label\"` to be a symbol `'label`. Not very widely used, but think it deserves its place in the code.\n",
    "commit": "9ef9a51eb26213a64a00f33e7128809410a3c0dc",
    "createdAt": "2016-04-28T20:10:54Z",
    "diffHunk": "@@ -79,11 +79,12 @@ final class ChiSqSelector(override val uid: String)\n \n   @Since(\"2.0.0\")\n   override def fit(dataset: Dataset[_]): ChiSqSelectorModel = {\n+    val sqlContext = dataset.sqlContext\n+    import sqlContext.implicits._\n+\n     transformSchema(dataset.schema, logging = true)\n-    val input = dataset.select($(labelCol), $(featuresCol)).rdd.map {\n-      case Row(label: Double, features: Vector) =>\n-        LabeledPoint(label, features)\n-    }\n+    val input = dataset.select(col($(labelCol)).cast(DoubleType).as(\"label\"),",
    "line": 21
  }, {
    "author": {
      "login": "zhengruifeng"
    },
    "body": "@jaceklaskowski   Do you mean change from `col($(labelCol)).cast(DoubleType).as(\"label\")` to `col($(labelCol)).cast(DoubleType).as(getDefault(labelCol).get)` ?\n",
    "commit": "9ef9a51eb26213a64a00f33e7128809410a3c0dc",
    "createdAt": "2016-04-29T01:51:00Z",
    "diffHunk": "@@ -79,11 +79,12 @@ final class ChiSqSelector(override val uid: String)\n \n   @Since(\"2.0.0\")\n   override def fit(dataset: Dataset[_]): ChiSqSelectorModel = {\n+    val sqlContext = dataset.sqlContext\n+    import sqlContext.implicits._\n+\n     transformSchema(dataset.schema, logging = true)\n-    val input = dataset.select($(labelCol), $(featuresCol)).rdd.map {\n-      case Row(label: Double, features: Vector) =>\n-        LabeledPoint(label, features)\n-    }\n+    val input = dataset.select(col($(labelCol)).cast(DoubleType).as(\"label\"),",
    "line": 21
  }],
  "prId": 12718
}]