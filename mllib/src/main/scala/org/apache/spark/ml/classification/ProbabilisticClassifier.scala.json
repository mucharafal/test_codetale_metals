[{
  "comments": [{
    "author": {
      "login": "jkbradley"
    },
    "body": "Same here; set name\n",
    "commit": "449f824fa633ea5b742af8cc8a078cd1561178f5",
    "createdAt": "2016-04-28T18:04:40Z",
    "diffHunk": "@@ -138,22 +138,7 @@ abstract class ProbabilisticClassificationModel[\n         }\n         predictUDF(col($(featuresCol)))\n       }\n-      // The label column for base binary classifier of OneVsRest will not be retained during\n-      // model transformation, so we should not handle label column metadata as well.\n-      if (dataset.schema.fieldNames.contains($(labelCol))) {\n-        // determine number of classes either from metadata if provided.\n-        val labelSchema = dataset.schema($(labelCol))\n-        // extract label metadata from label column if present, or create a nominal attribute\n-        // to output the number of labels\n-        val labelAttribute = Attribute.fromStructField(labelSchema) match {\n-          case _: NumericAttribute | UnresolvedAttribute =>\n-            NominalAttribute.defaultAttr.withName(\"label\").withNumValues(numClasses)\n-          case attr: Attribute => attr\n-        }\n-        outputData = outputData.withColumn(getPredictionCol, predUDF, labelAttribute.toMetadata)\n-      } else {\n-        outputData = outputData.withColumn(getPredictionCol, predUDF)\n-      }\n+      outputData = outputData.withColumn($(predictionCol), predUDF, predictionMetadata)"
  }],
  "prId": 12066
}, {
  "comments": [{
    "author": {
      "login": "jkbradley"
    },
    "body": "Set `predictionMetadata.withName(getPredictionCol)`\n",
    "commit": "449f824fa633ea5b742af8cc8a078cd1561178f5",
    "createdAt": "2016-04-29T17:59:04Z",
    "diffHunk": "@@ -137,7 +138,7 @@ abstract class ProbabilisticClassificationModel[\n         }\n         predictUDF(col($(featuresCol)))\n       }\n-      outputData = outputData.withColumn($(predictionCol), predUDF)\n+      outputData = outputData.withColumn($(predictionCol), predUDF, predictionMetadata)",
    "line": 30
  }, {
    "author": {
      "login": "yanboliang"
    },
    "body": "Ditto.\n",
    "commit": "449f824fa633ea5b742af8cc8a078cd1561178f5",
    "createdAt": "2016-05-03T13:19:11Z",
    "diffHunk": "@@ -137,7 +138,7 @@ abstract class ProbabilisticClassificationModel[\n         }\n         predictUDF(col($(featuresCol)))\n       }\n-      outputData = outputData.withColumn($(predictionCol), predUDF)\n+      outputData = outputData.withColumn($(predictionCol), predUDF, predictionMetadata)",
    "line": 30
  }],
  "prId": 12066
}]