[{
  "comments": [{
    "author": {
      "login": "srowen"
    },
    "body": "Rather than call `.toArray` and `.zipped` below, can this not be written as Vector - Vector in the loop below? might be more efficient.",
    "commit": "0effc85ccfc831bcc4c469b4a4c1d8db26fab72e",
    "createdAt": "2018-10-27T19:51:24Z",
    "diffHunk": "@@ -49,7 +50,16 @@ class PCA @Since(\"1.4.0\") (@Since(\"1.4.0\") val k: Int) {\n       \"Try reducing the parameter k for PCA, or reduce the input feature \" +\n       \"vector dimension to make this tractable.\")\n \n-    val mat = new RowMatrix(sources)\n+    val mat = if (numFeatures > 65535) {\n+      val meanVector = Statistics.colStats(sources).mean"
  }, {
    "author": {
      "login": "shahidki31"
    },
    "body": "I have modified. Thanks",
    "commit": "0effc85ccfc831bcc4c469b4a4c1d8db26fab72e",
    "createdAt": "2018-10-27T23:05:57Z",
    "diffHunk": "@@ -49,7 +50,16 @@ class PCA @Since(\"1.4.0\") (@Since(\"1.4.0\") val k: Int) {\n       \"Try reducing the parameter k for PCA, or reduce the input feature \" +\n       \"vector dimension to make this tractable.\")\n \n-    val mat = new RowMatrix(sources)\n+    val mat = if (numFeatures > 65535) {\n+      val meanVector = Statistics.colStats(sources).mean"
  }, {
    "author": {
      "login": "srowen"
    },
    "body": "Ah, another small nit: what about computing `meanVector.asBreeze` only once?",
    "commit": "0effc85ccfc831bcc4c469b4a4c1d8db26fab72e",
    "createdAt": "2018-10-28T22:57:36Z",
    "diffHunk": "@@ -49,7 +50,16 @@ class PCA @Since(\"1.4.0\") (@Since(\"1.4.0\") val k: Int) {\n       \"Try reducing the parameter k for PCA, or reduce the input feature \" +\n       \"vector dimension to make this tractable.\")\n \n-    val mat = new RowMatrix(sources)\n+    val mat = if (numFeatures > 65535) {\n+      val meanVector = Statistics.colStats(sources).mean"
  }, {
    "author": {
      "login": "shahidki31"
    },
    "body": "Thank you @srowen . I have updated.",
    "commit": "0effc85ccfc831bcc4c469b4a4c1d8db26fab72e",
    "createdAt": "2018-10-29T03:23:22Z",
    "diffHunk": "@@ -49,7 +50,16 @@ class PCA @Since(\"1.4.0\") (@Since(\"1.4.0\") val k: Int) {\n       \"Try reducing the parameter k for PCA, or reduce the input feature \" +\n       \"vector dimension to make this tractable.\")\n \n-    val mat = new RowMatrix(sources)\n+    val mat = if (numFeatures > 65535) {\n+      val meanVector = Statistics.colStats(sources).mean"
  }],
  "prId": 22784
}]