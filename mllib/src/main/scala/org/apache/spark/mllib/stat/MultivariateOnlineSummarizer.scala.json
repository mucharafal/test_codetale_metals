[{
  "comments": [{
    "author": {
      "login": "jkbradley"
    },
    "body": "Change to: \"Unbiased estimate of sample variance\"\n",
    "commit": "f53436a64797efbd2a8e09059e3cd9e8447e00a5",
    "createdAt": "2015-09-14T19:24:03Z",
    "diffHunk": "@@ -158,28 +174,28 @@ class MultivariateOnlineSummarizer extends MultivariateStatisticalSummary with S\n    */\n   @Since(\"1.1.0\")\n   override def mean: Vector = {\n-    require(totalCnt > 0, s\"Nothing has been added to this summarizer.\")\n+    require(weightSum > 0, s\"Nothing has been added to this summarizer.\")\n \n     val realMean = Array.ofDim[Double](n)\n     var i = 0\n     while (i < n) {\n-      realMean(i) = currMean(i) * (nnz(i) / totalCnt)\n+      realMean(i) = currMean(i) * (nnz(i) / weightSum)\n       i += 1\n     }\n     Vectors.dense(realMean)\n   }\n \n   /**\n-   * Sample variance of each dimension.\n+   * Sample unbiased estimation of variance of each dimension."
  }, {
    "author": {
      "login": "dbtsai"
    },
    "body": "I would like to deprecate sample and use instance instead. What do you guys think?\n",
    "commit": "f53436a64797efbd2a8e09059e3cd9e8447e00a5",
    "createdAt": "2015-09-14T19:33:25Z",
    "diffHunk": "@@ -158,28 +174,28 @@ class MultivariateOnlineSummarizer extends MultivariateStatisticalSummary with S\n    */\n   @Since(\"1.1.0\")\n   override def mean: Vector = {\n-    require(totalCnt > 0, s\"Nothing has been added to this summarizer.\")\n+    require(weightSum > 0, s\"Nothing has been added to this summarizer.\")\n \n     val realMean = Array.ofDim[Double](n)\n     var i = 0\n     while (i < n) {\n-      realMean(i) = currMean(i) * (nnz(i) / totalCnt)\n+      realMean(i) = currMean(i) * (nnz(i) / weightSum)\n       i += 1\n     }\n     Vectors.dense(realMean)\n   }\n \n   /**\n-   * Sample variance of each dimension.\n+   * Sample unbiased estimation of variance of each dimension."
  }],
  "prId": 7884
}]