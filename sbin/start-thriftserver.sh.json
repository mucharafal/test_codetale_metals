[{
  "comments": [{
    "author": {
      "login": "liancheng"
    },
    "body": "We should use `SUBMISSION_OPTS` and `APPLICATION_OPTS` here.\n",
    "commit": "8ef8751da568481b4abf3c87601bc2a16115d7c3",
    "createdAt": "2014-08-19T09:45:12Z",
    "diffHunk": "@@ -43,36 +47,9 @@ function usage {\n   $FWDIR/bin/spark-class $CLASS --help 2>&1 | grep -v \"$pattern\" 1>&2\n }\n \n-function ensure_arg_number {\n-  arg_number=$1\n-  at_least=$2\n-\n-  if [[ $arg_number -lt $at_least ]]; then\n-    usage\n-    exit 1\n-  fi\n-}\n-\n-if [[ \"$@\" = --help ]] || [[ \"$@\" = -h ]]; then\n+if [[ \"$@\" = *--help ]] || [[ \"$@\" = *-h ]]; then\n   usage\n   exit 0\n fi\n \n-THRIFT_SERVER_ARGS=()\n-SUBMISSION_ARGS=()\n-\n-while (($#)); do\n-  case $1 in\n-    --hiveconf)\n-      ensure_arg_number $# 2\n-      THRIFT_SERVER_ARGS+=(\"$1\"); shift\n-      THRIFT_SERVER_ARGS+=(\"$1\"); shift\n-      ;;\n-\n-    *)\n-      SUBMISSION_ARGS+=(\"$1\"); shift\n-      ;;\n-  esac\n-done\n-\n-exec \"$FWDIR\"/bin/spark-submit --class $CLASS \"${SUBMISSION_ARGS[@]}\" spark-internal \"${THRIFT_SERVER_ARGS[@]}\"\n+\"$FWDIR\"/bin/spark-submit --class $CLASS \"${SUBMISSION_ARGS[@]}\" spark-internal \"${THRIFT_SERVER_ARGS[@]}\""
  }],
  "prId": 1886
}]