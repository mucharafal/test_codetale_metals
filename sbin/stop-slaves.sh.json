[{
  "comments": [{
    "author": {
      "login": "andrewor14"
    },
    "body": "I don't think we need to change the stop part. I would just revert this to avoid introducing another script.\n",
    "commit": "cf5f47e8507a1fc1e17e09f660166fda0cc402d4",
    "createdAt": "2015-04-09T23:40:58Z",
    "diffHunk": "@@ -29,10 +29,4 @@ if [ -e \"$sbin\"/../tachyon/bin/tachyon ]; then\n   \"$sbin/slaves.sh\" cd \"$SPARK_HOME\" \\; \"$sbin\"/../tachyon/bin/tachyon killAll tachyon.worker.Worker\n fi\n \n-if [ \"$SPARK_WORKER_INSTANCES\" = \"\" ]; then\n-  \"$sbin\"/spark-daemons.sh stop org.apache.spark.deploy.worker.Worker 1\n-else\n-  for ((i=0; i<$SPARK_WORKER_INSTANCES; i++)); do\n-    \"$sbin\"/spark-daemons.sh stop org.apache.spark.deploy.worker.Worker $(( $i + 1 ))\n-  done\n-fi\n+\"$sbin/slaves.sh\" cd \"$SPARK_HOME\" \\; \"$sbin\"/stop-slave.sh",
    "line": 22
  }, {
    "author": {
      "login": "nkronenfeld"
    },
    "body": "Yeah, you do need to change the stop part - you need this to run on the slave, rather than on the master - hence the need for another script, since stop-slaves is run on the master.\n",
    "commit": "cf5f47e8507a1fc1e17e09f660166fda0cc402d4",
    "createdAt": "2015-04-10T03:27:04Z",
    "diffHunk": "@@ -29,10 +29,4 @@ if [ -e \"$sbin\"/../tachyon/bin/tachyon ]; then\n   \"$sbin/slaves.sh\" cd \"$SPARK_HOME\" \\; \"$sbin\"/../tachyon/bin/tachyon killAll tachyon.worker.Worker\n fi\n \n-if [ \"$SPARK_WORKER_INSTANCES\" = \"\" ]; then\n-  \"$sbin\"/spark-daemons.sh stop org.apache.spark.deploy.worker.Worker 1\n-else\n-  for ((i=0; i<$SPARK_WORKER_INSTANCES; i++)); do\n-    \"$sbin\"/spark-daemons.sh stop org.apache.spark.deploy.worker.Worker $(( $i + 1 ))\n-  done\n-fi\n+\"$sbin/slaves.sh\" cd \"$SPARK_HOME\" \\; \"$sbin\"/stop-slave.sh",
    "line": 22
  }, {
    "author": {
      "login": "andrewor14"
    },
    "body": "I see, if you run only start on the slave you can't stop it from the same machine otherwise.\n",
    "commit": "cf5f47e8507a1fc1e17e09f660166fda0cc402d4",
    "createdAt": "2015-04-13T23:32:35Z",
    "diffHunk": "@@ -29,10 +29,4 @@ if [ -e \"$sbin\"/../tachyon/bin/tachyon ]; then\n   \"$sbin/slaves.sh\" cd \"$SPARK_HOME\" \\; \"$sbin\"/../tachyon/bin/tachyon killAll tachyon.worker.Worker\n fi\n \n-if [ \"$SPARK_WORKER_INSTANCES\" = \"\" ]; then\n-  \"$sbin\"/spark-daemons.sh stop org.apache.spark.deploy.worker.Worker 1\n-else\n-  for ((i=0; i<$SPARK_WORKER_INSTANCES; i++)); do\n-    \"$sbin\"/spark-daemons.sh stop org.apache.spark.deploy.worker.Worker $(( $i + 1 ))\n-  done\n-fi\n+\"$sbin/slaves.sh\" cd \"$SPARK_HOME\" \\; \"$sbin\"/stop-slave.sh",
    "line": 22
  }],
  "prId": 5140
}]