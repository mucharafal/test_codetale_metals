[{
  "comments": [{
    "author": {
      "login": "JoshRosen"
    },
    "body": "I'm not a bash expert, so I'm curious: does the nesting of double quotes work properly here?  Here, we have double quotes inside of the `${}` and surrounding it, too.\n",
    "commit": "c3f31e04dcaa43befe64907b77dfc1aa18006385",
    "createdAt": "2014-10-02T03:04:45Z",
    "diffHunk": "@@ -33,7 +33,7 @@ this=\"$config_bin/$script\"\n \n export SPARK_PREFIX=\"`dirname \"$this\"`\"/..\n export SPARK_HOME=\"${SPARK_PREFIX}\"\n-export SPARK_CONF_DIR=\"$SPARK_HOME/conf\"\n+export SPARK_CONF_DIR=\"${SPARK_CONF_DIR:-\"$SPARK_HOME/conf\"}\"",
    "line": 5
  }, {
    "author": {
      "login": "andrewor14"
    },
    "body": "I think it's fine. The outer double quotes guarantee that the end result (whatever the user `SPARK_CONF_DIR` is set to) is also safe.\n",
    "commit": "c3f31e04dcaa43befe64907b77dfc1aa18006385",
    "createdAt": "2014-10-03T17:24:49Z",
    "diffHunk": "@@ -33,7 +33,7 @@ this=\"$config_bin/$script\"\n \n export SPARK_PREFIX=\"`dirname \"$this\"`\"/..\n export SPARK_HOME=\"${SPARK_PREFIX}\"\n-export SPARK_CONF_DIR=\"$SPARK_HOME/conf\"\n+export SPARK_CONF_DIR=\"${SPARK_CONF_DIR:-\"$SPARK_HOME/conf\"}\"",
    "line": 5
  }],
  "prId": 2541
}]