[{
  "comments": [{
    "author": {
      "login": "andrewor14"
    },
    "body": "It seems that we don't even need this file if we're doing this. We can just export the `PYTHONPATH` inside the mesos backend classes themselves.\n",
    "commit": "7917a668d5fdf7868d3dff8fdf9c7fb3ce01be41",
    "createdAt": "2014-08-26T20:43:47Z",
    "diffHunk": "@@ -17,10 +17,10 @@\n # limitations under the License.\n #\n \n+#\n+# This script is only used for fine grained Mesos executors\n+\n FWDIR=\"$(cd `dirname $0`/..; pwd)\"\n \n export PYTHONPATH=$FWDIR/python:$PYTHONPATH\n export PYTHONPATH=$FWDIR/python/lib/py4j-0.8.2.1-src.zip:$PYTHONPATH\n-\n-echo \"Running spark-executor with framework dir = $FWDIR\"\n-exec $FWDIR/bin/spark-class org.apache.spark.executor.MesosExecutorBackend",
    "line": 13
  }, {
    "author": {
      "login": "liancheng"
    },
    "body": "I tried to, but still left this file here because it seemed non-trivial to figure out `$FWDIR` from Scala code.\n",
    "commit": "7917a668d5fdf7868d3dff8fdf9c7fb3ce01be41",
    "createdAt": "2014-08-26T20:49:59Z",
    "diffHunk": "@@ -17,10 +17,10 @@\n # limitations under the License.\n #\n \n+#\n+# This script is only used for fine grained Mesos executors\n+\n FWDIR=\"$(cd `dirname $0`/..; pwd)\"\n \n export PYTHONPATH=$FWDIR/python:$PYTHONPATH\n export PYTHONPATH=$FWDIR/python/lib/py4j-0.8.2.1-src.zip:$PYTHONPATH\n-\n-echo \"Running spark-executor with framework dir = $FWDIR\"\n-exec $FWDIR/bin/spark-class org.apache.spark.executor.MesosExecutorBackend",
    "line": 13
  }, {
    "author": {
      "login": "pwendell"
    },
    "body": "We can use `sparkHome`... we need it anyways to find this script.\n",
    "commit": "7917a668d5fdf7868d3dff8fdf9c7fb3ce01be41",
    "createdAt": "2014-08-26T20:54:46Z",
    "diffHunk": "@@ -17,10 +17,10 @@\n # limitations under the License.\n #\n \n+#\n+# This script is only used for fine grained Mesos executors\n+\n FWDIR=\"$(cd `dirname $0`/..; pwd)\"\n \n export PYTHONPATH=$FWDIR/python:$PYTHONPATH\n export PYTHONPATH=$FWDIR/python/lib/py4j-0.8.2.1-src.zip:$PYTHONPATH\n-\n-echo \"Running spark-executor with framework dir = $FWDIR\"\n-exec $FWDIR/bin/spark-class org.apache.spark.executor.MesosExecutorBackend",
    "line": 13
  }, {
    "author": {
      "login": "liancheng"
    },
    "body": "But `sparkHome` is driver side Spark home directory, which can't be used on driver side to assemble the Mesos executor side command line. On the other side, `sbin/mesos-pyenv.sh` is always executed on Mesos executor side, thus `$FWDIR` always points to the right position.\n",
    "commit": "7917a668d5fdf7868d3dff8fdf9c7fb3ce01be41",
    "createdAt": "2014-08-26T22:22:16Z",
    "diffHunk": "@@ -17,10 +17,10 @@\n # limitations under the License.\n #\n \n+#\n+# This script is only used for fine grained Mesos executors\n+\n FWDIR=\"$(cd `dirname $0`/..; pwd)\"\n \n export PYTHONPATH=$FWDIR/python:$PYTHONPATH\n export PYTHONPATH=$FWDIR/python/lib/py4j-0.8.2.1-src.zip:$PYTHONPATH\n-\n-echo \"Running spark-executor with framework dir = $FWDIR\"\n-exec $FWDIR/bin/spark-class org.apache.spark.executor.MesosExecutorBackend",
    "line": 13
  }],
  "prId": 2145
}]