[{
  "comments": [{
    "author": {
      "login": "pwendell"
    },
    "body": "jw - what does it mean to nest quotes inside of other quotes like this? \n",
    "commit": "960711a54738c3e81d9a080566c5670d37fa9300",
    "createdAt": "2015-01-28T10:15:22Z",
    "diffHunk": "@@ -20,6 +20,6 @@\n \n # Preserve the user's CWD so that relative paths are passed correctly to \n #+ the underlying Python script.\n-SPARK_EC2_DIR=\"$(dirname $0)\"\n+SPARK_EC2_DIR=\"$(dirname \"$0\")\"",
    "line": 5
  }, {
    "author": {
      "login": "nchammas"
    },
    "body": "`$()` invokes a subshell, so the quotes inside the subshell are processed independently of those outside.\n\nSo here we're making sure `dirname` gets exactly 1 argument by quoting the `$0`, in case the value of `$0` has spaces.\n\nThen, we're making sure the output of `dirname` in turn is captured as 1 argument when passed to `SPARK_EC2_DIR` by quoting the whole subshell, in case that output has spaces.\n\nWelcome to the most deceptive feature of Bash: [Word Splitting](http://mywiki.wooledge.org/WordSplitting).\n",
    "commit": "960711a54738c3e81d9a080566c5670d37fa9300",
    "createdAt": "2015-01-28T16:19:44Z",
    "diffHunk": "@@ -20,6 +20,6 @@\n \n # Preserve the user's CWD so that relative paths are passed correctly to \n #+ the underlying Python script.\n-SPARK_EC2_DIR=\"$(dirname $0)\"\n+SPARK_EC2_DIR=\"$(dirname \"$0\")\"",
    "line": 5
  }],
  "prId": 4224
}]