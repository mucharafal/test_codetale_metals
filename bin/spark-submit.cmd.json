[{
  "comments": [{
    "author": {
      "login": "pwendell"
    },
    "body": "We should make sure this works with quoted strings. E.g. `spark-submit --name \"this is a cool app\"`\n",
    "commit": "c0b58fb01fa7b821b94ea513ee4233219d3f0177",
    "createdAt": "2014-05-12T22:59:48Z",
    "diffHunk": "@@ -0,0 +1,56 @@\n+@echo off\n+\n+rem\n+rem Licensed to the Apache Software Foundation (ASF) under one or more\n+rem contributor license agreements.  See the NOTICE file distributed with\n+rem this work for additional information regarding copyright ownership.\n+rem The ASF licenses this file to You under the Apache License, Version 2.0\n+rem (the \"License\"); you may not use this file except in compliance with\n+rem the License.  You may obtain a copy of the License at\n+rem\n+rem    http://www.apache.org/licenses/LICENSE-2.0\n+rem\n+rem Unless required by applicable law or agreed to in writing, software\n+rem distributed under the License is distributed on an \"AS IS\" BASIS,\n+rem WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+rem See the License for the specific language governing permissions and\n+rem limitations under the License.\n+rem\n+\n+set SPARK_HOME=%~dp0..\n+set ORIG_ARGS=%*\n+\n+rem Clear the values of all variables used\n+set DEPLOY_MODE=\n+set DRIVER_MEMORY=\n+set SPARK_SUBMIT_LIBRARY_PATH=\n+set SPARK_SUBMIT_CLASSPATH=\n+set SPARK_SUBMIT_OPTS=\n+set SPARK_MEM=\n+\n+:loop\n+if \"%1\"==\"\" goto continue\n+  if \"%1\"==\"--deploy-mode\" (\n+    set DEPLOY_MODE=%2\n+  ) else if \"%1\"==\"--driver-memory\" (\n+    set DRIVER_MEMORY=%2\n+  ) else if \"%1\"==\"--driver-library-path\" (\n+    set SPARK_SUBMIT_LIBRARY_PATH=%2\n+  ) else if \"%1\"==\"--driver-class-path\" (\n+    set SPARK_SUBMIT_CLASSPATH=%2\n+  ) else if \"%1\"==\"--driver-java-options\" (\n+    set SPARK_SUBMIT_OPTS=%2\n+  )\n+  shift\n+goto loop\n+:continue\n+\n+if \"%DEPLOY_MODE%\"==\"\" (\n+  set DEPLOY_MODE=client\n+)\n+\n+if not \"%DRIVER_MEMORY%\"==\"\" if \"%DEPLOY_MODE%\"==\"client\" (\n+  set SPARK_MEM=%DRIVER_MEMORY%\n+)\n+\n+cmd /V /E /C %SPARK_HOME%\\bin\\spark-class.cmd org.apache.spark.deploy.SparkSubmit %ORIG_ARGS%"
  }, {
    "author": {
      "login": "andrewor14"
    },
    "body": "The existing code on this line already takes care of that. It just breaks when we do a string check for emptiness before. The latest commit fixes this.\n",
    "commit": "c0b58fb01fa7b821b94ea513ee4233219d3f0177",
    "createdAt": "2014-05-13T00:24:14Z",
    "diffHunk": "@@ -0,0 +1,56 @@\n+@echo off\n+\n+rem\n+rem Licensed to the Apache Software Foundation (ASF) under one or more\n+rem contributor license agreements.  See the NOTICE file distributed with\n+rem this work for additional information regarding copyright ownership.\n+rem The ASF licenses this file to You under the Apache License, Version 2.0\n+rem (the \"License\"); you may not use this file except in compliance with\n+rem the License.  You may obtain a copy of the License at\n+rem\n+rem    http://www.apache.org/licenses/LICENSE-2.0\n+rem\n+rem Unless required by applicable law or agreed to in writing, software\n+rem distributed under the License is distributed on an \"AS IS\" BASIS,\n+rem WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+rem See the License for the specific language governing permissions and\n+rem limitations under the License.\n+rem\n+\n+set SPARK_HOME=%~dp0..\n+set ORIG_ARGS=%*\n+\n+rem Clear the values of all variables used\n+set DEPLOY_MODE=\n+set DRIVER_MEMORY=\n+set SPARK_SUBMIT_LIBRARY_PATH=\n+set SPARK_SUBMIT_CLASSPATH=\n+set SPARK_SUBMIT_OPTS=\n+set SPARK_MEM=\n+\n+:loop\n+if \"%1\"==\"\" goto continue\n+  if \"%1\"==\"--deploy-mode\" (\n+    set DEPLOY_MODE=%2\n+  ) else if \"%1\"==\"--driver-memory\" (\n+    set DRIVER_MEMORY=%2\n+  ) else if \"%1\"==\"--driver-library-path\" (\n+    set SPARK_SUBMIT_LIBRARY_PATH=%2\n+  ) else if \"%1\"==\"--driver-class-path\" (\n+    set SPARK_SUBMIT_CLASSPATH=%2\n+  ) else if \"%1\"==\"--driver-java-options\" (\n+    set SPARK_SUBMIT_OPTS=%2\n+  )\n+  shift\n+goto loop\n+:continue\n+\n+if \"%DEPLOY_MODE%\"==\"\" (\n+  set DEPLOY_MODE=client\n+)\n+\n+if not \"%DRIVER_MEMORY%\"==\"\" if \"%DEPLOY_MODE%\"==\"client\" (\n+  set SPARK_MEM=%DRIVER_MEMORY%\n+)\n+\n+cmd /V /E /C %SPARK_HOME%\\bin\\spark-class.cmd org.apache.spark.deploy.SparkSubmit %ORIG_ARGS%"
  }],
  "prId": 745
}]