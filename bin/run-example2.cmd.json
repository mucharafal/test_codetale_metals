[{
  "comments": [{
    "author": {
      "login": "andrewor14"
    },
    "body": "small nit: it's not clear what the notation `[<example-args>]` means. How about just `[example-args]`\n",
    "commit": "d558f960d8b7fd1d92e0ff8d34b6d6b60f52e94f",
    "createdAt": "2014-05-19T04:05:29Z",
    "diffHunk": "@@ -30,7 +30,9 @@ if exist \"%FWDIR%conf\\spark-env.cmd\" call \"%FWDIR%conf\\spark-env.cmd\"\n \n rem Test that an argument was given\n if not \"x%1\"==\"x\" goto arg_given\n-  echo Usage: run-example ^<example-class^> [^<args^>]\n+  echo Usage: run-example ^<example-class^> [^<example-args^>]"
  }],
  "prId": 819
}, {
  "comments": [{
    "author": {
      "login": "andrewor14"
    },
    "body": "Same here\n",
    "commit": "d558f960d8b7fd1d92e0ff8d34b6d6b60f52e94f",
    "createdAt": "2014-05-19T04:14:59Z",
    "diffHunk": "@@ -47,15 +55,34 @@ if \"x%SPARK_EXAMPLES_JAR%\"==\"x\" (\n   goto exit\n )\n \n-rem Compute Spark classpath using external script\n-set DONT_PRINT_CLASSPATH=1\n-call \"%FWDIR%bin\\compute-classpath.cmd\"\n-set DONT_PRINT_CLASSPATH=0\n-set CLASSPATH=%SPARK_EXAMPLES_JAR%;%CLASSPATH%\n+rem Set master from MASTER environment variable if given\n+if \"x%MASTER%\"==\"x\" (\n+  set EXAMPLE_MASTER=local[*]\n+) else (\n+  set EXAMPLE_MASTER=%MASTER%\n+)\n+\n+rem If the EXAMPLE_CLASS does not start with org.apache.spark.examples, add that\n+set EXAMPLE_CLASS=%1\n+set PREFIX=%EXAMPLE_CLASS:~0,25%\n+if not %PREFIX%==org.apache.spark.examples (\n+  set EXAMPLE_CLASS=org.apache.spark.examples.%EXAMPLE_CLASS%\n+)\n+\n+rem Get the tail of the argument list, to skip the first one. This is surprisingly\n+rem complicated on Windows.\n+set \"ARGS=\"\n+:top\n+shift\n+if \"%~1\" neq \"\" (\n+  set ARGS=%ARGS% \"%~1\"\n+  goto :top\n+)\n+if defined ARGS set ARGS=%ARGS:~1%\n \n-rem Figure out where java is.\n-set RUNNER=java\n-if not \"x%JAVA_HOME%\"==\"x\" set RUNNER=%JAVA_HOME%\\bin\\java\n+call \"%FWDIR%bin\\spark-submit.cmd\" ^\n+  --master %EXAMPLE_MASTER% ^",
    "line": 66
  }],
  "prId": 819
}, {
  "comments": [{
    "author": {
      "login": "andrewor14"
    },
    "body": "Same here\n",
    "commit": "d558f960d8b7fd1d92e0ff8d34b6d6b60f52e94f",
    "createdAt": "2014-05-19T04:15:31Z",
    "diffHunk": "@@ -30,7 +30,9 @@ if exist \"%FWDIR%conf\\spark-env.cmd\" call \"%FWDIR%conf\\spark-env.cmd\"\n \n rem Test that an argument was given\n if not \"x%1\"==\"x\" goto arg_given\n-  echo Usage: run-example ^<example-class^> [^<args^>]\n+  echo Usage: run-example ^<example-class^> [^<example-args^>]\n+  echo   - set MASTER=XX to use a specific master"
  }],
  "prId": 819
}]