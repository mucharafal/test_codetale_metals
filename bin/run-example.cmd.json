[{
  "comments": [{
    "author": {
      "login": "felixcheung"
    },
    "body": "I'm not sure if python would be the right one (python2, python3, is it in PATH)?\r\nand I don't think `cmd /c foo.py` works either",
    "commit": "b58f74054f9c02b0548254984dfe46516fe14e18",
    "createdAt": "2017-09-28T06:04:38Z",
    "diffHunk": "@@ -17,6 +17,13 @@ rem See the License for the specific language governing permissions and\n rem limitations under the License.\n rem\n \n-set SPARK_HOME=%~dp0..\n+rem Figure out where the Spark framework is installed\n+set FIND_SPARK_HOME_SCRIPT=%~dp0find_spark_home.py\n+if exist \"%FIND_SPARK_HOME_SCRIPT%\" (\n+  for /f %%i in ('python %FIND_SPARK_HOME_SCRIPT%') do set SPARK_HOME=%%i"
  }, {
    "author": {
      "login": "jsnowacki"
    },
    "body": "The assumption was that if `find_spark_home.py` can be found in the local folder, this will be a good setup. While I think `find_spark_home.py` with any Python version (well, at least modern 2 and 3), indeed this not takes into account case that the python is just not there at all.",
    "commit": "b58f74054f9c02b0548254984dfe46516fe14e18",
    "createdAt": "2017-09-28T12:15:37Z",
    "diffHunk": "@@ -17,6 +17,13 @@ rem See the License for the specific language governing permissions and\n rem limitations under the License.\n rem\n \n-set SPARK_HOME=%~dp0..\n+rem Figure out where the Spark framework is installed\n+set FIND_SPARK_HOME_SCRIPT=%~dp0find_spark_home.py\n+if exist \"%FIND_SPARK_HOME_SCRIPT%\" (\n+  for /f %%i in ('python %FIND_SPARK_HOME_SCRIPT%') do set SPARK_HOME=%%i"
  }, {
    "author": {
      "login": "felixcheung"
    },
    "body": "I guess python is generally expected on *nix but quite possibly absent on Windows.\r\n",
    "commit": "b58f74054f9c02b0548254984dfe46516fe14e18",
    "createdAt": "2017-09-28T17:25:42Z",
    "diffHunk": "@@ -17,6 +17,13 @@ rem See the License for the specific language governing permissions and\n rem limitations under the License.\n rem\n \n-set SPARK_HOME=%~dp0..\n+rem Figure out where the Spark framework is installed\n+set FIND_SPARK_HOME_SCRIPT=%~dp0find_spark_home.py\n+if exist \"%FIND_SPARK_HOME_SCRIPT%\" (\n+  for /f %%i in ('python %FIND_SPARK_HOME_SCRIPT%') do set SPARK_HOME=%%i"
  }],
  "prId": 19370
}, {
  "comments": [{
    "author": {
      "login": "HyukjinKwon"
    },
    "body": "Shouldn't we change this one too?",
    "commit": "b58f74054f9c02b0548254984dfe46516fe14e18",
    "createdAt": "2017-10-03T01:46:58Z",
    "diffHunk": "@@ -17,6 +17,13 @@ rem See the License for the specific language governing permissions and\n rem limitations under the License.\n rem\n \n-set SPARK_HOME=%~dp0..\n+rem Figure out where the Spark framework is installed\n+set FIND_SPARK_HOME_SCRIPT=%~dp0find_spark_home.py"
  }, {
    "author": {
      "login": "jsnowacki"
    },
    "body": "Yes, indeed, fixing.",
    "commit": "b58f74054f9c02b0548254984dfe46516fe14e18",
    "createdAt": "2017-10-03T07:48:26Z",
    "diffHunk": "@@ -17,6 +17,13 @@ rem See the License for the specific language governing permissions and\n rem limitations under the License.\n rem\n \n-set SPARK_HOME=%~dp0..\n+rem Figure out where the Spark framework is installed\n+set FIND_SPARK_HOME_SCRIPT=%~dp0find_spark_home.py"
  }],
  "prId": 19370
}]