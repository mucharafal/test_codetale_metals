[{
  "comments": [{
    "author": {
      "login": "HyukjinKwon"
    },
    "body": "Separate script is required. Otherwise, it will actually mess up the env and keep the environment variable, `SPARK_HOME` even after the execution in the prompt. See SPARK-3943 and I also manually tested.",
    "commit": "4bee96eca155de11304e026c4b9d085a4ca371f0",
    "createdAt": "2017-11-24T03:06:17Z",
    "diffHunk": "@@ -0,0 +1,25 @@\n+@echo off\n+\n+rem\n+rem Licensed to the Apache Software Foundation (ASF) under one or more\n+rem contributor license agreements.  See the NOTICE file distributed with\n+rem this work for additional information regarding copyright ownership.\n+rem The ASF licenses this file to You under the Apache License, Version 2.0\n+rem (the \"License\"); you may not use this file except in compliance with\n+rem the License.  You may obtain a copy of the License at\n+rem\n+rem    http://www.apache.org/licenses/LICENSE-2.0\n+rem\n+rem Unless required by applicable law or agreed to in writing, software\n+rem distributed under the License is distributed on an \"AS IS\" BASIS,\n+rem WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+rem See the License for the specific language governing permissions and\n+rem limitations under the License.\n+rem\n+\n+rem This is the entry point for running SparkSQL. To avoid polluting the\n+rem environment, it just launches a new cmd to do the real work.\n+\n+rem The outermost quotes are used to prevent Windows command line parse error\n+rem when there are some quotes in parameters, see SPARK-21877.\n+cmd /V /E /C \"\"%~dp0spark-sql2.cmd\" %*\"",
    "line": 25
  }, {
    "author": {
      "login": "cloud-fan"
    },
    "body": "just for curious, why does the shell script not need a seprated script?",
    "commit": "4bee96eca155de11304e026c4b9d085a4ca371f0",
    "createdAt": "2017-11-24T11:15:43Z",
    "diffHunk": "@@ -0,0 +1,25 @@\n+@echo off\n+\n+rem\n+rem Licensed to the Apache Software Foundation (ASF) under one or more\n+rem contributor license agreements.  See the NOTICE file distributed with\n+rem this work for additional information regarding copyright ownership.\n+rem The ASF licenses this file to You under the Apache License, Version 2.0\n+rem (the \"License\"); you may not use this file except in compliance with\n+rem the License.  You may obtain a copy of the License at\n+rem\n+rem    http://www.apache.org/licenses/LICENSE-2.0\n+rem\n+rem Unless required by applicable law or agreed to in writing, software\n+rem distributed under the License is distributed on an \"AS IS\" BASIS,\n+rem WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+rem See the License for the specific language governing permissions and\n+rem limitations under the License.\n+rem\n+\n+rem This is the entry point for running SparkSQL. To avoid polluting the\n+rem environment, it just launches a new cmd to do the real work.\n+\n+rem The outermost quotes are used to prevent Windows command line parse error\n+rem when there are some quotes in parameters, see SPARK-21877.\n+cmd /V /E /C \"\"%~dp0spark-sql2.cmd\" %*\"",
    "line": 25
  }, {
    "author": {
      "login": "HyukjinKwon"
    },
    "body": "AFAIK, `export` in bash affects its subprocesses so it doesn't affect the parent. I somehow knew this but .. haven't thought deeply before. I think this is just a difference between OSes, maybe missing concept of forking on Windows. ",
    "commit": "4bee96eca155de11304e026c4b9d085a4ca371f0",
    "createdAt": "2017-11-24T11:38:51Z",
    "diffHunk": "@@ -0,0 +1,25 @@\n+@echo off\n+\n+rem\n+rem Licensed to the Apache Software Foundation (ASF) under one or more\n+rem contributor license agreements.  See the NOTICE file distributed with\n+rem this work for additional information regarding copyright ownership.\n+rem The ASF licenses this file to You under the Apache License, Version 2.0\n+rem (the \"License\"); you may not use this file except in compliance with\n+rem the License.  You may obtain a copy of the License at\n+rem\n+rem    http://www.apache.org/licenses/LICENSE-2.0\n+rem\n+rem Unless required by applicable law or agreed to in writing, software\n+rem distributed under the License is distributed on an \"AS IS\" BASIS,\n+rem WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+rem See the License for the specific language governing permissions and\n+rem limitations under the License.\n+rem\n+\n+rem This is the entry point for running SparkSQL. To avoid polluting the\n+rem environment, it just launches a new cmd to do the real work.\n+\n+rem The outermost quotes are used to prevent Windows command line parse error\n+rem when there are some quotes in parameters, see SPARK-21877.\n+cmd /V /E /C \"\"%~dp0spark-sql2.cmd\" %*\"",
    "line": 25
  }, {
    "author": {
      "login": "HyukjinKwon"
    },
    "body": "BTW, to be honest, I didn't know my little Windows env dev experience a long ago could be helpful to Spark at the end :).",
    "commit": "4bee96eca155de11304e026c4b9d085a4ca371f0",
    "createdAt": "2017-11-24T11:51:02Z",
    "diffHunk": "@@ -0,0 +1,25 @@\n+@echo off\n+\n+rem\n+rem Licensed to the Apache Software Foundation (ASF) under one or more\n+rem contributor license agreements.  See the NOTICE file distributed with\n+rem this work for additional information regarding copyright ownership.\n+rem The ASF licenses this file to You under the Apache License, Version 2.0\n+rem (the \"License\"); you may not use this file except in compliance with\n+rem the License.  You may obtain a copy of the License at\n+rem\n+rem    http://www.apache.org/licenses/LICENSE-2.0\n+rem\n+rem Unless required by applicable law or agreed to in writing, software\n+rem distributed under the License is distributed on an \"AS IS\" BASIS,\n+rem WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+rem See the License for the specific language governing permissions and\n+rem limitations under the License.\n+rem\n+\n+rem This is the entry point for running SparkSQL. To avoid polluting the\n+rem environment, it just launches a new cmd to do the real work.\n+\n+rem The outermost quotes are used to prevent Windows command line parse error\n+rem when there are some quotes in parameters, see SPARK-21877.\n+cmd /V /E /C \"\"%~dp0spark-sql2.cmd\" %*\"",
    "line": 25
  }],
  "prId": 19808
}]