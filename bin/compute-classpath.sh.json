[{
  "comments": [{
    "author": {
      "login": "vanzin"
    },
    "body": "Does the configuration dir need to be added to the classpath? The code, at least the part you're modifying below, doesn't seem to require that.\n",
    "commit": "186c97502c9c21a710ab9367b9e210f09b4ad21c",
    "createdAt": "2014-06-11T21:46:50Z",
    "diffHunk": "@@ -30,6 +30,11 @@ FWDIR=\"$(cd `dirname $0`/..; pwd)\"\n # Build up classpath\n CLASSPATH=\"$SPARK_CLASSPATH:$SPARK_SUBMIT_CLASSPATH:$FWDIR/conf\"\n \n+# If SPARK_CONF_DIR is defined give it preference over default conf in spark home\n+if [ -n \"$SPARK_CONF_DIR\" ]; then\n+  CLASSPATH=\"$SPARK_CONF_DIR:$CLASSPATH\"",
    "line": 6
  }, {
    "author": {
      "login": "EugenCepoi"
    },
    "body": "Indeed it's not used in the SparkSubmit, but this is done in order to provide the user defined config to the other components such as logging, Scheduler and metrics.\n",
    "commit": "186c97502c9c21a710ab9367b9e210f09b4ad21c",
    "createdAt": "2014-06-12T16:20:41Z",
    "diffHunk": "@@ -30,6 +30,11 @@ FWDIR=\"$(cd `dirname $0`/..; pwd)\"\n # Build up classpath\n CLASSPATH=\"$SPARK_CLASSPATH:$SPARK_SUBMIT_CLASSPATH:$FWDIR/conf\"\n \n+# If SPARK_CONF_DIR is defined give it preference over default conf in spark home\n+if [ -n \"$SPARK_CONF_DIR\" ]; then\n+  CLASSPATH=\"$SPARK_CONF_DIR:$CLASSPATH\"",
    "line": 6
  }, {
    "author": {
      "login": "lianhuiwang"
    },
    "body": "also i think in standalone mode,worker need to use config. so the classpath is useful.\n",
    "commit": "186c97502c9c21a710ab9367b9e210f09b4ad21c",
    "createdAt": "2014-07-18T03:51:37Z",
    "diffHunk": "@@ -30,6 +30,11 @@ FWDIR=\"$(cd `dirname $0`/..; pwd)\"\n # Build up classpath\n CLASSPATH=\"$SPARK_CLASSPATH:$SPARK_SUBMIT_CLASSPATH:$FWDIR/conf\"\n \n+# If SPARK_CONF_DIR is defined give it preference over default conf in spark home\n+if [ -n \"$SPARK_CONF_DIR\" ]; then\n+  CLASSPATH=\"$SPARK_CONF_DIR:$CLASSPATH\"",
    "line": 6
  }],
  "prId": 997
}]