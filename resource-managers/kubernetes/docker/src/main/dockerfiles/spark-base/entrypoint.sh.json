[{
  "comments": [{
    "author": {
      "login": "ueshin"
    },
    "body": "nit: ditto.",
    "commit": "cbcd30ea0a5eb75ed831f50707bc97035c0a3371",
    "createdAt": "2017-11-28T07:46:55Z",
    "diffHunk": "@@ -0,0 +1,37 @@\n+#!/bin/bash\n+#\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+#\n+\n+# echo commands to the terminal output\n+set -x\n+\n+# Check whether there is a passwd entry for the container UID\n+myuid=$(id -u)\n+mygid=$(id -g)\n+uidentry=$(getent passwd $myuid)\n+\n+# If there is no passwd entry for the container UID, attempt to create one\n+if [ -z \"$uidentry\" ] ; then\n+    if [ -w /etc/passwd ] ; then\n+        echo \"$myuid:x:$myuid:$mygid:anonymous uid:$SPARK_HOME:/bin/false\" >> /etc/passwd\n+    else\n+        echo \"Container ENTRYPOINT failed to add passwd entry for anonymous UID\"\n+    fi\n+fi\n+\n+# Execute the container CMD under tini for better hygiene\n+/sbin/tini -s -- \"$@\"",
    "line": 37
  }, {
    "author": {
      "login": "liyinan926"
    },
    "body": "Done.",
    "commit": "cbcd30ea0a5eb75ed831f50707bc97035c0a3371",
    "createdAt": "2017-11-28T16:34:58Z",
    "diffHunk": "@@ -0,0 +1,37 @@\n+#!/bin/bash\n+#\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+#\n+\n+# echo commands to the terminal output\n+set -x\n+\n+# Check whether there is a passwd entry for the container UID\n+myuid=$(id -u)\n+mygid=$(id -g)\n+uidentry=$(getent passwd $myuid)\n+\n+# If there is no passwd entry for the container UID, attempt to create one\n+if [ -z \"$uidentry\" ] ; then\n+    if [ -w /etc/passwd ] ; then\n+        echo \"$myuid:x:$myuid:$mygid:anonymous uid:$SPARK_HOME:/bin/false\" >> /etc/passwd\n+    else\n+        echo \"Container ENTRYPOINT failed to add passwd entry for anonymous UID\"\n+    fi\n+fi\n+\n+# Execute the container CMD under tini for better hygiene\n+/sbin/tini -s -- \"$@\"",
    "line": 37
  }],
  "prId": 19717
}, {
  "comments": [{
    "author": {
      "login": "felixcheung"
    },
    "body": "consider `set -ex`",
    "commit": "cbcd30ea0a5eb75ed831f50707bc97035c0a3371",
    "createdAt": "2017-12-02T18:48:47Z",
    "diffHunk": "@@ -0,0 +1,37 @@\n+#!/bin/bash\n+#\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+#\n+\n+# echo commands to the terminal output\n+set -x"
  }, {
    "author": {
      "login": "liyinan926"
    },
    "body": "Done.",
    "commit": "cbcd30ea0a5eb75ed831f50707bc97035c0a3371",
    "createdAt": "2017-12-04T06:51:33Z",
    "diffHunk": "@@ -0,0 +1,37 @@\n+#!/bin/bash\n+#\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+#\n+\n+# echo commands to the terminal output\n+set -x"
  }],
  "prId": 19717
}]