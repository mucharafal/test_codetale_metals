[{
  "comments": [{
    "author": {
      "login": "liyinan926"
    },
    "body": "Given the same code is used to configure both the driver and executor pods, it can be extracted out into a utility method in `KubernetesUtil`.",
    "commit": "0291f0f8401fe02a927504aca78d13d6ff5d4f55",
    "createdAt": "2018-03-13T18:20:14Z",
    "diffHunk": "@@ -108,6 +109,8 @@ private[spark] class ExecutorPodFactory(\n       nodeToLocalTaskCount: Map[String, Int]): Pod = {\n     val name = s\"$executorPodNamePrefix-exec-$executorId\"\n \n+    val imagePullSecrets = imagePullSecret.map(new LocalObjectReference(_)).toList"
  }, {
    "author": {
      "login": "andrusha"
    },
    "body": "@liyinan926 I made the change, but imo it looks a bit awkward, as what is done here is just type conversion `Option[String] ~> List[LocalObjectReference]` to make config option palatable for the k8s.",
    "commit": "0291f0f8401fe02a927504aca78d13d6ff5d4f55",
    "createdAt": "2018-03-20T10:06:28Z",
    "diffHunk": "@@ -108,6 +109,8 @@ private[spark] class ExecutorPodFactory(\n       nodeToLocalTaskCount: Map[String, Int]): Pod = {\n     val name = s\"$executorPodNamePrefix-exec-$executorId\"\n \n+    val imagePullSecrets = imagePullSecret.map(new LocalObjectReference(_)).toList"
  }, {
    "author": {
      "login": "liyinan926"
    },
    "body": "Yeah, it seems a bit awkward. I guess the original form looks better. Sorry for that, but looks like it's better if you revert this change.",
    "commit": "0291f0f8401fe02a927504aca78d13d6ff5d4f55",
    "createdAt": "2018-03-21T17:45:52Z",
    "diffHunk": "@@ -108,6 +109,8 @@ private[spark] class ExecutorPodFactory(\n       nodeToLocalTaskCount: Map[String, Int]): Pod = {\n     val name = s\"$executorPodNamePrefix-exec-$executorId\"\n \n+    val imagePullSecrets = imagePullSecret.map(new LocalObjectReference(_)).toList"
  }, {
    "author": {
      "login": "andrusha"
    },
    "body": "@liyinan926 reverted! Should be good to merge now. Rebased against master too.",
    "commit": "0291f0f8401fe02a927504aca78d13d6ff5d4f55",
    "createdAt": "2018-03-23T10:05:44Z",
    "diffHunk": "@@ -108,6 +109,8 @@ private[spark] class ExecutorPodFactory(\n       nodeToLocalTaskCount: Map[String, Int]): Pod = {\n     val name = s\"$executorPodNamePrefix-exec-$executorId\"\n \n+    val imagePullSecrets = imagePullSecret.map(new LocalObjectReference(_)).toList"
  }],
  "prId": 20811
}]