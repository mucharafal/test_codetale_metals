[{
  "comments": [{
    "author": {
      "login": "foxish"
    },
    "body": "I think this problem arose because we're conflating two things here - adding secret volumes (which are pod-scoped) and adding volume-mounts (which are container-scoped). I think we should separate these out. The branching may work for now, but we should have a future work item to separate these out.\r\n\r\ncc/ @mccheah ",
    "commit": "5278ea760d0896616b275a1f1f0ac9a7b11ec616",
    "createdAt": "2018-01-04T06:46:56Z",
    "diffHunk": "@@ -28,20 +28,26 @@ private[spark] class MountSecretsBootstrap(secretNamesToMountPaths: Map[String,\n    *\n    * @param pod the pod into which the secret volumes are being added.\n    * @param container the container into which the secret volumes are being mounted.\n+   * @param addNewVolumes whether to add new secret volumes for the secrets."
  }, {
    "author": {
      "login": "liyinan926"
    },
    "body": "Agreed. I didn't separate it out because we will touch this code as part of refactoring the steps code anyway as planned in https://issues.apache.org/jira/browse/SPARK-22839.\r\n  ",
    "commit": "5278ea760d0896616b275a1f1f0ac9a7b11ec616",
    "createdAt": "2018-01-04T06:48:44Z",
    "diffHunk": "@@ -28,20 +28,26 @@ private[spark] class MountSecretsBootstrap(secretNamesToMountPaths: Map[String,\n    *\n    * @param pod the pod into which the secret volumes are being added.\n    * @param container the container into which the secret volumes are being mounted.\n+   * @param addNewVolumes whether to add new secret volumes for the secrets."
  }],
  "prId": 20148
}, {
  "comments": [{
    "author": {
      "login": "foxish"
    },
    "body": "Can we separate this method into `addSecretVolumes` and `mountSecrets`? The former would just need the pod argument, and the latter would take the container as argument. That way, we could probably separate this out better and it would make it more readable than the branching. WDYT?",
    "commit": "5278ea760d0896616b275a1f1f0ac9a7b11ec616",
    "createdAt": "2018-01-04T06:54:04Z",
    "diffHunk": "@@ -28,20 +28,26 @@ private[spark] class MountSecretsBootstrap(secretNamesToMountPaths: Map[String,\n    *\n    * @param pod the pod into which the secret volumes are being added.\n    * @param container the container into which the secret volumes are being mounted.\n+   * @param addNewVolumes whether to add new secret volumes for the secrets.\n    * @return the updated pod and container with the secrets mounted.\n    */\n-  def mountSecrets(pod: Pod, container: Container): (Pod, Container) = {\n+  def mountSecrets("
  }, {
    "author": {
      "login": "liyinan926"
    },
    "body": "Good point. Done.",
    "commit": "5278ea760d0896616b275a1f1f0ac9a7b11ec616",
    "createdAt": "2018-01-04T07:10:08Z",
    "diffHunk": "@@ -28,20 +28,26 @@ private[spark] class MountSecretsBootstrap(secretNamesToMountPaths: Map[String,\n    *\n    * @param pod the pod into which the secret volumes are being added.\n    * @param container the container into which the secret volumes are being mounted.\n+   * @param addNewVolumes whether to add new secret volumes for the secrets.\n    * @return the updated pod and container with the secrets mounted.\n    */\n-  def mountSecrets(pod: Pod, container: Container): (Pod, Container) = {\n+  def mountSecrets("
  }],
  "prId": 20148
}]