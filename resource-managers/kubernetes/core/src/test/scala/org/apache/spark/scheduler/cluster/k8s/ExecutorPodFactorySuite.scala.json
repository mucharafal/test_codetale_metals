[{
  "comments": [{
    "author": {
      "login": "hex108"
    },
    "body": "It might be better to change `None` at line 168 to `Some(secretBootstrap)` and check volumes' number to avoid regression.  ",
    "commit": "5278ea760d0896616b275a1f1f0ac9a7b11ec616",
    "createdAt": "2018-01-04T07:12:02Z",
    "diffHunk": "@@ -172,10 +172,8 @@ class ExecutorPodFactorySuite extends SparkFunSuite with BeforeAndAfter with Bef\n       \"1\", \"dummy\", \"dummy\", Seq[(String, String)](), driverPod, Map[String, Int]())\n \n     assert(executor.getSpec.getInitContainers.size() === 1)\n-    assert(executor.getSpec.getInitContainers.get(0).getVolumeMounts.get(0).getName\n-      === \"secret1-volume\")\n-    assert(executor.getSpec.getInitContainers.get(0).getVolumeMounts.get(0)\n-      .getMountPath === \"/var/secret1\")\n+    assert(SecretVolumeUtils.containerHasVolume(",
    "line": 29
  }, {
    "author": {
      "login": "liyinan926"
    },
    "body": "Done.",
    "commit": "5278ea760d0896616b275a1f1f0ac9a7b11ec616",
    "createdAt": "2018-01-04T07:17:17Z",
    "diffHunk": "@@ -172,10 +172,8 @@ class ExecutorPodFactorySuite extends SparkFunSuite with BeforeAndAfter with Bef\n       \"1\", \"dummy\", \"dummy\", Seq[(String, String)](), driverPod, Map[String, Int]())\n \n     assert(executor.getSpec.getInitContainers.size() === 1)\n-    assert(executor.getSpec.getInitContainers.get(0).getVolumeMounts.get(0).getName\n-      === \"secret1-volume\")\n-    assert(executor.getSpec.getInitContainers.get(0).getVolumeMounts.get(0)\n-      .getMountPath === \"/var/secret1\")\n+    assert(SecretVolumeUtils.containerHasVolume(",
    "line": 29
  }, {
    "author": {
      "login": "hex108"
    },
    "body": "Thanks!  We also need check volumes' num in pod spec.\r\n\r\n```\r\n// check volume mounted.\r\nassert(executor.getSpec.getVolumes.size() === 1)\r\nassert(executor.getSpec.getVolumes.get(0).getSecret.getSecretName === \"secret1\")\r\n```  ",
    "commit": "5278ea760d0896616b275a1f1f0ac9a7b11ec616",
    "createdAt": "2018-01-04T07:25:18Z",
    "diffHunk": "@@ -172,10 +172,8 @@ class ExecutorPodFactorySuite extends SparkFunSuite with BeforeAndAfter with Bef\n       \"1\", \"dummy\", \"dummy\", Seq[(String, String)](), driverPod, Map[String, Int]())\n \n     assert(executor.getSpec.getInitContainers.size() === 1)\n-    assert(executor.getSpec.getInitContainers.get(0).getVolumeMounts.get(0).getName\n-      === \"secret1-volume\")\n-    assert(executor.getSpec.getInitContainers.get(0).getVolumeMounts.get(0)\n-      .getMountPath === \"/var/secret1\")\n+    assert(SecretVolumeUtils.containerHasVolume(",
    "line": 29
  }, {
    "author": {
      "login": "liyinan926"
    },
    "body": "Done. https://github.com/apache/spark/pull/20148/commits/93e1d648d56079dcc8bd28bafa7dad4cd9d2dfeb.",
    "commit": "5278ea760d0896616b275a1f1f0ac9a7b11ec616",
    "createdAt": "2018-01-04T07:31:22Z",
    "diffHunk": "@@ -172,10 +172,8 @@ class ExecutorPodFactorySuite extends SparkFunSuite with BeforeAndAfter with Bef\n       \"1\", \"dummy\", \"dummy\", Seq[(String, String)](), driverPod, Map[String, Int]())\n \n     assert(executor.getSpec.getInitContainers.size() === 1)\n-    assert(executor.getSpec.getInitContainers.get(0).getVolumeMounts.get(0).getName\n-      === \"secret1-volume\")\n-    assert(executor.getSpec.getInitContainers.get(0).getVolumeMounts.get(0)\n-      .getMountPath === \"/var/secret1\")\n+    assert(SecretVolumeUtils.containerHasVolume(",
    "line": 29
  }],
  "prId": 20148
}]