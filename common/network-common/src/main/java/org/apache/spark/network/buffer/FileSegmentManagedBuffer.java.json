[{
  "comments": [{
    "author": {
      "login": "jerryshao"
    },
    "body": "I think this two lines might be the place which suffers from `skip` issue, can we just only revert this place? @zsxwing @cloud-fan @gatorsmile .",
    "commit": "401d65047cc2b9b920243e0df7b2802929a6bc56",
    "createdAt": "2018-01-03T05:48:06Z",
    "diffHunk": "@@ -94,9 +93,9 @@ public ByteBuffer nioByteBuffer() throws IOException {\n \n   @Override\n   public InputStream createInputStream() throws IOException {\n-    InputStream is = null;\n+    FileInputStream is = null;\n     try {\n-      is = Files.newInputStream(file.toPath());\n+      is = new FileInputStream(file);\n       ByteStreams.skipFully(is, offset);\n       return new LimitedInputStream(is, length);",
    "line": 25
  }],
  "prId": 20119
}, {
  "comments": [{
    "author": {
      "login": "zsxwing"
    },
    "body": "@jerryshao I think this is the only line that may reduce the memory pressure for external shuffle service. Right?",
    "commit": "401d65047cc2b9b920243e0df7b2802929a6bc56",
    "createdAt": "2018-01-03T07:34:21Z",
    "diffHunk": "@@ -133,7 +132,7 @@ public Object convertToNetty() throws IOException {\n     if (conf.lazyFileDescriptor()) {\n       return new DefaultFileRegion(file, offset, length);\n     } else {\n-      FileChannel fileChannel = FileChannel.open(file.toPath(), StandardOpenOption.READ);\n+      FileChannel fileChannel = new FileInputStream(file).getChannel();",
    "line": 32
  }],
  "prId": 20119
}]