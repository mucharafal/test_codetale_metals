[{
  "comments": [{
    "author": {
      "login": "viirya"
    },
    "body": "Is it a typo for `true`? As it claims `When thread is pinned, job group should be set.` Or I misread the comment.",
    "commit": "9e2d83277635b02cc03f35502294892dc7d8a3d2",
    "createdAt": "2019-06-26T01:30:41Z",
    "diffHunk": "@@ -213,6 +213,10 @@ def test_progress_api(self):\n             rdd = sc.parallelize(range(10)).map(lambda x: time.sleep(100))\n \n             def run():\n+                # When thread is pinned, job group should be set for each thread for now.\n+                # Local properties seem not being inherited like Scala side does.\n+                if os.environ.get(\"PYSPARK_PIN_THREAD\", \"false\").lower() != \"true\":"
  }, {
    "author": {
      "login": "HyukjinKwon"
    },
    "body": "Damn .. yes, it's a typo.. I was testing all PySpark tests when enabling this and forgot to bring this back .. thanks for catching this.",
    "commit": "9e2d83277635b02cc03f35502294892dc7d8a3d2",
    "createdAt": "2019-06-26T01:37:18Z",
    "diffHunk": "@@ -213,6 +213,10 @@ def test_progress_api(self):\n             rdd = sc.parallelize(range(10)).map(lambda x: time.sleep(100))\n \n             def run():\n+                # When thread is pinned, job group should be set for each thread for now.\n+                # Local properties seem not being inherited like Scala side does.\n+                if os.environ.get(\"PYSPARK_PIN_THREAD\", \"false\").lower() != \"true\":"
  }],
  "prId": 24898
}, {
  "comments": [{
    "author": {
      "login": "squito"
    },
    "body": "actually, this test probably isn't reliable outside of pinned mode, right?  the java side could arbitrarily decide to switch threads at any point.\r\n\r\nanyway, just something to keep in mind if we notice flakiness in this test in the future.",
    "commit": "9e2d83277635b02cc03f35502294892dc7d8a3d2",
    "createdAt": "2019-11-06T19:58:23Z",
    "diffHunk": "@@ -214,6 +214,10 @@ def test_progress_api(self):\n             rdd = sc.parallelize(range(10)).map(lambda x: time.sleep(100))\n \n             def run():\n+                # When thread is pinned, job group should be set for each thread for now.\n+                # Local properties seem not being inherited like Scala side does.\n+                if os.environ.get(\"PYSPARK_PIN_THREAD\", \"false\").lower() == \"true\":\n+                    sc.setJobGroup('test_progress_api', '', True)",
    "line": 7
  }, {
    "author": {
      "login": "HyukjinKwon"
    },
    "body": "yeah .. I think so, though, at least this test hasn't been detected as a flaky test yet. I was actually thinking of removing this test out even but .. let me leave this out of this PR scope for now.",
    "commit": "9e2d83277635b02cc03f35502294892dc7d8a3d2",
    "createdAt": "2019-11-07T10:18:26Z",
    "diffHunk": "@@ -214,6 +214,10 @@ def test_progress_api(self):\n             rdd = sc.parallelize(range(10)).map(lambda x: time.sleep(100))\n \n             def run():\n+                # When thread is pinned, job group should be set for each thread for now.\n+                # Local properties seem not being inherited like Scala side does.\n+                if os.environ.get(\"PYSPARK_PIN_THREAD\", \"false\").lower() == \"true\":\n+                    sc.setJobGroup('test_progress_api', '', True)",
    "line": 7
  }],
  "prId": 24898
}]