[{
  "comments": [{
    "author": {
      "login": "HyukjinKwon"
    },
    "body": "try / finally",
    "commit": "b7bf00736133ff29102bc2945fc9c9b86c067307",
    "createdAt": "2019-06-08T06:56:11Z",
    "diffHunk": "@@ -225,6 +225,16 @@ def test_chunked_stream(self):\n                 # ends with a -1\n                 self.assertEqual(dest.buffer[-4:], write_int(-1))\n \n+    def test_chunked_stream_flush(self):\n+        wrapped = ByteArrayOutput()\n+        stream = serializers.ChunkedStream(wrapped, 10)\n+        stream.write(bytearray([0]))\n+        self.assertEqual(len(wrapped.buffer), 0, \"small write should be buffered\")\n+        stream.flush()\n+        # Expect buffer size 4 bytes + buffer data 1 byte.\n+        self.assertEqual(len(wrapped.buffer), 5, \"flush should work\")\n+        stream.close()",
    "line": 12
  }],
  "prId": 24734
}]