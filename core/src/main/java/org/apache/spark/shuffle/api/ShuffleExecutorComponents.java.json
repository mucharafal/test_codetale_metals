[{
  "comments": [{
    "author": {
      "login": "cloud-fan"
    },
    "body": "shall we name it `mapId`? To be consistent with the codebase.",
    "commit": "28c9f9c2da1215a836fef7925e95a40c7c6dd87e",
    "createdAt": "2019-08-29T14:59:45Z",
    "diffHunk": "@@ -39,17 +39,15 @@\n   /**\n    * Called once per map task to create a writer that will be responsible for persisting all the\n    * partitioned bytes written by that map task.\n-   *  @param shuffleId Unique identifier for the shuffle the map task is a part of\n-   * @param mapId Within the shuffle, the identifier of the map task\n+   * @param shuffleId Unique identifier for the shuffle the map task is a part of\n    * @param mapTaskAttemptId Identifier of the task attempt. Multiple attempts of the same map task\n- *                         with the same (shuffleId, mapId) pair can be distinguished by the\n- *                         different values of mapTaskAttemptId.\n+   *                         with the same (shuffleId, mapId) pair can be distinguished by the\n+   *                         different values of mapTaskAttemptId.\n    * @param numPartitions The number of partitions that will be written by the map task. Some of\n-*                      these partitions may be empty.\n+   *                      these partitions may be empty.\n    */\n   ShuffleMapOutputWriter createMapOutputWriter(\n       int shuffleId,\n-      int mapId,\n       long mapTaskAttemptId,"
  }, {
    "author": {
      "login": "xuanyuanking"
    },
    "body": "The original mapId still used in mapOutputTracker and scheduler, I doubt anybody will confused by these two ids use same name?",
    "commit": "28c9f9c2da1215a836fef7925e95a40c7c6dd87e",
    "createdAt": "2019-08-29T15:02:03Z",
    "diffHunk": "@@ -39,17 +39,15 @@\n   /**\n    * Called once per map task to create a writer that will be responsible for persisting all the\n    * partitioned bytes written by that map task.\n-   *  @param shuffleId Unique identifier for the shuffle the map task is a part of\n-   * @param mapId Within the shuffle, the identifier of the map task\n+   * @param shuffleId Unique identifier for the shuffle the map task is a part of\n    * @param mapTaskAttemptId Identifier of the task attempt. Multiple attempts of the same map task\n- *                         with the same (shuffleId, mapId) pair can be distinguished by the\n- *                         different values of mapTaskAttemptId.\n+   *                         with the same (shuffleId, mapId) pair can be distinguished by the\n+   *                         different values of mapTaskAttemptId.\n    * @param numPartitions The number of partitions that will be written by the map task. Some of\n-*                      these partitions may be empty.\n+   *                      these partitions may be empty.\n    */\n   ShuffleMapOutputWriter createMapOutputWriter(\n       int shuffleId,\n-      int mapId,\n       long mapTaskAttemptId,"
  }, {
    "author": {
      "login": "xuanyuanking"
    },
    "body": "I changed all `mapTaskAttemptId` stuff to `mapId` in 539d725.\r\nSo after the change, the mapId is the unique id for a map task. If we think it's confused to have a mapId represent the map index within a stage or a task set, `mapIndex` maybe a much better name.",
    "commit": "28c9f9c2da1215a836fef7925e95a40c7c6dd87e",
    "createdAt": "2019-08-30T07:53:32Z",
    "diffHunk": "@@ -39,17 +39,15 @@\n   /**\n    * Called once per map task to create a writer that will be responsible for persisting all the\n    * partitioned bytes written by that map task.\n-   *  @param shuffleId Unique identifier for the shuffle the map task is a part of\n-   * @param mapId Within the shuffle, the identifier of the map task\n+   * @param shuffleId Unique identifier for the shuffle the map task is a part of\n    * @param mapTaskAttemptId Identifier of the task attempt. Multiple attempts of the same map task\n- *                         with the same (shuffleId, mapId) pair can be distinguished by the\n- *                         different values of mapTaskAttemptId.\n+   *                         with the same (shuffleId, mapId) pair can be distinguished by the\n+   *                         different values of mapTaskAttemptId.\n    * @param numPartitions The number of partitions that will be written by the map task. Some of\n-*                      these partitions may be empty.\n+   *                      these partitions may be empty.\n    */\n   ShuffleMapOutputWriter createMapOutputWriter(\n       int shuffleId,\n-      int mapId,\n       long mapTaskAttemptId,"
  }],
  "prId": 25620
}, {
  "comments": [{
    "author": {
      "login": "cloud-fan"
    },
    "body": "let's rephrase it. How about `An ID of the map task. The ID is unique within this Spark application.`",
    "commit": "28c9f9c2da1215a836fef7925e95a40c7c6dd87e",
    "createdAt": "2019-08-30T12:53:33Z",
    "diffHunk": "@@ -39,17 +39,15 @@\n   /**\n    * Called once per map task to create a writer that will be responsible for persisting all the\n    * partitioned bytes written by that map task.\n-   *  @param shuffleId Unique identifier for the shuffle the map task is a part of\n-   * @param mapId Within the shuffle, the identifier of the map task\n-   * @param mapTaskAttemptId Identifier of the task attempt. Multiple attempts of the same map task\n- *                         with the same (shuffleId, mapId) pair can be distinguished by the\n- *                         different values of mapTaskAttemptId.\n+   * @param shuffleId Unique identifier for the shuffle the map task is a part of\n+   * @param mapId Identifier of the task attempt. Multiple attempts of the same map task with the"
  }, {
    "author": {
      "login": "xuanyuanking"
    },
    "body": "Sure, done in 4bd9e00.",
    "commit": "28c9f9c2da1215a836fef7925e95a40c7c6dd87e",
    "createdAt": "2019-08-31T13:26:05Z",
    "diffHunk": "@@ -39,17 +39,15 @@\n   /**\n    * Called once per map task to create a writer that will be responsible for persisting all the\n    * partitioned bytes written by that map task.\n-   *  @param shuffleId Unique identifier for the shuffle the map task is a part of\n-   * @param mapId Within the shuffle, the identifier of the map task\n-   * @param mapTaskAttemptId Identifier of the task attempt. Multiple attempts of the same map task\n- *                         with the same (shuffleId, mapId) pair can be distinguished by the\n- *                         different values of mapTaskAttemptId.\n+   * @param shuffleId Unique identifier for the shuffle the map task is a part of\n+   * @param mapId Identifier of the task attempt. Multiple attempts of the same map task with the"
  }],
  "prId": 25620
}, {
  "comments": [{
    "author": {
      "login": "jiangxb1987"
    },
    "body": "This id is from the map task attempt?",
    "commit": "28c9f9c2da1215a836fef7925e95a40c7c6dd87e",
    "createdAt": "2019-09-03T23:33:24Z",
    "diffHunk": "@@ -39,17 +39,13 @@\n   /**\n    * Called once per map task to create a writer that will be responsible for persisting all the\n    * partitioned bytes written by that map task.\n-   *  @param shuffleId Unique identifier for the shuffle the map task is a part of\n-   * @param mapId Within the shuffle, the identifier of the map task\n-   * @param mapTaskAttemptId Identifier of the task attempt. Multiple attempts of the same map task\n- *                         with the same (shuffleId, mapId) pair can be distinguished by the\n- *                         different values of mapTaskAttemptId.\n+   * @param shuffleId Unique identifier for the shuffle the map task is a part of\n+   * @param mapId An ID of the map task. The ID is unique within this Spark application.",
    "line": 8
  }, {
    "author": {
      "login": "xuanyuanking"
    },
    "body": "Yep.",
    "commit": "28c9f9c2da1215a836fef7925e95a40c7c6dd87e",
    "createdAt": "2019-09-05T07:20:23Z",
    "diffHunk": "@@ -39,17 +39,13 @@\n   /**\n    * Called once per map task to create a writer that will be responsible for persisting all the\n    * partitioned bytes written by that map task.\n-   *  @param shuffleId Unique identifier for the shuffle the map task is a part of\n-   * @param mapId Within the shuffle, the identifier of the map task\n-   * @param mapTaskAttemptId Identifier of the task attempt. Multiple attempts of the same map task\n- *                         with the same (shuffleId, mapId) pair can be distinguished by the\n- *                         different values of mapTaskAttemptId.\n+   * @param shuffleId Unique identifier for the shuffle the map task is a part of\n+   * @param mapId An ID of the map task. The ID is unique within this Spark application.",
    "line": 8
  }],
  "prId": 25620
}, {
  "comments": [{
    "author": {
      "login": "cloud-fan"
    },
    "body": "nit: let's keep this blank line",
    "commit": "28c9f9c2da1215a836fef7925e95a40c7c6dd87e",
    "createdAt": "2019-09-18T16:28:59Z",
    "diffHunk": "@@ -40,19 +40,14 @@\n   /**\n    * Called once per map task to create a writer that will be responsible for persisting all the\n    * partitioned bytes written by that map task.\n-   *",
    "line": 2
  }, {
    "author": {
      "login": "xuanyuanking"
    },
    "body": "Yep, done in d2215b2.",
    "commit": "28c9f9c2da1215a836fef7925e95a40c7c6dd87e",
    "createdAt": "2019-09-18T18:08:39Z",
    "diffHunk": "@@ -40,19 +40,14 @@\n   /**\n    * Called once per map task to create a writer that will be responsible for persisting all the\n    * partitioned bytes written by that map task.\n-   *",
    "line": 2
  }],
  "prId": 25620
}]