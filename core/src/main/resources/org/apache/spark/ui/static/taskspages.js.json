[{
  "comments": [{
    "author": {
      "login": "ajbozarth"
    },
    "body": "This is more commonly referred to as the Stage Page than the Tasks Page",
    "commit": "ef90c2a2c5c95daef7ce04e0c348181b2e18f677",
    "createdAt": "2017-10-03T22:52:04Z",
    "diffHunk": "@@ -0,0 +1,474 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+$(document).ajaxStop($.unblockUI);\n+$(document).ajaxStart(function () {\n+    $.blockUI({message: '<h3>Loading Tasks Page...</h3>'});"
  }, {
    "author": {
      "login": "pgandhi999"
    },
    "body": "Fixed",
    "commit": "ef90c2a2c5c95daef7ce04e0c348181b2e18f677",
    "createdAt": "2017-10-06T19:14:11Z",
    "diffHunk": "@@ -0,0 +1,474 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+$(document).ajaxStop($.unblockUI);\n+$(document).ajaxStart(function () {\n+    $.blockUI({message: '<h3>Loading Tasks Page...</h3>'});"
  }],
  "prId": 19270
}, {
  "comments": [{
    "author": {
      "login": "ajbozarth"
    },
    "body": "This think this function can be abstracted out (with the template file name added as a param) and moved to utils.js",
    "commit": "ef90c2a2c5c95daef7ce04e0c348181b2e18f677",
    "createdAt": "2017-10-03T22:55:44Z",
    "diffHunk": "@@ -0,0 +1,474 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+$(document).ajaxStop($.unblockUI);\n+$(document).ajaxStart(function () {\n+    $.blockUI({message: '<h3>Loading Tasks Page...</h3>'});\n+});\n+\n+$.extend( $.fn.dataTable.ext.type.order, {\n+    \"file-size-pre\": ConvertDurationString,\n+\n+    \"file-size-asc\": function ( a, b ) {\n+        a = ConvertDurationString( a );\n+        b = ConvertDurationString( b );\n+        return ((a < b) ? -1 : ((a > b) ? 1 : 0));\n+    },\n+\n+    \"file-size-desc\": function ( a, b ) {\n+        a = ConvertDurationString( a );\n+        b = ConvertDurationString( b );\n+        return ((a < b) ? 1 : ((a > b) ? -1 : 0));\n+    }\n+} );\n+\n+function createTemplateURI(appId) {"
  }, {
    "author": {
      "login": "pgandhi999"
    },
    "body": "Moved them all to utils.js",
    "commit": "ef90c2a2c5c95daef7ce04e0c348181b2e18f677",
    "createdAt": "2017-10-06T19:14:31Z",
    "diffHunk": "@@ -0,0 +1,474 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+$(document).ajaxStop($.unblockUI);\n+$(document).ajaxStart(function () {\n+    $.blockUI({message: '<h3>Loading Tasks Page...</h3>'});\n+});\n+\n+$.extend( $.fn.dataTable.ext.type.order, {\n+    \"file-size-pre\": ConvertDurationString,\n+\n+    \"file-size-asc\": function ( a, b ) {\n+        a = ConvertDurationString( a );\n+        b = ConvertDurationString( b );\n+        return ((a < b) ? -1 : ((a > b) ? 1 : 0));\n+    },\n+\n+    \"file-size-desc\": function ( a, b ) {\n+        a = ConvertDurationString( a );\n+        b = ConvertDurationString( b );\n+        return ((a < b) ? 1 : ((a > b) ? -1 : 0));\n+    }\n+} );\n+\n+function createTemplateURI(appId) {"
  }],
  "prId": 19270
}, {
  "comments": [{
    "author": {
      "login": "ajbozarth"
    },
    "body": "style: `stageEndPoint`",
    "commit": "ef90c2a2c5c95daef7ce04e0c348181b2e18f677",
    "createdAt": "2017-10-03T22:56:48Z",
    "diffHunk": "@@ -0,0 +1,474 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+$(document).ajaxStop($.unblockUI);\n+$(document).ajaxStart(function () {\n+    $.blockUI({message: '<h3>Loading Tasks Page...</h3>'});\n+});\n+\n+$.extend( $.fn.dataTable.ext.type.order, {\n+    \"file-size-pre\": ConvertDurationString,\n+\n+    \"file-size-asc\": function ( a, b ) {\n+        a = ConvertDurationString( a );\n+        b = ConvertDurationString( b );\n+        return ((a < b) ? -1 : ((a > b) ? 1 : 0));\n+    },\n+\n+    \"file-size-desc\": function ( a, b ) {\n+        a = ConvertDurationString( a );\n+        b = ConvertDurationString( b );\n+        return ((a < b) ? 1 : ((a > b) ? -1 : 0));\n+    }\n+} );\n+\n+function createTemplateURI(appId) {\n+    var words = document.baseURI.split('/');\n+    var ind = words.indexOf(\"proxy\");\n+    if (ind > 0) {\n+        var baseURI = words.slice(0, ind + 1).join('/') + '/' + appId + '/static/stagespage-template.html';\n+        return baseURI;\n+    }\n+    ind = words.indexOf(\"history\");\n+    if(ind > 0) {\n+        var baseURI = words.slice(0, ind).join('/') + '/static/stagespage-template.html';\n+        return baseURI;\n+    }\n+    return location.origin + \"/static/stagespage-template.html\";\n+}\n+\n+// This function will only parse the URL under certain formate\n+// e.g. https://axonitered-jt1.red.ygrid.yahoo.com:50509/history/application_1502220952225_59143/stages/stage/?id=0&attempt=0\n+function StageEndPoint(appId) {"
  }, {
    "author": {
      "login": "pgandhi999"
    },
    "body": "Fixed",
    "commit": "ef90c2a2c5c95daef7ce04e0c348181b2e18f677",
    "createdAt": "2017-10-06T19:14:41Z",
    "diffHunk": "@@ -0,0 +1,474 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+$(document).ajaxStop($.unblockUI);\n+$(document).ajaxStart(function () {\n+    $.blockUI({message: '<h3>Loading Tasks Page...</h3>'});\n+});\n+\n+$.extend( $.fn.dataTable.ext.type.order, {\n+    \"file-size-pre\": ConvertDurationString,\n+\n+    \"file-size-asc\": function ( a, b ) {\n+        a = ConvertDurationString( a );\n+        b = ConvertDurationString( b );\n+        return ((a < b) ? -1 : ((a > b) ? 1 : 0));\n+    },\n+\n+    \"file-size-desc\": function ( a, b ) {\n+        a = ConvertDurationString( a );\n+        b = ConvertDurationString( b );\n+        return ((a < b) ? 1 : ((a > b) ? -1 : 0));\n+    }\n+} );\n+\n+function createTemplateURI(appId) {\n+    var words = document.baseURI.split('/');\n+    var ind = words.indexOf(\"proxy\");\n+    if (ind > 0) {\n+        var baseURI = words.slice(0, ind + 1).join('/') + '/' + appId + '/static/stagespage-template.html';\n+        return baseURI;\n+    }\n+    ind = words.indexOf(\"history\");\n+    if(ind > 0) {\n+        var baseURI = words.slice(0, ind).join('/') + '/static/stagespage-template.html';\n+        return baseURI;\n+    }\n+    return location.origin + \"/static/stagespage-template.html\";\n+}\n+\n+// This function will only parse the URL under certain formate\n+// e.g. https://axonitered-jt1.red.ygrid.yahoo.com:50509/history/application_1502220952225_59143/stages/stage/?id=0&attempt=0\n+function StageEndPoint(appId) {"
  }],
  "prId": 19270
}, {
  "comments": [{
    "author": {
      "login": "ajbozarth"
    },
    "body": "iiuc this doesn't account for anchors in the url (`#tasks-section`), I'd look into some url parsing js functions libs, I've seen some good ones before.",
    "commit": "ef90c2a2c5c95daef7ce04e0c348181b2e18f677",
    "createdAt": "2017-10-03T23:04:44Z",
    "diffHunk": "@@ -0,0 +1,474 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+$(document).ajaxStop($.unblockUI);\n+$(document).ajaxStart(function () {\n+    $.blockUI({message: '<h3>Loading Tasks Page...</h3>'});\n+});\n+\n+$.extend( $.fn.dataTable.ext.type.order, {\n+    \"file-size-pre\": ConvertDurationString,\n+\n+    \"file-size-asc\": function ( a, b ) {\n+        a = ConvertDurationString( a );\n+        b = ConvertDurationString( b );\n+        return ((a < b) ? -1 : ((a > b) ? 1 : 0));\n+    },\n+\n+    \"file-size-desc\": function ( a, b ) {\n+        a = ConvertDurationString( a );\n+        b = ConvertDurationString( b );\n+        return ((a < b) ? 1 : ((a > b) ? -1 : 0));\n+    }\n+} );\n+\n+function createTemplateURI(appId) {\n+    var words = document.baseURI.split('/');\n+    var ind = words.indexOf(\"proxy\");\n+    if (ind > 0) {\n+        var baseURI = words.slice(0, ind + 1).join('/') + '/' + appId + '/static/stagespage-template.html';\n+        return baseURI;\n+    }\n+    ind = words.indexOf(\"history\");\n+    if(ind > 0) {\n+        var baseURI = words.slice(0, ind).join('/') + '/static/stagespage-template.html';\n+        return baseURI;\n+    }\n+    return location.origin + \"/static/stagespage-template.html\";\n+}\n+\n+// This function will only parse the URL under certain formate\n+// e.g. https://axonitered-jt1.red.ygrid.yahoo.com:50509/history/application_1502220952225_59143/stages/stage/?id=0&attempt=0\n+function StageEndPoint(appId) {\n+    var words = document.baseURI.split('/');\n+    var words2 = document.baseURI.split('?');\n+    var ind = words.indexOf(\"proxy\");\n+    if (ind > 0) {\n+        var appId = words[ind + 1];\n+        var stageIdLen = words2[1].indexOf('&');\n+        var stageId = words2[1].substr(3, stageIdLen - 3);\n+        var newBaseURI = words.slice(0, ind + 2).join('/');\n+        return newBaseURI + \"/api/v1/applications/\" + appId + \"/stages/\" + stageId;\n+    }\n+    ind = words.indexOf(\"history\");\n+    if (ind > 0) {\n+        var appId = words[ind + 1];\n+        var attemptId = words[ind + 2];\n+        var stageIdLen = words2[1].indexOf('&');\n+        var stageId = words2[1].substr(3, stageIdLen - 3);\n+        var newBaseURI = words.slice(0, ind).join('/');\n+        if (isNaN(attemptId) || attemptId == \"0\") {\n+            return newBaseURI + \"/api/v1/applications/\" + appId + \"/stages/\" + stageId;\n+        } else {\n+            return newBaseURI + \"/api/v1/applications/\" + appId + \"/\" + attemptId + \"/stages/\" + stageId;\n+        }\n+    }\n+    var stageIdLen = words2[1].indexOf('&');\n+    var stageId = words2[1].substr(3, stageIdLen - 3);"
  }, {
    "author": {
      "login": "ajbozarth"
    },
    "body": "Also I'm not quite sure what the `3`s are doing here",
    "commit": "ef90c2a2c5c95daef7ce04e0c348181b2e18f677",
    "createdAt": "2017-10-03T23:06:09Z",
    "diffHunk": "@@ -0,0 +1,474 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+$(document).ajaxStop($.unblockUI);\n+$(document).ajaxStart(function () {\n+    $.blockUI({message: '<h3>Loading Tasks Page...</h3>'});\n+});\n+\n+$.extend( $.fn.dataTable.ext.type.order, {\n+    \"file-size-pre\": ConvertDurationString,\n+\n+    \"file-size-asc\": function ( a, b ) {\n+        a = ConvertDurationString( a );\n+        b = ConvertDurationString( b );\n+        return ((a < b) ? -1 : ((a > b) ? 1 : 0));\n+    },\n+\n+    \"file-size-desc\": function ( a, b ) {\n+        a = ConvertDurationString( a );\n+        b = ConvertDurationString( b );\n+        return ((a < b) ? 1 : ((a > b) ? -1 : 0));\n+    }\n+} );\n+\n+function createTemplateURI(appId) {\n+    var words = document.baseURI.split('/');\n+    var ind = words.indexOf(\"proxy\");\n+    if (ind > 0) {\n+        var baseURI = words.slice(0, ind + 1).join('/') + '/' + appId + '/static/stagespage-template.html';\n+        return baseURI;\n+    }\n+    ind = words.indexOf(\"history\");\n+    if(ind > 0) {\n+        var baseURI = words.slice(0, ind).join('/') + '/static/stagespage-template.html';\n+        return baseURI;\n+    }\n+    return location.origin + \"/static/stagespage-template.html\";\n+}\n+\n+// This function will only parse the URL under certain formate\n+// e.g. https://axonitered-jt1.red.ygrid.yahoo.com:50509/history/application_1502220952225_59143/stages/stage/?id=0&attempt=0\n+function StageEndPoint(appId) {\n+    var words = document.baseURI.split('/');\n+    var words2 = document.baseURI.split('?');\n+    var ind = words.indexOf(\"proxy\");\n+    if (ind > 0) {\n+        var appId = words[ind + 1];\n+        var stageIdLen = words2[1].indexOf('&');\n+        var stageId = words2[1].substr(3, stageIdLen - 3);\n+        var newBaseURI = words.slice(0, ind + 2).join('/');\n+        return newBaseURI + \"/api/v1/applications/\" + appId + \"/stages/\" + stageId;\n+    }\n+    ind = words.indexOf(\"history\");\n+    if (ind > 0) {\n+        var appId = words[ind + 1];\n+        var attemptId = words[ind + 2];\n+        var stageIdLen = words2[1].indexOf('&');\n+        var stageId = words2[1].substr(3, stageIdLen - 3);\n+        var newBaseURI = words.slice(0, ind).join('/');\n+        if (isNaN(attemptId) || attemptId == \"0\") {\n+            return newBaseURI + \"/api/v1/applications/\" + appId + \"/stages/\" + stageId;\n+        } else {\n+            return newBaseURI + \"/api/v1/applications/\" + appId + \"/\" + attemptId + \"/stages/\" + stageId;\n+        }\n+    }\n+    var stageIdLen = words2[1].indexOf('&');\n+    var stageId = words2[1].substr(3, stageIdLen - 3);"
  }, {
    "author": {
      "login": "pgandhi999"
    },
    "body": "So the javascript substr function takes the first param as the starting index and the second param as the length of characters. And the split happens way before so it is independent of any anchors. I have tested it for many cases and it seems to look well, but if you are still unsure, I can look into better ways of parsing the url.",
    "commit": "ef90c2a2c5c95daef7ce04e0c348181b2e18f677",
    "createdAt": "2017-10-06T19:36:31Z",
    "diffHunk": "@@ -0,0 +1,474 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+$(document).ajaxStop($.unblockUI);\n+$(document).ajaxStart(function () {\n+    $.blockUI({message: '<h3>Loading Tasks Page...</h3>'});\n+});\n+\n+$.extend( $.fn.dataTable.ext.type.order, {\n+    \"file-size-pre\": ConvertDurationString,\n+\n+    \"file-size-asc\": function ( a, b ) {\n+        a = ConvertDurationString( a );\n+        b = ConvertDurationString( b );\n+        return ((a < b) ? -1 : ((a > b) ? 1 : 0));\n+    },\n+\n+    \"file-size-desc\": function ( a, b ) {\n+        a = ConvertDurationString( a );\n+        b = ConvertDurationString( b );\n+        return ((a < b) ? 1 : ((a > b) ? -1 : 0));\n+    }\n+} );\n+\n+function createTemplateURI(appId) {\n+    var words = document.baseURI.split('/');\n+    var ind = words.indexOf(\"proxy\");\n+    if (ind > 0) {\n+        var baseURI = words.slice(0, ind + 1).join('/') + '/' + appId + '/static/stagespage-template.html';\n+        return baseURI;\n+    }\n+    ind = words.indexOf(\"history\");\n+    if(ind > 0) {\n+        var baseURI = words.slice(0, ind).join('/') + '/static/stagespage-template.html';\n+        return baseURI;\n+    }\n+    return location.origin + \"/static/stagespage-template.html\";\n+}\n+\n+// This function will only parse the URL under certain formate\n+// e.g. https://axonitered-jt1.red.ygrid.yahoo.com:50509/history/application_1502220952225_59143/stages/stage/?id=0&attempt=0\n+function StageEndPoint(appId) {\n+    var words = document.baseURI.split('/');\n+    var words2 = document.baseURI.split('?');\n+    var ind = words.indexOf(\"proxy\");\n+    if (ind > 0) {\n+        var appId = words[ind + 1];\n+        var stageIdLen = words2[1].indexOf('&');\n+        var stageId = words2[1].substr(3, stageIdLen - 3);\n+        var newBaseURI = words.slice(0, ind + 2).join('/');\n+        return newBaseURI + \"/api/v1/applications/\" + appId + \"/stages/\" + stageId;\n+    }\n+    ind = words.indexOf(\"history\");\n+    if (ind > 0) {\n+        var appId = words[ind + 1];\n+        var attemptId = words[ind + 2];\n+        var stageIdLen = words2[1].indexOf('&');\n+        var stageId = words2[1].substr(3, stageIdLen - 3);\n+        var newBaseURI = words.slice(0, ind).join('/');\n+        if (isNaN(attemptId) || attemptId == \"0\") {\n+            return newBaseURI + \"/api/v1/applications/\" + appId + \"/stages/\" + stageId;\n+        } else {\n+            return newBaseURI + \"/api/v1/applications/\" + appId + \"/\" + attemptId + \"/stages/\" + stageId;\n+        }\n+    }\n+    var stageIdLen = words2[1].indexOf('&');\n+    var stageId = words2[1].substr(3, stageIdLen - 3);"
  }],
  "prId": 19270
}, {
  "comments": [{
    "author": {
      "login": "ajbozarth"
    },
    "body": "this might also be worth moving to `utils.js` since we set the same defaults on all our pages",
    "commit": "ef90c2a2c5c95daef7ce04e0c348181b2e18f677",
    "createdAt": "2017-10-03T23:07:21Z",
    "diffHunk": "@@ -0,0 +1,474 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+$(document).ajaxStop($.unblockUI);\n+$(document).ajaxStart(function () {\n+    $.blockUI({message: '<h3>Loading Tasks Page...</h3>'});\n+});\n+\n+$.extend( $.fn.dataTable.ext.type.order, {\n+    \"file-size-pre\": ConvertDurationString,\n+\n+    \"file-size-asc\": function ( a, b ) {\n+        a = ConvertDurationString( a );\n+        b = ConvertDurationString( b );\n+        return ((a < b) ? -1 : ((a > b) ? 1 : 0));\n+    },\n+\n+    \"file-size-desc\": function ( a, b ) {\n+        a = ConvertDurationString( a );\n+        b = ConvertDurationString( b );\n+        return ((a < b) ? 1 : ((a > b) ? -1 : 0));\n+    }\n+} );\n+\n+function createTemplateURI(appId) {\n+    var words = document.baseURI.split('/');\n+    var ind = words.indexOf(\"proxy\");\n+    if (ind > 0) {\n+        var baseURI = words.slice(0, ind + 1).join('/') + '/' + appId + '/static/stagespage-template.html';\n+        return baseURI;\n+    }\n+    ind = words.indexOf(\"history\");\n+    if(ind > 0) {\n+        var baseURI = words.slice(0, ind).join('/') + '/static/stagespage-template.html';\n+        return baseURI;\n+    }\n+    return location.origin + \"/static/stagespage-template.html\";\n+}\n+\n+// This function will only parse the URL under certain formate\n+// e.g. https://axonitered-jt1.red.ygrid.yahoo.com:50509/history/application_1502220952225_59143/stages/stage/?id=0&attempt=0\n+function StageEndPoint(appId) {\n+    var words = document.baseURI.split('/');\n+    var words2 = document.baseURI.split('?');\n+    var ind = words.indexOf(\"proxy\");\n+    if (ind > 0) {\n+        var appId = words[ind + 1];\n+        var stageIdLen = words2[1].indexOf('&');\n+        var stageId = words2[1].substr(3, stageIdLen - 3);\n+        var newBaseURI = words.slice(0, ind + 2).join('/');\n+        return newBaseURI + \"/api/v1/applications/\" + appId + \"/stages/\" + stageId;\n+    }\n+    ind = words.indexOf(\"history\");\n+    if (ind > 0) {\n+        var appId = words[ind + 1];\n+        var attemptId = words[ind + 2];\n+        var stageIdLen = words2[1].indexOf('&');\n+        var stageId = words2[1].substr(3, stageIdLen - 3);\n+        var newBaseURI = words.slice(0, ind).join('/');\n+        if (isNaN(attemptId) || attemptId == \"0\") {\n+            return newBaseURI + \"/api/v1/applications/\" + appId + \"/stages/\" + stageId;\n+        } else {\n+            return newBaseURI + \"/api/v1/applications/\" + appId + \"/\" + attemptId + \"/stages/\" + stageId;\n+        }\n+    }\n+    var stageIdLen = words2[1].indexOf('&');\n+    var stageId = words2[1].substr(3, stageIdLen - 3);\n+    return location.origin + \"/api/v1/applications/\" + appId + \"/stages/\" + stageId;\n+}\n+\n+function sortNumber(a,b) {\n+    return a - b;\n+}\n+\n+function quantile(array, percentile) {\n+    index = percentile/100. * (array.length-1);\n+    if (Math.floor(index) == index) {\n+    \tresult = array[index];\n+    } else {\n+        var i = Math.floor(index);\n+        fraction = index - i;\n+        result = array[i];\n+    }\n+    return result;\n+}\n+\n+$(document).ready(function () {\n+    $.extend($.fn.dataTable.defaults, {"
  }, {
    "author": {
      "login": "pgandhi999"
    },
    "body": "Done",
    "commit": "ef90c2a2c5c95daef7ce04e0c348181b2e18f677",
    "createdAt": "2017-10-06T19:14:56Z",
    "diffHunk": "@@ -0,0 +1,474 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+$(document).ajaxStop($.unblockUI);\n+$(document).ajaxStart(function () {\n+    $.blockUI({message: '<h3>Loading Tasks Page...</h3>'});\n+});\n+\n+$.extend( $.fn.dataTable.ext.type.order, {\n+    \"file-size-pre\": ConvertDurationString,\n+\n+    \"file-size-asc\": function ( a, b ) {\n+        a = ConvertDurationString( a );\n+        b = ConvertDurationString( b );\n+        return ((a < b) ? -1 : ((a > b) ? 1 : 0));\n+    },\n+\n+    \"file-size-desc\": function ( a, b ) {\n+        a = ConvertDurationString( a );\n+        b = ConvertDurationString( b );\n+        return ((a < b) ? 1 : ((a > b) ? -1 : 0));\n+    }\n+} );\n+\n+function createTemplateURI(appId) {\n+    var words = document.baseURI.split('/');\n+    var ind = words.indexOf(\"proxy\");\n+    if (ind > 0) {\n+        var baseURI = words.slice(0, ind + 1).join('/') + '/' + appId + '/static/stagespage-template.html';\n+        return baseURI;\n+    }\n+    ind = words.indexOf(\"history\");\n+    if(ind > 0) {\n+        var baseURI = words.slice(0, ind).join('/') + '/static/stagespage-template.html';\n+        return baseURI;\n+    }\n+    return location.origin + \"/static/stagespage-template.html\";\n+}\n+\n+// This function will only parse the URL under certain formate\n+// e.g. https://axonitered-jt1.red.ygrid.yahoo.com:50509/history/application_1502220952225_59143/stages/stage/?id=0&attempt=0\n+function StageEndPoint(appId) {\n+    var words = document.baseURI.split('/');\n+    var words2 = document.baseURI.split('?');\n+    var ind = words.indexOf(\"proxy\");\n+    if (ind > 0) {\n+        var appId = words[ind + 1];\n+        var stageIdLen = words2[1].indexOf('&');\n+        var stageId = words2[1].substr(3, stageIdLen - 3);\n+        var newBaseURI = words.slice(0, ind + 2).join('/');\n+        return newBaseURI + \"/api/v1/applications/\" + appId + \"/stages/\" + stageId;\n+    }\n+    ind = words.indexOf(\"history\");\n+    if (ind > 0) {\n+        var appId = words[ind + 1];\n+        var attemptId = words[ind + 2];\n+        var stageIdLen = words2[1].indexOf('&');\n+        var stageId = words2[1].substr(3, stageIdLen - 3);\n+        var newBaseURI = words.slice(0, ind).join('/');\n+        if (isNaN(attemptId) || attemptId == \"0\") {\n+            return newBaseURI + \"/api/v1/applications/\" + appId + \"/stages/\" + stageId;\n+        } else {\n+            return newBaseURI + \"/api/v1/applications/\" + appId + \"/\" + attemptId + \"/stages/\" + stageId;\n+        }\n+    }\n+    var stageIdLen = words2[1].indexOf('&');\n+    var stageId = words2[1].substr(3, stageIdLen - 3);\n+    return location.origin + \"/api/v1/applications/\" + appId + \"/stages/\" + stageId;\n+}\n+\n+function sortNumber(a,b) {\n+    return a - b;\n+}\n+\n+function quantile(array, percentile) {\n+    index = percentile/100. * (array.length-1);\n+    if (Math.floor(index) == index) {\n+    \tresult = array[index];\n+    } else {\n+        var i = Math.floor(index);\n+        fraction = index - i;\n+        result = array[i];\n+    }\n+    return result;\n+}\n+\n+$(document).ready(function () {\n+    $.extend($.fn.dataTable.defaults, {"
  }],
  "prId": 19270
}, {
  "comments": [{
    "author": {
      "login": "ajbozarth"
    },
    "body": "If this is just adding static html we can probably leave it in `StagePage.scala`",
    "commit": "ef90c2a2c5c95daef7ce04e0c348181b2e18f677",
    "createdAt": "2017-10-03T23:08:52Z",
    "diffHunk": "@@ -0,0 +1,474 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+$(document).ajaxStop($.unblockUI);\n+$(document).ajaxStart(function () {\n+    $.blockUI({message: '<h3>Loading Tasks Page...</h3>'});\n+});\n+\n+$.extend( $.fn.dataTable.ext.type.order, {\n+    \"file-size-pre\": ConvertDurationString,\n+\n+    \"file-size-asc\": function ( a, b ) {\n+        a = ConvertDurationString( a );\n+        b = ConvertDurationString( b );\n+        return ((a < b) ? -1 : ((a > b) ? 1 : 0));\n+    },\n+\n+    \"file-size-desc\": function ( a, b ) {\n+        a = ConvertDurationString( a );\n+        b = ConvertDurationString( b );\n+        return ((a < b) ? 1 : ((a > b) ? -1 : 0));\n+    }\n+} );\n+\n+function createTemplateURI(appId) {\n+    var words = document.baseURI.split('/');\n+    var ind = words.indexOf(\"proxy\");\n+    if (ind > 0) {\n+        var baseURI = words.slice(0, ind + 1).join('/') + '/' + appId + '/static/stagespage-template.html';\n+        return baseURI;\n+    }\n+    ind = words.indexOf(\"history\");\n+    if(ind > 0) {\n+        var baseURI = words.slice(0, ind).join('/') + '/static/stagespage-template.html';\n+        return baseURI;\n+    }\n+    return location.origin + \"/static/stagespage-template.html\";\n+}\n+\n+// This function will only parse the URL under certain formate\n+// e.g. https://axonitered-jt1.red.ygrid.yahoo.com:50509/history/application_1502220952225_59143/stages/stage/?id=0&attempt=0\n+function StageEndPoint(appId) {\n+    var words = document.baseURI.split('/');\n+    var words2 = document.baseURI.split('?');\n+    var ind = words.indexOf(\"proxy\");\n+    if (ind > 0) {\n+        var appId = words[ind + 1];\n+        var stageIdLen = words2[1].indexOf('&');\n+        var stageId = words2[1].substr(3, stageIdLen - 3);\n+        var newBaseURI = words.slice(0, ind + 2).join('/');\n+        return newBaseURI + \"/api/v1/applications/\" + appId + \"/stages/\" + stageId;\n+    }\n+    ind = words.indexOf(\"history\");\n+    if (ind > 0) {\n+        var appId = words[ind + 1];\n+        var attemptId = words[ind + 2];\n+        var stageIdLen = words2[1].indexOf('&');\n+        var stageId = words2[1].substr(3, stageIdLen - 3);\n+        var newBaseURI = words.slice(0, ind).join('/');\n+        if (isNaN(attemptId) || attemptId == \"0\") {\n+            return newBaseURI + \"/api/v1/applications/\" + appId + \"/stages/\" + stageId;\n+        } else {\n+            return newBaseURI + \"/api/v1/applications/\" + appId + \"/\" + attemptId + \"/stages/\" + stageId;\n+        }\n+    }\n+    var stageIdLen = words2[1].indexOf('&');\n+    var stageId = words2[1].substr(3, stageIdLen - 3);\n+    return location.origin + \"/api/v1/applications/\" + appId + \"/stages/\" + stageId;\n+}\n+\n+function sortNumber(a,b) {\n+    return a - b;\n+}\n+\n+function quantile(array, percentile) {\n+    index = percentile/100. * (array.length-1);\n+    if (Math.floor(index) == index) {\n+    \tresult = array[index];\n+    } else {\n+        var i = Math.floor(index);\n+        fraction = index - i;\n+        result = array[i];\n+    }\n+    return result;\n+}\n+\n+$(document).ready(function () {\n+    $.extend($.fn.dataTable.defaults, {\n+        stateSave: true,\n+        lengthMenu: [[20, 40, 60, 100, -1], [20, 40, 60, 100, \"All\"]],\n+        pageLength: 20\n+    });\n+\n+    $(\"#showAdditionalMetrics\").append("
  }, {
    "author": {
      "login": "pgandhi999"
    },
    "body": "The reason I wrote that piece of code in javascript is because I thought if in future, the data-column indices needed to be rearranged dynamically, it would make more sense to do it in javascript. But, if you feel otherwise, I shall move it to html.",
    "commit": "ef90c2a2c5c95daef7ce04e0c348181b2e18f677",
    "createdAt": "2017-10-06T19:45:20Z",
    "diffHunk": "@@ -0,0 +1,474 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+$(document).ajaxStop($.unblockUI);\n+$(document).ajaxStart(function () {\n+    $.blockUI({message: '<h3>Loading Tasks Page...</h3>'});\n+});\n+\n+$.extend( $.fn.dataTable.ext.type.order, {\n+    \"file-size-pre\": ConvertDurationString,\n+\n+    \"file-size-asc\": function ( a, b ) {\n+        a = ConvertDurationString( a );\n+        b = ConvertDurationString( b );\n+        return ((a < b) ? -1 : ((a > b) ? 1 : 0));\n+    },\n+\n+    \"file-size-desc\": function ( a, b ) {\n+        a = ConvertDurationString( a );\n+        b = ConvertDurationString( b );\n+        return ((a < b) ? 1 : ((a > b) ? -1 : 0));\n+    }\n+} );\n+\n+function createTemplateURI(appId) {\n+    var words = document.baseURI.split('/');\n+    var ind = words.indexOf(\"proxy\");\n+    if (ind > 0) {\n+        var baseURI = words.slice(0, ind + 1).join('/') + '/' + appId + '/static/stagespage-template.html';\n+        return baseURI;\n+    }\n+    ind = words.indexOf(\"history\");\n+    if(ind > 0) {\n+        var baseURI = words.slice(0, ind).join('/') + '/static/stagespage-template.html';\n+        return baseURI;\n+    }\n+    return location.origin + \"/static/stagespage-template.html\";\n+}\n+\n+// This function will only parse the URL under certain formate\n+// e.g. https://axonitered-jt1.red.ygrid.yahoo.com:50509/history/application_1502220952225_59143/stages/stage/?id=0&attempt=0\n+function StageEndPoint(appId) {\n+    var words = document.baseURI.split('/');\n+    var words2 = document.baseURI.split('?');\n+    var ind = words.indexOf(\"proxy\");\n+    if (ind > 0) {\n+        var appId = words[ind + 1];\n+        var stageIdLen = words2[1].indexOf('&');\n+        var stageId = words2[1].substr(3, stageIdLen - 3);\n+        var newBaseURI = words.slice(0, ind + 2).join('/');\n+        return newBaseURI + \"/api/v1/applications/\" + appId + \"/stages/\" + stageId;\n+    }\n+    ind = words.indexOf(\"history\");\n+    if (ind > 0) {\n+        var appId = words[ind + 1];\n+        var attemptId = words[ind + 2];\n+        var stageIdLen = words2[1].indexOf('&');\n+        var stageId = words2[1].substr(3, stageIdLen - 3);\n+        var newBaseURI = words.slice(0, ind).join('/');\n+        if (isNaN(attemptId) || attemptId == \"0\") {\n+            return newBaseURI + \"/api/v1/applications/\" + appId + \"/stages/\" + stageId;\n+        } else {\n+            return newBaseURI + \"/api/v1/applications/\" + appId + \"/\" + attemptId + \"/stages/\" + stageId;\n+        }\n+    }\n+    var stageIdLen = words2[1].indexOf('&');\n+    var stageId = words2[1].substr(3, stageIdLen - 3);\n+    return location.origin + \"/api/v1/applications/\" + appId + \"/stages/\" + stageId;\n+}\n+\n+function sortNumber(a,b) {\n+    return a - b;\n+}\n+\n+function quantile(array, percentile) {\n+    index = percentile/100. * (array.length-1);\n+    if (Math.floor(index) == index) {\n+    \tresult = array[index];\n+    } else {\n+        var i = Math.floor(index);\n+        fraction = index - i;\n+        result = array[i];\n+    }\n+    return result;\n+}\n+\n+$(document).ready(function () {\n+    $.extend($.fn.dataTable.defaults, {\n+        stateSave: true,\n+        lengthMenu: [[20, 40, 60, 100, -1], [20, 40, 60, 100, \"All\"]],\n+        pageLength: 20\n+    });\n+\n+    $(\"#showAdditionalMetrics\").append("
  }],
  "prId": 19270
}, {
  "comments": [{
    "author": {
      "login": "ajbozarth"
    },
    "body": "nite: space before `{`",
    "commit": "ef90c2a2c5c95daef7ce04e0c348181b2e18f677",
    "createdAt": "2017-10-04T20:24:00Z",
    "diffHunk": "@@ -0,0 +1,474 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+$(document).ajaxStop($.unblockUI);\n+$(document).ajaxStart(function () {\n+    $.blockUI({message: '<h3>Loading Tasks Page...</h3>'});\n+});\n+\n+$.extend( $.fn.dataTable.ext.type.order, {\n+    \"file-size-pre\": ConvertDurationString,\n+\n+    \"file-size-asc\": function ( a, b ) {\n+        a = ConvertDurationString( a );\n+        b = ConvertDurationString( b );\n+        return ((a < b) ? -1 : ((a > b) ? 1 : 0));\n+    },\n+\n+    \"file-size-desc\": function ( a, b ) {\n+        a = ConvertDurationString( a );\n+        b = ConvertDurationString( b );\n+        return ((a < b) ? 1 : ((a > b) ? -1 : 0));\n+    }\n+} );\n+\n+function createTemplateURI(appId) {\n+    var words = document.baseURI.split('/');\n+    var ind = words.indexOf(\"proxy\");\n+    if (ind > 0) {\n+        var baseURI = words.slice(0, ind + 1).join('/') + '/' + appId + '/static/stagespage-template.html';\n+        return baseURI;\n+    }\n+    ind = words.indexOf(\"history\");\n+    if(ind > 0) {\n+        var baseURI = words.slice(0, ind).join('/') + '/static/stagespage-template.html';\n+        return baseURI;\n+    }\n+    return location.origin + \"/static/stagespage-template.html\";\n+}\n+\n+// This function will only parse the URL under certain formate\n+// e.g. https://axonitered-jt1.red.ygrid.yahoo.com:50509/history/application_1502220952225_59143/stages/stage/?id=0&attempt=0\n+function StageEndPoint(appId) {\n+    var words = document.baseURI.split('/');\n+    var words2 = document.baseURI.split('?');\n+    var ind = words.indexOf(\"proxy\");\n+    if (ind > 0) {\n+        var appId = words[ind + 1];\n+        var stageIdLen = words2[1].indexOf('&');\n+        var stageId = words2[1].substr(3, stageIdLen - 3);\n+        var newBaseURI = words.slice(0, ind + 2).join('/');\n+        return newBaseURI + \"/api/v1/applications/\" + appId + \"/stages/\" + stageId;\n+    }\n+    ind = words.indexOf(\"history\");\n+    if (ind > 0) {\n+        var appId = words[ind + 1];\n+        var attemptId = words[ind + 2];\n+        var stageIdLen = words2[1].indexOf('&');\n+        var stageId = words2[1].substr(3, stageIdLen - 3);\n+        var newBaseURI = words.slice(0, ind).join('/');\n+        if (isNaN(attemptId) || attemptId == \"0\") {\n+            return newBaseURI + \"/api/v1/applications/\" + appId + \"/stages/\" + stageId;\n+        } else {\n+            return newBaseURI + \"/api/v1/applications/\" + appId + \"/\" + attemptId + \"/stages/\" + stageId;\n+        }\n+    }\n+    var stageIdLen = words2[1].indexOf('&');\n+    var stageId = words2[1].substr(3, stageIdLen - 3);\n+    return location.origin + \"/api/v1/applications/\" + appId + \"/stages/\" + stageId;\n+}\n+\n+function sortNumber(a,b) {\n+    return a - b;\n+}\n+\n+function quantile(array, percentile) {\n+    index = percentile/100. * (array.length-1);\n+    if (Math.floor(index) == index) {\n+    \tresult = array[index];\n+    } else {\n+        var i = Math.floor(index);\n+        fraction = index - i;\n+        result = array[i];\n+    }\n+    return result;\n+}\n+\n+$(document).ready(function () {\n+    $.extend($.fn.dataTable.defaults, {\n+        stateSave: true,\n+        lengthMenu: [[20, 40, 60, 100, -1], [20, 40, 60, 100, \"All\"]],\n+        pageLength: 20\n+    });\n+\n+    $(\"#showAdditionalMetrics\").append(\n+        \"<div><a id='taskMetric'>\" +\n+        \"<span class='expand-input-rate-arrow arrow-closed' id='arrowtoggle1'></span>\" +\n+        \" Show Additional Metrics\" +\n+        \"</a></div>\" +\n+        \"<div class='container-fluid' id='toggle-metrics' hidden>\" +\n+        \"<div><input type='checkbox' class='toggle-vis' id='box-0' data-column='0'> Select All</div>\" +\n+        \"<div><input type='checkbox' class='toggle-vis' id='box-10' data-column='10'> Scheduler Delay</div>\" +\n+        \"<div><input type='checkbox' class='toggle-vis' id='box-11' data-column='11'> Task Deserialization Time</div>\" +\n+        \"<div><input type='checkbox' class='toggle-vis' id='box-12' data-column='12'> Shuffle Read Blocked Time</div>\" +\n+        \"<div><input type='checkbox' class='toggle-vis' id='box-13' data-column='13'> Shuffle Remote Reads</div>\" +\n+        \"<div><input type='checkbox' class='toggle-vis' id='box-14' data-column='14'> Result Serialization Time</div>\" +\n+        \"<div><input type='checkbox' class='toggle-vis' id='box-15' data-column='15'> Getting Result Time</div>\" +\n+        \"<div><input type='checkbox' class='toggle-vis' id='box-16' data-column='16'> Peak Execution Memory</div>\" +\n+        \"</div>\");\n+\n+    tasksSummary = $(\"#active-tasks\");\n+    getStandAloneAppId(function (appId) {\n+\n+        var endPoint = StageEndPoint(appId);\n+        $.getJSON(endPoint, function(response, status, jqXHR) {\n+\n+            // prepare data for tasks table\n+            var indices = Object.keys(response[0].tasks);\n+            var task_table = [];\n+            indices.forEach(function (ix){"
  }, {
    "author": {
      "login": "pgandhi999"
    },
    "body": "Fixed",
    "commit": "ef90c2a2c5c95daef7ce04e0c348181b2e18f677",
    "createdAt": "2017-10-06T19:15:12Z",
    "diffHunk": "@@ -0,0 +1,474 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+$(document).ajaxStop($.unblockUI);\n+$(document).ajaxStart(function () {\n+    $.blockUI({message: '<h3>Loading Tasks Page...</h3>'});\n+});\n+\n+$.extend( $.fn.dataTable.ext.type.order, {\n+    \"file-size-pre\": ConvertDurationString,\n+\n+    \"file-size-asc\": function ( a, b ) {\n+        a = ConvertDurationString( a );\n+        b = ConvertDurationString( b );\n+        return ((a < b) ? -1 : ((a > b) ? 1 : 0));\n+    },\n+\n+    \"file-size-desc\": function ( a, b ) {\n+        a = ConvertDurationString( a );\n+        b = ConvertDurationString( b );\n+        return ((a < b) ? 1 : ((a > b) ? -1 : 0));\n+    }\n+} );\n+\n+function createTemplateURI(appId) {\n+    var words = document.baseURI.split('/');\n+    var ind = words.indexOf(\"proxy\");\n+    if (ind > 0) {\n+        var baseURI = words.slice(0, ind + 1).join('/') + '/' + appId + '/static/stagespage-template.html';\n+        return baseURI;\n+    }\n+    ind = words.indexOf(\"history\");\n+    if(ind > 0) {\n+        var baseURI = words.slice(0, ind).join('/') + '/static/stagespage-template.html';\n+        return baseURI;\n+    }\n+    return location.origin + \"/static/stagespage-template.html\";\n+}\n+\n+// This function will only parse the URL under certain formate\n+// e.g. https://axonitered-jt1.red.ygrid.yahoo.com:50509/history/application_1502220952225_59143/stages/stage/?id=0&attempt=0\n+function StageEndPoint(appId) {\n+    var words = document.baseURI.split('/');\n+    var words2 = document.baseURI.split('?');\n+    var ind = words.indexOf(\"proxy\");\n+    if (ind > 0) {\n+        var appId = words[ind + 1];\n+        var stageIdLen = words2[1].indexOf('&');\n+        var stageId = words2[1].substr(3, stageIdLen - 3);\n+        var newBaseURI = words.slice(0, ind + 2).join('/');\n+        return newBaseURI + \"/api/v1/applications/\" + appId + \"/stages/\" + stageId;\n+    }\n+    ind = words.indexOf(\"history\");\n+    if (ind > 0) {\n+        var appId = words[ind + 1];\n+        var attemptId = words[ind + 2];\n+        var stageIdLen = words2[1].indexOf('&');\n+        var stageId = words2[1].substr(3, stageIdLen - 3);\n+        var newBaseURI = words.slice(0, ind).join('/');\n+        if (isNaN(attemptId) || attemptId == \"0\") {\n+            return newBaseURI + \"/api/v1/applications/\" + appId + \"/stages/\" + stageId;\n+        } else {\n+            return newBaseURI + \"/api/v1/applications/\" + appId + \"/\" + attemptId + \"/stages/\" + stageId;\n+        }\n+    }\n+    var stageIdLen = words2[1].indexOf('&');\n+    var stageId = words2[1].substr(3, stageIdLen - 3);\n+    return location.origin + \"/api/v1/applications/\" + appId + \"/stages/\" + stageId;\n+}\n+\n+function sortNumber(a,b) {\n+    return a - b;\n+}\n+\n+function quantile(array, percentile) {\n+    index = percentile/100. * (array.length-1);\n+    if (Math.floor(index) == index) {\n+    \tresult = array[index];\n+    } else {\n+        var i = Math.floor(index);\n+        fraction = index - i;\n+        result = array[i];\n+    }\n+    return result;\n+}\n+\n+$(document).ready(function () {\n+    $.extend($.fn.dataTable.defaults, {\n+        stateSave: true,\n+        lengthMenu: [[20, 40, 60, 100, -1], [20, 40, 60, 100, \"All\"]],\n+        pageLength: 20\n+    });\n+\n+    $(\"#showAdditionalMetrics\").append(\n+        \"<div><a id='taskMetric'>\" +\n+        \"<span class='expand-input-rate-arrow arrow-closed' id='arrowtoggle1'></span>\" +\n+        \" Show Additional Metrics\" +\n+        \"</a></div>\" +\n+        \"<div class='container-fluid' id='toggle-metrics' hidden>\" +\n+        \"<div><input type='checkbox' class='toggle-vis' id='box-0' data-column='0'> Select All</div>\" +\n+        \"<div><input type='checkbox' class='toggle-vis' id='box-10' data-column='10'> Scheduler Delay</div>\" +\n+        \"<div><input type='checkbox' class='toggle-vis' id='box-11' data-column='11'> Task Deserialization Time</div>\" +\n+        \"<div><input type='checkbox' class='toggle-vis' id='box-12' data-column='12'> Shuffle Read Blocked Time</div>\" +\n+        \"<div><input type='checkbox' class='toggle-vis' id='box-13' data-column='13'> Shuffle Remote Reads</div>\" +\n+        \"<div><input type='checkbox' class='toggle-vis' id='box-14' data-column='14'> Result Serialization Time</div>\" +\n+        \"<div><input type='checkbox' class='toggle-vis' id='box-15' data-column='15'> Getting Result Time</div>\" +\n+        \"<div><input type='checkbox' class='toggle-vis' id='box-16' data-column='16'> Peak Execution Memory</div>\" +\n+        \"</div>\");\n+\n+    tasksSummary = $(\"#active-tasks\");\n+    getStandAloneAppId(function (appId) {\n+\n+        var endPoint = StageEndPoint(appId);\n+        $.getJSON(endPoint, function(response, status, jqXHR) {\n+\n+            // prepare data for tasks table\n+            var indices = Object.keys(response[0].tasks);\n+            var task_table = [];\n+            indices.forEach(function (ix){"
  }],
  "prId": 19270
}]