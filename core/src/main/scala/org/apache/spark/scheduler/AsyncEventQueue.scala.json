[{
  "comments": [{
    "author": {
      "login": "dongjoon-hyun"
    },
    "body": "@shivusondur \r\nAccording to line 163, this seems to drop the first log completely.\r\nCould you add some test case for your PR?",
    "commit": "0f2b2d144ed2f44d30f01515516cc25d3b214cb2",
    "createdAt": "2018-10-09T20:21:38Z",
    "diffHunk": "@@ -159,6 +159,11 @@ private class AsyncEventQueue(\n \n     val droppedCount = droppedEventsCounter.get\n     if (droppedCount > 0) {\n+      // If first time the dropEvent occurs, then record current time as the\n+      // lastReportTimestamp.\n+      if (lastReportTimestamp == 0) {\n+        lastReportTimestamp = System.currentTimeMillis()"
  }, {
    "author": {
      "login": "shivusondur"
    },
    "body": "Yes i will do",
    "commit": "0f2b2d144ed2f44d30f01515516cc25d3b214cb2",
    "createdAt": "2018-10-10T09:44:01Z",
    "diffHunk": "@@ -159,6 +159,11 @@ private class AsyncEventQueue(\n \n     val droppedCount = droppedEventsCounter.get\n     if (droppedCount > 0) {\n+      // If first time the dropEvent occurs, then record current time as the\n+      // lastReportTimestamp.\n+      if (lastReportTimestamp == 0) {\n+        lastReportTimestamp = System.currentTimeMillis()"
  }],
  "prId": 22677
}, {
  "comments": [{
    "author": {
      "login": "dongjoon-hyun"
    },
    "body": "nit. \"start of the application\" -> \"the application starts\", @shivusondur ?",
    "commit": "0f2b2d144ed2f44d30f01515516cc25d3b214cb2",
    "createdAt": "2018-10-18T06:38:42Z",
    "diffHunk": "@@ -169,7 +169,8 @@ private class AsyncEventQueue(\n           val prevLastReportTimestamp = lastReportTimestamp\n           lastReportTimestamp = System.currentTimeMillis()\n           val previous = new java.util.Date(prevLastReportTimestamp)\n-          logWarning(s\"Dropped $droppedCount events from $name since $previous.\")\n+          logWarning(s\"Dropped $droppedCount events from $name since \" +\n+            s\"${if (prevLastReportTimestamp == 0) \"start of the application\" else s\"$previous\"}.\")"
  }, {
    "author": {
      "login": "shivusondur"
    },
    "body": "@dongjoon-hyun Done.",
    "commit": "0f2b2d144ed2f44d30f01515516cc25d3b214cb2",
    "createdAt": "2018-10-18T07:16:20Z",
    "diffHunk": "@@ -169,7 +169,8 @@ private class AsyncEventQueue(\n           val prevLastReportTimestamp = lastReportTimestamp\n           lastReportTimestamp = System.currentTimeMillis()\n           val previous = new java.util.Date(prevLastReportTimestamp)\n-          logWarning(s\"Dropped $droppedCount events from $name since $previous.\")\n+          logWarning(s\"Dropped $droppedCount events from $name since \" +\n+            s\"${if (prevLastReportTimestamp == 0) \"start of the application\" else s\"$previous\"}.\")"
  }],
  "prId": 22677
}, {
  "comments": [{
    "author": {
      "login": "vanzin"
    },
    "body": "Actually the previous version was grammatically correct. Either:\r\n\r\n- since the application started\r\n- since the start of the application\r\n\r\nBut not the current version...",
    "commit": "0f2b2d144ed2f44d30f01515516cc25d3b214cb2",
    "createdAt": "2018-10-18T17:14:53Z",
    "diffHunk": "@@ -169,7 +169,8 @@ private class AsyncEventQueue(\n           val prevLastReportTimestamp = lastReportTimestamp\n           lastReportTimestamp = System.currentTimeMillis()\n           val previous = new java.util.Date(prevLastReportTimestamp)\n-          logWarning(s\"Dropped $droppedCount events from $name since $previous.\")\n+          logWarning(s\"Dropped $droppedCount events from $name since \" +\n+            s\"${if (prevLastReportTimestamp == 0) \"the application starts\" else s\"$previous\"}.\")"
  }, {
    "author": {
      "login": "shivusondur"
    },
    "body": "@vanzin \r\nThanks for your comment.\r\nUpdated code according to your suggestion.",
    "commit": "0f2b2d144ed2f44d30f01515516cc25d3b214cb2",
    "createdAt": "2018-10-18T19:40:23Z",
    "diffHunk": "@@ -169,7 +169,8 @@ private class AsyncEventQueue(\n           val prevLastReportTimestamp = lastReportTimestamp\n           lastReportTimestamp = System.currentTimeMillis()\n           val previous = new java.util.Date(prevLastReportTimestamp)\n-          logWarning(s\"Dropped $droppedCount events from $name since $previous.\")\n+          logWarning(s\"Dropped $droppedCount events from $name since \" +\n+            s\"${if (prevLastReportTimestamp == 0) \"the application starts\" else s\"$previous\"}.\")"
  }, {
    "author": {
      "login": "dongjoon-hyun"
    },
    "body": "Oops. I missed the past tense.",
    "commit": "0f2b2d144ed2f44d30f01515516cc25d3b214cb2",
    "createdAt": "2018-10-18T22:01:55Z",
    "diffHunk": "@@ -169,7 +169,8 @@ private class AsyncEventQueue(\n           val prevLastReportTimestamp = lastReportTimestamp\n           lastReportTimestamp = System.currentTimeMillis()\n           val previous = new java.util.Date(prevLastReportTimestamp)\n-          logWarning(s\"Dropped $droppedCount events from $name since $previous.\")\n+          logWarning(s\"Dropped $droppedCount events from $name since \" +\n+            s\"${if (prevLastReportTimestamp == 0) \"the application starts\" else s\"$previous\"}.\")"
  }],
  "prId": 22677
}]