[{
  "comments": [{
    "author": {
      "login": "squito"
    },
    "body": "`failureReason` should always be present in this call, so it shouldn't be an `Option` as an arg to this method.\r\n\r\n(I realize this is a bit of a pain as you have to modify all the call sites in tests, sorry about that).",
    "commit": "d01e112d2578e205fa4ce07adee2aa0a4887a367",
    "createdAt": "2017-09-25T16:12:19Z",
    "diffHunk": "@@ -94,7 +96,9 @@ private[scheduler] class TaskSetBlacklist(val conf: SparkConf, val stageId: Int,\n   private[scheduler] def updateBlacklistForFailedTask(\n       host: String,\n       exec: String,\n-      index: Int): Unit = {\n+      index: Int,\n+      failureReason: Option[String] = None): Unit = {"
  }, {
    "author": {
      "login": "caneGuy"
    },
    "body": "Actually , you are right.For feature completion i should modify this.",
    "commit": "d01e112d2578e205fa4ce07adee2aa0a4887a367",
    "createdAt": "2017-09-26T01:56:09Z",
    "diffHunk": "@@ -94,7 +96,9 @@ private[scheduler] class TaskSetBlacklist(val conf: SparkConf, val stageId: Int,\n   private[scheduler] def updateBlacklistForFailedTask(\n       host: String,\n       exec: String,\n-      index: Int): Unit = {\n+      index: Int,\n+      failureReason: Option[String] = None): Unit = {"
  }],
  "prId": 19338
}, {
  "comments": [{
    "author": {
      "login": "jerryshao"
    },
    "body": "Can we please avoid public variables here? Also why not make it less verbose to change to `latestFailureReason`?",
    "commit": "d01e112d2578e205fa4ce07adee2aa0a4887a367",
    "createdAt": "2017-09-26T09:22:17Z",
    "diffHunk": "@@ -61,6 +61,8 @@ private[scheduler] class TaskSetBlacklist(val conf: SparkConf, val stageId: Int,\n   private val blacklistedExecs = new HashSet[String]()\n   private val blacklistedNodes = new HashSet[String]()\n \n+  var taskSetLatestFailureReason: String = null"
  }, {
    "author": {
      "login": "caneGuy"
    },
    "body": "I have thought about `public` problem,but we need to get this value from `TaskSetManager`. If i add a `def getLatestFailureReason` make sense? @jerryshao ",
    "commit": "d01e112d2578e205fa4ce07adee2aa0a4887a367",
    "createdAt": "2017-09-26T10:14:04Z",
    "diffHunk": "@@ -61,6 +61,8 @@ private[scheduler] class TaskSetBlacklist(val conf: SparkConf, val stageId: Int,\n   private val blacklistedExecs = new HashSet[String]()\n   private val blacklistedNodes = new HashSet[String]()\n \n+  var taskSetLatestFailureReason: String = null"
  }],
  "prId": 19338
}, {
  "comments": [{
    "author": {
      "login": "squito"
    },
    "body": "@jerryshao the whole class is `private[scheduler]`, so I think is OK.",
    "commit": "d01e112d2578e205fa4ce07adee2aa0a4887a367",
    "createdAt": "2017-09-26T15:47:34Z",
    "diffHunk": "@@ -61,6 +61,16 @@ private[scheduler] class TaskSetBlacklist(val conf: SparkConf, val stageId: Int,\n   private val blacklistedExecs = new HashSet[String]()\n   private val blacklistedNodes = new HashSet[String]()\n \n+  private var latestFailureReason: String = null\n+\n+  /**\n+   * Get the most recent failure reason of this TaskSet.\n+   * @return\n+   */\n+  def getLatestFailureReason: String = {",
    "line": 10
  }, {
    "author": {
      "login": "jerryshao"
    },
    "body": "@squito yes from scope level it is fine. My thought is that this exposes the class member to other class unnecessarily. Yeah it is not a big deal, just my personal preference.",
    "commit": "d01e112d2578e205fa4ce07adee2aa0a4887a367",
    "createdAt": "2017-09-27T01:34:53Z",
    "diffHunk": "@@ -61,6 +61,16 @@ private[scheduler] class TaskSetBlacklist(val conf: SparkConf, val stageId: Int,\n   private val blacklistedExecs = new HashSet[String]()\n   private val blacklistedNodes = new HashSet[String]()\n \n+  private var latestFailureReason: String = null\n+\n+  /**\n+   * Get the most recent failure reason of this TaskSet.\n+   * @return\n+   */\n+  def getLatestFailureReason: String = {",
    "line": 10
  }, {
    "author": {
      "login": "caneGuy"
    },
    "body": "Thanks @jerryshao @squito Could you help trigger an other jenkins test?Since last one has pySpark failure.",
    "commit": "d01e112d2578e205fa4ce07adee2aa0a4887a367",
    "createdAt": "2017-09-27T01:38:13Z",
    "diffHunk": "@@ -61,6 +61,16 @@ private[scheduler] class TaskSetBlacklist(val conf: SparkConf, val stageId: Int,\n   private val blacklistedExecs = new HashSet[String]()\n   private val blacklistedNodes = new HashSet[String]()\n \n+  private var latestFailureReason: String = null\n+\n+  /**\n+   * Get the most recent failure reason of this TaskSet.\n+   * @return\n+   */\n+  def getLatestFailureReason: String = {",
    "line": 10
  }],
  "prId": 19338
}]