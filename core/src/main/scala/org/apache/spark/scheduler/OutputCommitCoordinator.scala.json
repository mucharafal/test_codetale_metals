[{
  "comments": [{
    "author": {
      "login": "ash211"
    },
    "body": "please log a warning here before returning `true` -- reaching this branch is likely indicative of network problems\r\n\r\n```\r\n            logWarning(s\"Authorizing duplicate request to commit for \" +\r\n              s\"attemptNumber=$attemptNumber to commit for stage=$stage, partition=$partition; \" +\r\n              s\"existingCommitter = $existingCommitter. This can indicate dropped network traffic.\")\r\n```",
    "commit": "69b412ac9fd6d6ebd27049cdbaf7a2c5ef75455b",
    "createdAt": "2017-01-11T20:06:23Z",
    "diffHunk": "@@ -165,9 +167,14 @@ private[spark] class OutputCommitCoordinator(conf: SparkConf, isDriver: Boolean)\n             authorizedCommitters(partition) = attemptNumber\n             true\n           case existingCommitter =>\n-            logDebug(s\"Denying attemptNumber=$attemptNumber to commit for stage=$stage, \" +\n-              s\"partition=$partition; existingCommitter = $existingCommitter\")\n-            false\n+            // Coordinator should be idempotent when receiving AskPermissionToCommit.\n+            if (existingCommitter == attemptNumber) {\n+              true"
  }],
  "prId": 16503
}]