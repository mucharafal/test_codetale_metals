[{
  "comments": [{
    "author": {
      "login": "cloud-fan"
    },
    "body": "why do we need this?",
    "commit": "1f71e6583f9f9f270d07323f15c731717e13518d",
    "createdAt": "2018-07-31T13:14:21Z",
    "diffHunk": "@@ -61,6 +61,9 @@ private[spark] trait TaskScheduler {\n    */\n   def killTaskAttempt(taskId: Long, interruptThread: Boolean, reason: String): Boolean\n \n+  // Kill all the running task attempts in a stage.\n+  def killAllTaskAttempts(stageId: Int, interruptThread: Boolean, reason: String): Unit"
  }, {
    "author": {
      "login": "mengxr"
    },
    "body": "I'm also confused here. Is it part of this PR? We should kill all task attempts in case of any task failures in a barrier stage, not limited to context.barrier() failures. Right?",
    "commit": "1f71e6583f9f9f270d07323f15c731717e13518d",
    "createdAt": "2018-07-31T23:42:15Z",
    "diffHunk": "@@ -61,6 +61,9 @@ private[spark] trait TaskScheduler {\n    */\n   def killTaskAttempt(taskId: Long, interruptThread: Boolean, reason: String): Boolean\n \n+  // Kill all the running task attempts in a stage.\n+  def killAllTaskAttempts(stageId: Int, interruptThread: Boolean, reason: String): Unit"
  }, {
    "author": {
      "login": "jiangxb1987"
    },
    "body": "Submitted #21943 , however, still need this here until #21943  is merged, because otherwise the test cases shall fail.",
    "commit": "1f71e6583f9f9f270d07323f15c731717e13518d",
    "createdAt": "2018-08-01T17:47:43Z",
    "diffHunk": "@@ -61,6 +61,9 @@ private[spark] trait TaskScheduler {\n    */\n   def killTaskAttempt(taskId: Long, interruptThread: Boolean, reason: String): Boolean\n \n+  // Kill all the running task attempts in a stage.\n+  def killAllTaskAttempts(stageId: Int, interruptThread: Boolean, reason: String): Unit"
  }, {
    "author": {
      "login": "cloud-fan"
    },
    "body": "IIRC killing all tasks is just the best effort, we can guarantee the tasks are all killed. Shall we tolerate this in the barrier scheduling?",
    "commit": "1f71e6583f9f9f270d07323f15c731717e13518d",
    "createdAt": "2018-08-02T04:29:03Z",
    "diffHunk": "@@ -61,6 +61,9 @@ private[spark] trait TaskScheduler {\n    */\n   def killTaskAttempt(taskId: Long, interruptThread: Boolean, reason: String): Boolean\n \n+  // Kill all the running task attempts in a stage.\n+  def killAllTaskAttempts(stageId: Int, interruptThread: Boolean, reason: String): Unit"
  }],
  "prId": 21898
}]