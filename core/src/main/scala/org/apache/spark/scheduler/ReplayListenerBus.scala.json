[{
  "comments": [{
    "author": {
      "login": "srowen"
    },
    "body": "Can this still happen for non-zstd compression though?",
    "commit": "119ad2e9e0beed083e611a8d0a0edc94e6bd7af8",
    "createdAt": "2018-12-06T14:39:38Z",
    "diffHunk": "@@ -118,8 +118,6 @@ private[spark] class ReplayListenerBus extends SparkListenerBus with Logging {\n       case e: HaltReplayException =>\n         // Just stop replay.\n       case _: EOFException if maybeTruncated =>\n-      case _: IOException if maybeTruncated =>",
    "line": 4
  }, {
    "author": {
      "login": "shahidki31"
    },
    "body": "This was added for zstd incomplete frame reading issue. But after this change, that issue is no longer happens. Yes. we can keep as it is.",
    "commit": "119ad2e9e0beed083e611a8d0a0edc94e6bd7af8",
    "createdAt": "2018-12-06T15:29:52Z",
    "diffHunk": "@@ -118,8 +118,6 @@ private[spark] class ReplayListenerBus extends SparkListenerBus with Logging {\n       case e: HaltReplayException =>\n         // Just stop replay.\n       case _: EOFException if maybeTruncated =>\n-      case _: IOException if maybeTruncated =>",
    "line": 4
  }],
  "prId": 23241
}, {
  "comments": [{
    "author": {
      "login": "srowen"
    },
    "body": "I think this was already the behavior? if it doesn't match the 'if' it would just throw anyway",
    "commit": "119ad2e9e0beed083e611a8d0a0edc94e6bd7af8",
    "createdAt": "2018-12-06T16:42:51Z",
    "diffHunk": "@@ -118,10 +118,12 @@ private[spark] class ReplayListenerBus extends SparkListenerBus with Logging {\n       case e: HaltReplayException =>\n         // Just stop replay.\n       case _: EOFException if maybeTruncated =>\n-      case _: IOException if maybeTruncated =>\n-        logWarning(s\"Failed to read Spark event log: $sourceName\")\n       case ioe: IOException =>\n-        throw ioe\n+        if (maybeTruncated) {"
  }, {
    "author": {
      "login": "shahidki31"
    },
    "body": "Yes. I think, I simplified it in one block.",
    "commit": "119ad2e9e0beed083e611a8d0a0edc94e6bd7af8",
    "createdAt": "2018-12-06T16:54:21Z",
    "diffHunk": "@@ -118,10 +118,12 @@ private[spark] class ReplayListenerBus extends SparkListenerBus with Logging {\n       case e: HaltReplayException =>\n         // Just stop replay.\n       case _: EOFException if maybeTruncated =>\n-      case _: IOException if maybeTruncated =>\n-        logWarning(s\"Failed to read Spark event log: $sourceName\")\n       case ioe: IOException =>\n-        throw ioe\n+        if (maybeTruncated) {"
  }, {
    "author": {
      "login": "srowen"
    },
    "body": "Oh I see. Actually, what about just removing the second case? it's simpler to just let it throw.",
    "commit": "119ad2e9e0beed083e611a8d0a0edc94e6bd7af8",
    "createdAt": "2018-12-06T16:59:16Z",
    "diffHunk": "@@ -118,10 +118,12 @@ private[spark] class ReplayListenerBus extends SparkListenerBus with Logging {\n       case e: HaltReplayException =>\n         // Just stop replay.\n       case _: EOFException if maybeTruncated =>\n-      case _: IOException if maybeTruncated =>\n-        logWarning(s\"Failed to read Spark event log: $sourceName\")\n       case ioe: IOException =>\n-        throw ioe\n+        if (maybeTruncated) {"
  }, {
    "author": {
      "login": "shahidki31"
    },
    "body": "Thanks. updated",
    "commit": "119ad2e9e0beed083e611a8d0a0edc94e6bd7af8",
    "createdAt": "2018-12-06T17:03:46Z",
    "diffHunk": "@@ -118,10 +118,12 @@ private[spark] class ReplayListenerBus extends SparkListenerBus with Logging {\n       case e: HaltReplayException =>\n         // Just stop replay.\n       case _: EOFException if maybeTruncated =>\n-      case _: IOException if maybeTruncated =>\n-        logWarning(s\"Failed to read Spark event log: $sourceName\")\n       case ioe: IOException =>\n-        throw ioe\n+        if (maybeTruncated) {"
  }],
  "prId": 23241
}, {
  "comments": [{
    "author": {
      "login": "srowen"
    },
    "body": "OK, this could be OK, if this was really added only to address what you are fixing here.",
    "commit": "119ad2e9e0beed083e611a8d0a0edc94e6bd7af8",
    "createdAt": "2018-12-06T19:49:18Z",
    "diffHunk": "@@ -118,8 +118,6 @@ private[spark] class ReplayListenerBus extends SparkListenerBus with Logging {\n       case e: HaltReplayException =>\n         // Just stop replay.\n       case _: EOFException if maybeTruncated =>\n-      case _: IOException if maybeTruncated =>",
    "line": 4
  }],
  "prId": 23241
}]