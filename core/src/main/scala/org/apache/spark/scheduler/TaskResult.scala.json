[{
  "comments": [{
    "author": {
      "login": "markhamstra"
    },
    "body": "I'm a little surprised that we were getting away with that, given the number of places that are using DirectTaskResult#accumUpdates without checking for null.\n",
    "commit": "278122e30c1cf9386d835e204038e141e900bea6",
    "createdAt": "2016-05-23T04:58:24Z",
    "diffHunk": "@@ -59,7 +59,7 @@ private[spark] class DirectTaskResult[T](\n \n     val numUpdates = in.readInt\n     if (numUpdates == 0) {\n-      accumUpdates = null\n+      accumUpdates = Seq()",
    "line": 5
  }, {
    "author": {
      "login": "squito"
    },
    "body": "yeah, likewise.  I guess in all real spark jobs, the number of accum updates is > 0, which is why this didn't particularly matter except for these mocks.  OTOH if this has any real danger we should just fix this separately (and be sure to include it in 2.0)\n",
    "commit": "278122e30c1cf9386d835e204038e141e900bea6",
    "createdAt": "2016-05-23T14:00:45Z",
    "diffHunk": "@@ -59,7 +59,7 @@ private[spark] class DirectTaskResult[T](\n \n     val numUpdates = in.readInt\n     if (numUpdates == 0) {\n-      accumUpdates = null\n+      accumUpdates = Seq()",
    "line": 5
  }],
  "prId": 8559
}]