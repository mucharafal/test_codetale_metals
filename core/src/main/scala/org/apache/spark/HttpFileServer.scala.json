[{
  "comments": [{
    "author": {
      "login": "srowen"
    },
    "body": "This seems OK to me. I would make the error log a warning though as it's non-fatal. Consider using an interpolated string here as you do below.\n",
    "commit": "fbbc7857816aae5ce0c5d900783485f938f28447",
    "createdAt": "2015-02-06T15:14:37Z",
    "diffHunk": "@@ -50,6 +50,15 @@ private[spark] class HttpFileServer(\n \n   def stop() {\n     httpServer.stop()\n+    \n+    // If we only stop sc, but the driver process still run as a services then we need to delete \n+    // the tmp dir, if not, it will create too many tmp dirs\n+    try {\n+      Utils.deleteRecursively(baseDir)",
    "line": 8
  }],
  "prId": 4412
}, {
  "comments": [{
    "author": {
      "login": "srowen"
    },
    "body": "Nit: consider interpolation here\n",
    "commit": "fbbc7857816aae5ce0c5d900783485f938f28447",
    "createdAt": "2015-02-10T09:34:16Z",
    "diffHunk": "@@ -50,6 +50,15 @@ private[spark] class HttpFileServer(\n \n   def stop() {\n     httpServer.stop()\n+    \n+    // If we only stop sc, but the driver process still run as a services then we need to delete \n+    // the tmp dir, if not, it will create too many tmp dirs\n+    try {\n+      Utils.deleteRecursively(baseDir)\n+    } catch {\n+      case e: Exception =>\n+        logWarning(\"Exception while deleting Spark temp dir: \" + baseDir.getAbsolutePath, e)"
  }, {
    "author": {
      "login": "Sephiroth-Lin"
    },
    "body": "OK.\n",
    "commit": "fbbc7857816aae5ce0c5d900783485f938f28447",
    "createdAt": "2015-02-10T11:05:05Z",
    "diffHunk": "@@ -50,6 +50,15 @@ private[spark] class HttpFileServer(\n \n   def stop() {\n     httpServer.stop()\n+    \n+    // If we only stop sc, but the driver process still run as a services then we need to delete \n+    // the tmp dir, if not, it will create too many tmp dirs\n+    try {\n+      Utils.deleteRecursively(baseDir)\n+    } catch {\n+      case e: Exception =>\n+        logWarning(\"Exception while deleting Spark temp dir: \" + baseDir.getAbsolutePath, e)"
  }],
  "prId": 4412
}]