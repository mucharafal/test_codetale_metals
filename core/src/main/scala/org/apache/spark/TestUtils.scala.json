[{
  "comments": [{
    "author": {
      "login": "JoshRosen"
    },
    "body": "In here (and FileServerSuite), I think that the bug is that this should be `nRead >= 0`.  If `nRead` is less than the length of `file` but greater than 0, then I think this would exit the loop without having copied the whole file.\n",
    "commit": "e724a9f118e98c056592424ac3bc27a330a4fed7",
    "createdAt": "2014-10-28T03:26:31Z",
    "diffHunk": "@@ -64,12 +64,7 @@ private[spark] object TestUtils {\n       jarStream.putNextEntry(jarEntry)\n \n       val in = new FileInputStream(file)\n-      val buffer = new Array[Byte](10240)\n-      var nRead = 0\n-      while (nRead <= 0) {",
    "line": 16
  }],
  "prId": 2969
}]