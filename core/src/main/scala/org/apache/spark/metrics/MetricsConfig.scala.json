[{
  "comments": [{
    "author": {
      "login": "srowen"
    },
    "body": "Actually one last question - does this cause prometheusServlet to always be configured and available? I had thought this more opt-in, that it wouldn't be on by default unless configured. Just checking whether that's true.",
    "commit": "0fda09667478b5010e53d614be4655fd01b845a7",
    "createdAt": "2019-09-12T13:51:12Z",
    "diffHunk": "@@ -43,6 +43,12 @@ private[spark] class MetricsConfig(conf: SparkConf) extends Logging {\n     prop.setProperty(\"*.sink.servlet.path\", \"/metrics/json\")\n     prop.setProperty(\"master.sink.servlet.path\", \"/metrics/master/json\")\n     prop.setProperty(\"applications.sink.servlet.path\", \"/metrics/applications/json\")\n+\n+    prop.setProperty(\"*.sink.prometheusServlet.class\","
  }, {
    "author": {
      "login": "dongjoon-hyun"
    },
    "body": "Thank you for review again. Right. For now, it enables this always like `/metrics/json`.\r\nI thought it's okay since it's for 3.0.0.",
    "commit": "0fda09667478b5010e53d614be4655fd01b845a7",
    "createdAt": "2019-09-12T16:14:22Z",
    "diffHunk": "@@ -43,6 +43,12 @@ private[spark] class MetricsConfig(conf: SparkConf) extends Logging {\n     prop.setProperty(\"*.sink.servlet.path\", \"/metrics/json\")\n     prop.setProperty(\"master.sink.servlet.path\", \"/metrics/master/json\")\n     prop.setProperty(\"applications.sink.servlet.path\", \"/metrics/applications/json\")\n+\n+    prop.setProperty(\"*.sink.prometheusServlet.class\","
  }, {
    "author": {
      "login": "srowen"
    },
    "body": "Per your comment below -- OK so these things aren't active unless configured explicitly. That seems fine. ",
    "commit": "0fda09667478b5010e53d614be4655fd01b845a7",
    "createdAt": "2019-09-12T16:23:46Z",
    "diffHunk": "@@ -43,6 +43,12 @@ private[spark] class MetricsConfig(conf: SparkConf) extends Logging {\n     prop.setProperty(\"*.sink.servlet.path\", \"/metrics/json\")\n     prop.setProperty(\"master.sink.servlet.path\", \"/metrics/master/json\")\n     prop.setProperty(\"applications.sink.servlet.path\", \"/metrics/applications/json\")\n+\n+    prop.setProperty(\"*.sink.prometheusServlet.class\","
  }],
  "prId": 25769
}]