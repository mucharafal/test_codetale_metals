[{
  "comments": [{
    "author": {
      "login": "viirya"
    },
    "body": "I think you only need to change scope of TempFileBasedBlockStoreUpdater, not BlockStoreUpdater?",
    "commit": "5cdbab3659edd219bff462ce4d004724cff68e10",
    "createdAt": "2019-07-31T03:33:45Z",
    "diffHunk": "@@ -211,7 +211,7 @@ private[spark] class BlockManager(\n    *\n    * @param blockSize the decrypted size of the block\n    */\n-  private abstract class BlockStoreUpdater[T](\n+  private[spark] abstract class BlockStoreUpdater[T](",
    "line": 5
  }, {
    "author": {
      "login": "Ngone51"
    },
    "body": "I'm afraid not. if we revive the scope here, compiler would say:\r\n\r\n```\r\n[error] /Users/wuyi/workspace/spark/core/src/main/scala/org/apache/spark/storage/BlockManager.scala:368: private class BlockStoreUpdater escapes its defining scope as part of type BlockManager.this.BlockStoreUpdater[T]\r\n[error]     extends BlockStoreUpdater[T](blockSize, blockId, level, classTag, tellMaster, keepReadLock) {\r\n[error]             ^\r\n[error] /Users/wuyi/workspace/spark/core/src/main/scala/org/apache/spark/storage/BlockManager.scala:368: no arguments allowed for nullary constructor Object: ()Object\r\n[error]     extends BlockStoreUpdater[T](blockSize, blockId, level, classTag, tellMaster, keepReadLock) {\r\n[error]                                  ^\r\n[error] /Users/wuyi/workspace/spark/core/src/main/scala/org/apache/spark/storage/BlockManager.scala:383: value save is not a member of Product with Serializable\r\n[error]       val res = super.save()\r\n[error]                       ^\r\n[error] three errors found\r\n[error] Compile failed at 2019-7-31 23:08:25 [36.500s]\r\n```",
    "commit": "5cdbab3659edd219bff462ce4d004724cff68e10",
    "createdAt": "2019-07-31T15:13:15Z",
    "diffHunk": "@@ -211,7 +211,7 @@ private[spark] class BlockManager(\n    *\n    * @param blockSize the decrypted size of the block\n    */\n-  private abstract class BlockStoreUpdater[T](\n+  private[spark] abstract class BlockStoreUpdater[T](",
    "line": 5
  }],
  "prId": 25262
}]