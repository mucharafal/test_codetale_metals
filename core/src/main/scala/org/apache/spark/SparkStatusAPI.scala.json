[{
  "comments": [{
    "author": {
      "login": "rxin"
    },
    "body": "why bother having this? we can just do new ....\n",
    "commit": "30b0afa7e2f0b4e40f56867a515ec1cea07c43e9",
    "createdAt": "2014-11-14T05:51:38Z",
    "diffHunk": "@@ -140,3 +103,10 @@ private[spark] trait SparkStatusAPI { this: SparkContext =>\n     }\n   }\n }\n+\n+private[spark] object SparkStatusAPI {"
  }, {
    "author": {
      "login": "JoshRosen"
    },
    "body": "The goal here was to hide this class's constructor from users so that we're free to change it later.  I think that making constructors part of public APIs is a bad idea.\n",
    "commit": "30b0afa7e2f0b4e40f56867a515ec1cea07c43e9",
    "createdAt": "2014-11-14T06:12:07Z",
    "diffHunk": "@@ -140,3 +103,10 @@ private[spark] trait SparkStatusAPI { this: SparkContext =>\n     }\n   }\n }\n+\n+private[spark] object SparkStatusAPI {"
  }, {
    "author": {
      "login": "rxin"
    },
    "body": "Can't we just make the constructor package private? It is really awkward to me that you have to create a factory for this because users are not supposed to create the status listener by themselves. \n\nIf you really want to be air tight, a more common way is to expose the interface, and then you have a concrete implementation of the interface. Then you don't have the constructor problem. But that seems overkill to me too for this.\n\nIf you really want a factory, I'd use something other than apply.\n",
    "commit": "30b0afa7e2f0b4e40f56867a515ec1cea07c43e9",
    "createdAt": "2014-11-14T07:50:36Z",
    "diffHunk": "@@ -140,3 +103,10 @@ private[spark] trait SparkStatusAPI { this: SparkContext =>\n     }\n   }\n }\n+\n+private[spark] object SparkStatusAPI {"
  }, {
    "author": {
      "login": "JoshRosen"
    },
    "body": "Is there a way to make a Scala constructor Java-package-private as opposed to Scala-package-private, since that can become public from Java's point of view?  I think I originally used this factory pattern for JavaSparkStatusAPI and just kept the same approach here.\n",
    "commit": "30b0afa7e2f0b4e40f56867a515ec1cea07c43e9",
    "createdAt": "2014-11-15T04:55:04Z",
    "diffHunk": "@@ -140,3 +103,10 @@ private[spark] trait SparkStatusAPI { this: SparkContext =>\n     }\n   }\n }\n+\n+private[spark] object SparkStatusAPI {"
  }, {
    "author": {
      "login": "JoshRosen"
    },
    "body": "Also, I think that CompanionObject.apply() might be a fairly common idiom; I think it's used in several of the Scala standard libraries.  I don't really care what we call it, one way or the other, so I can change it if you think that `apply` is confusing. \n",
    "commit": "30b0afa7e2f0b4e40f56867a515ec1cea07c43e9",
    "createdAt": "2014-11-15T05:07:32Z",
    "diffHunk": "@@ -140,3 +103,10 @@ private[spark] trait SparkStatusAPI { this: SparkContext =>\n     }\n   }\n }\n+\n+private[spark] object SparkStatusAPI {"
  }, {
    "author": {
      "login": "rxin"
    },
    "body": "Sorry the main problem I have is that I don't get why we need to protect the constructor at all. It is not something we expect the users to call. Why don't you just remove all of these stuff, and add a line in javadoc for the constructor saying we don't expect users to call this constructor?\n",
    "commit": "30b0afa7e2f0b4e40f56867a515ec1cea07c43e9",
    "createdAt": "2014-11-15T05:11:53Z",
    "diffHunk": "@@ -140,3 +103,10 @@ private[spark] trait SparkStatusAPI { this: SparkContext =>\n     }\n   }\n }\n+\n+private[spark] object SparkStatusAPI {"
  }, {
    "author": {
      "login": "JoshRosen"
    },
    "body": "Sure, that's fine; I'll just make both constructors `private[spark]` and add a note; as long as we've warned users not to call the constructor and hidden it from the Scaladoc, then I don't think anyone should complain if we need to change it later.\n",
    "commit": "30b0afa7e2f0b4e40f56867a515ec1cea07c43e9",
    "createdAt": "2014-11-15T05:28:41Z",
    "diffHunk": "@@ -140,3 +103,10 @@ private[spark] trait SparkStatusAPI { this: SparkContext =>\n     }\n   }\n }\n+\n+private[spark] object SparkStatusAPI {"
  }],
  "prId": 3197
}]