[{
  "comments": [{
    "author": {
      "login": "srowen"
    },
    "body": "Nit: paramater -> parameter\n",
    "commit": "520e180580325652e4e9b966326d778dc379b881",
    "createdAt": "2015-01-28T11:02:53Z",
    "diffHunk": "@@ -32,7 +32,12 @@ private[ui] class JobPage(parent: JobsTab) extends WebUIPage(\"job\") {\n \n   def render(request: HttpServletRequest): Seq[Node] = {\n     listener.synchronized {\n-      val jobId = request.getParameter(\"id\").toInt\n+      val paramaterId = request.getParameter(\"id\")"
  }],
  "prId": 4239
}, {
  "comments": [{
    "author": {
      "login": "srowen"
    },
    "body": "It is `null` if not specified, right?\n",
    "commit": "520e180580325652e4e9b966326d778dc379b881",
    "createdAt": "2015-01-28T11:03:14Z",
    "diffHunk": "@@ -32,7 +32,12 @@ private[ui] class JobPage(parent: JobsTab) extends WebUIPage(\"job\") {\n \n   def render(request: HttpServletRequest): Seq[Node] = {\n     listener.synchronized {\n-      val jobId = request.getParameter(\"id\").toInt\n+      val paramaterId = request.getParameter(\"id\")\n+      if (paramaterId.equals(\"\")) {"
  }, {
    "author": {
      "login": "catap"
    },
    "body": "Nope, is return \"\" when not specified.\n",
    "commit": "520e180580325652e4e9b966326d778dc379b881",
    "createdAt": "2015-01-28T11:12:05Z",
    "diffHunk": "@@ -32,7 +32,12 @@ private[ui] class JobPage(parent: JobsTab) extends WebUIPage(\"job\") {\n \n   def render(request: HttpServletRequest): Seq[Node] = {\n     listener.synchronized {\n-      val jobId = request.getParameter(\"id\").toInt\n+      val paramaterId = request.getParameter(\"id\")\n+      if (paramaterId.equals(\"\")) {"
  }, {
    "author": {
      "login": "srowen"
    },
    "body": "@catap Hm, no it looks like it is in fact `null`: http://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequest.html#getParameter(java.lang.String)\n",
    "commit": "520e180580325652e4e9b966326d778dc379b881",
    "createdAt": "2015-01-28T11:18:14Z",
    "diffHunk": "@@ -32,7 +32,12 @@ private[ui] class JobPage(parent: JobsTab) extends WebUIPage(\"job\") {\n \n   def render(request: HttpServletRequest): Seq[Node] = {\n     listener.synchronized {\n-      val jobId = request.getParameter(\"id\").toInt\n+      val paramaterId = request.getParameter(\"id\")\n+      if (paramaterId.equals(\"\")) {"
  }, {
    "author": {
      "login": "catap"
    },
    "body": "@srowen, yes, you are right.\n\nBut for case `&id=` it's return \"\". And I used this case for testing.\n",
    "commit": "520e180580325652e4e9b966326d778dc379b881",
    "createdAt": "2015-01-28T16:43:48Z",
    "diffHunk": "@@ -32,7 +32,12 @@ private[ui] class JobPage(parent: JobsTab) extends WebUIPage(\"job\") {\n \n   def render(request: HttpServletRequest): Seq[Node] = {\n     listener.synchronized {\n-      val jobId = request.getParameter(\"id\").toInt\n+      val paramaterId = request.getParameter(\"id\")\n+      if (paramaterId.equals(\"\")) {"
  }, {
    "author": {
      "login": "srowen"
    },
    "body": "Yes, but don't you want the code to handle both cases? and test both cases?\n\nOn Wed, Jan 28, 2015 at 4:44 PM, Kirill A. Korinskiy <\nnotifications@github.com> wrote:\n\n> In core/src/main/scala/org/apache/spark/ui/jobs/JobPage.scala\n> https://github.com/apache/spark/pull/4239#discussion_r23700631:\n> \n> > @@ -32,7 +32,12 @@ private[ui] class JobPage(parent: JobsTab) extends WebUIPage(\"job\") {\n> > \n> >    def render(request: HttpServletRequest): Seq[Node] = {\n> >      listener.synchronized {\n> > -      val jobId = request.getParameter(\"id\").toInt\n> > -      val paramaterId = request.getParameter(\"id\")\n> > -      if (paramaterId.equals(\"\")) {\n> \n> @srowen https://github.com/srowen, yes, you are right.\n> \n> But for case &id= it's return \"\". And I used this case for testing.\n> \n> â€”\n> Reply to this email directly or view it on GitHub\n> https://github.com/apache/spark/pull/4239/files#r23700631.\n",
    "commit": "520e180580325652e4e9b966326d778dc379b881",
    "createdAt": "2015-01-28T16:46:23Z",
    "diffHunk": "@@ -32,7 +32,12 @@ private[ui] class JobPage(parent: JobsTab) extends WebUIPage(\"job\") {\n \n   def render(request: HttpServletRequest): Seq[Node] = {\n     listener.synchronized {\n-      val jobId = request.getParameter(\"id\").toInt\n+      val paramaterId = request.getParameter(\"id\")\n+      if (paramaterId.equals(\"\")) {"
  }, {
    "author": {
      "login": "catap"
    },
    "body": "Yes, I updated the code to handle both cases.\n\nBTW I test it only by hand because I not found any testcase for HTTP UI. \n",
    "commit": "520e180580325652e4e9b966326d778dc379b881",
    "createdAt": "2015-01-28T16:49:59Z",
    "diffHunk": "@@ -32,7 +32,12 @@ private[ui] class JobPage(parent: JobsTab) extends WebUIPage(\"job\") {\n \n   def render(request: HttpServletRequest): Seq[Node] = {\n     listener.synchronized {\n-      val jobId = request.getParameter(\"id\").toInt\n+      val paramaterId = request.getParameter(\"id\")\n+      if (paramaterId.equals(\"\")) {"
  }],
  "prId": 4239
}, {
  "comments": [{
    "author": {
      "login": "srowen"
    },
    "body": "Elsewhere the code uses `require(condition, message)` to generate an `IllegalArgumentException`. I think that could be tidier here. You can also use `isEmpty`:\n`require(parameterId != null && !parameterId.isEmpty, \"Missing id parameter\")`\n",
    "commit": "520e180580325652e4e9b966326d778dc379b881",
    "createdAt": "2015-02-07T15:45:49Z",
    "diffHunk": "@@ -32,7 +32,12 @@ private[ui] class JobPage(parent: JobsTab) extends WebUIPage(\"job\") {\n \n   def render(request: HttpServletRequest): Seq[Node] = {\n     listener.synchronized {\n-      val jobId = request.getParameter(\"id\").toInt\n+      val parameterId = request.getParameter(\"id\")",
    "line": 5
  }, {
    "author": {
      "login": "catap"
    },
    "body": "Yes, you're right, but `parameterId.nonEmpty` is more clear, isn't it?\n",
    "commit": "520e180580325652e4e9b966326d778dc379b881",
    "createdAt": "2015-02-07T16:23:27Z",
    "diffHunk": "@@ -32,7 +32,12 @@ private[ui] class JobPage(parent: JobsTab) extends WebUIPage(\"job\") {\n \n   def render(request: HttpServletRequest): Seq[Node] = {\n     listener.synchronized {\n-      val jobId = request.getParameter(\"id\").toInt\n+      val parameterId = request.getParameter(\"id\")",
    "line": 5
  }, {
    "author": {
      "login": "srowen"
    },
    "body": "Ah right, you can use that in Scala. Yes.\n",
    "commit": "520e180580325652e4e9b966326d778dc379b881",
    "createdAt": "2015-02-07T16:24:53Z",
    "diffHunk": "@@ -32,7 +32,12 @@ private[ui] class JobPage(parent: JobsTab) extends WebUIPage(\"job\") {\n \n   def render(request: HttpServletRequest): Seq[Node] = {\n     listener.synchronized {\n-      val jobId = request.getParameter(\"id\").toInt\n+      val parameterId = request.getParameter(\"id\")",
    "line": 5
  }],
  "prId": 4239
}]