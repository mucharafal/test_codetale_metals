[{
  "comments": [{
    "author": {
      "login": "ryan-williams"
    },
    "body": "`requestedIncomplete == app.incomplete` might be simpler\n",
    "commit": "76205d2b66a3c591931bbd0cc7cf358200563d21",
    "createdAt": "2014-11-28T14:34:18Z",
    "diffHunk": "@@ -30,8 +30,12 @@ private[spark] class HistoryPage(parent: HistoryServer) extends WebUIPage(\"\") {\n   def render(request: HttpServletRequest): Seq[Node] = {\n     val requestedPage = Option(request.getParameter(\"page\")).getOrElse(\"1\").toInt\n     val requestedFirst = (requestedPage - 1) * pageSize\n+    val requestedIncomplete =\n+      Option(request.getParameter(\"showIncomplete\")).getOrElse(\"false\").toBoolean\n \n-    val allApps = parent.getApplicationList()\n+    val allApps = parent.getApplicationList().filter( app =>\n+      (!requestedIncomplete && !app.incomplete) || (requestedIncomplete && app.incomplete)"
  }],
  "prId": 3467
}, {
  "comments": [{
    "author": {
      "login": "ryan-williams"
    },
    "body": "nit: s/incompleted/incomplete/\n",
    "commit": "76205d2b66a3c591931bbd0cc7cf358200563d21",
    "createdAt": "2014-11-28T14:35:04Z",
    "diffHunk": "@@ -61,6 +72,15 @@ private[spark] class HistoryPage(parent: HistoryServer) extends WebUIPage(\"\") {\n               <h4>No Completed Applications Found</h4>\n             }\n           }\n+          <a href={makePageLink(actualPage, !requestedIncomplete)}>\n+            {\n+              if (requestedIncomplete) {\n+                \"Back to completed applications\"\n+              } else {\n+                \"Show incompleted applications\""
  }],
  "prId": 3467
}, {
  "comments": [{
    "author": {
      "login": "andrewor14"
    },
    "body": "space before if \n",
    "commit": "76205d2b66a3c591931bbd0cc7cf358200563d21",
    "createdAt": "2014-12-20T02:42:25Z",
    "diffHunk": "@@ -117,8 +129,9 @@ private[spark] class HistoryPage(parent: HistoryServer) extends WebUIPage(\"\") {\n   private def appRow(info: ApplicationHistoryInfo): Seq[Node] = {\n     val uiAddress = HistoryServer.UI_PATH_PREFIX + s\"/${info.id}\"\n     val startTime = UIUtils.formatDate(info.startTime)\n-    val endTime = UIUtils.formatDate(info.endTime)\n-    val duration = UIUtils.formatDuration(info.endTime - info.startTime)\n+    val endTime = if(info.endTime != -1) UIUtils.formatDate(info.endTime) else \"-\""
  }, {
    "author": {
      "login": "andrewor14"
    },
    "body": "also might be good to check for `info.endTime > 0` instead, here and other places\n",
    "commit": "76205d2b66a3c591931bbd0cc7cf358200563d21",
    "createdAt": "2014-12-20T02:42:41Z",
    "diffHunk": "@@ -117,8 +129,9 @@ private[spark] class HistoryPage(parent: HistoryServer) extends WebUIPage(\"\") {\n   private def appRow(info: ApplicationHistoryInfo): Seq[Node] = {\n     val uiAddress = HistoryServer.UI_PATH_PREFIX + s\"/${info.id}\"\n     val startTime = UIUtils.formatDate(info.startTime)\n-    val endTime = UIUtils.formatDate(info.endTime)\n-    val duration = UIUtils.formatDuration(info.endTime - info.startTime)\n+    val endTime = if(info.endTime != -1) UIUtils.formatDate(info.endTime) else \"-\""
  }],
  "prId": 3467
}, {
  "comments": [{
    "author": {
      "login": "andrewor14"
    },
    "body": "should capitalize `Incomplete`\n",
    "commit": "76205d2b66a3c591931bbd0cc7cf358200563d21",
    "createdAt": "2014-12-20T02:46:07Z",
    "diffHunk": "@@ -65,11 +67,12 @@ private[spark] class HistoryPage(parent: HistoryServer) extends WebUIPage(\"\") {\n \n               <h4>\n                 Showing {actualFirst + 1}-{last + 1} of {allApps.size}\n+                {if (requestedIncomplete) \"(incomplete applications)\"}"
  }],
  "prId": 3467
}]