[{
  "comments": [{
    "author": {
      "login": "mridulm"
    },
    "body": "revert can throw exception : which will cause other writers to not revert.\nWe need to wrap it in try/catch, log and continue\n",
    "commit": "53b3f6d890ace9a296d9dac977b49f3a30430b53",
    "createdAt": "2014-08-01T04:58:59Z",
    "diffHunk": "@@ -120,8 +121,7 @@ private[spark] class HashShuffleWriter[K, V](\n   private def revertWrites(): Unit = {\n     if (shuffle != null && shuffle.writers != null) {\n       for (writer <- shuffle.writers) {\n-        writer.revertPartialWrites()\n-        writer.close()\n+        writer.revertPartialWritesAndClose()",
    "line": 45
  }, {
    "author": {
      "login": "aarondav"
    },
    "body": "Revert actually doesn't throw, per its (updated) comment.\n",
    "commit": "53b3f6d890ace9a296d9dac977b49f3a30430b53",
    "createdAt": "2014-08-01T05:17:03Z",
    "diffHunk": "@@ -120,8 +121,7 @@ private[spark] class HashShuffleWriter[K, V](\n   private def revertWrites(): Unit = {\n     if (shuffle != null && shuffle.writers != null) {\n       for (writer <- shuffle.writers) {\n-        writer.revertPartialWrites()\n-        writer.close()\n+        writer.revertPartialWritesAndClose()",
    "line": 45
  }],
  "prId": 1678
}]