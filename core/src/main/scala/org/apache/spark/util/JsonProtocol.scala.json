[{
  "comments": [{
    "author": {
      "login": "mridulm"
    },
    "body": "In general intern'ing can be dangerous.\nI dont expect issues with host, but executorId (for long running jobs) can essentially OOM the driver.\n",
    "commit": "96621633534e84eb8e9a33c4e7afbec62b776430",
    "createdAt": "2016-11-03T09:55:46Z",
    "diffHunk": "@@ -885,8 +885,8 @@ private[spark] object JsonProtocol {\n     if (json == JNothing) {\n       return null\n     }\n-    val executorId = (json \\ \"Executor ID\").extract[String]\n-    val host = (json \\ \"Host\").extract[String]\n+    val executorId = (json \\ \"Executor ID\").extract[String].intern()\n+    val host = (json \\ \"Host\").extract[String].intern()",
    "line": 27
  }, {
    "author": {
      "login": "mridulm"
    },
    "body": "scratch that, jdk7 improvements help.\n",
    "commit": "96621633534e84eb8e9a33c4e7afbec62b776430",
    "createdAt": "2016-11-03T09:58:39Z",
    "diffHunk": "@@ -885,8 +885,8 @@ private[spark] object JsonProtocol {\n     if (json == JNothing) {\n       return null\n     }\n-    val executorId = (json \\ \"Executor ID\").extract[String]\n-    val host = (json \\ \"Host\").extract[String]\n+    val executorId = (json \\ \"Executor ID\").extract[String].intern()\n+    val host = (json \\ \"Host\").extract[String].intern()",
    "line": 27
  }, {
    "author": {
      "login": "srowen"
    },
    "body": "From reading http://java-performance.info/string-intern-in-java-6-7-8/ it seems significantly safer in Java 7 (I also had the impression from tribal lore that `intern()` had been a bad idea in older JVMs) but not necessarily great for performance if you're going to intern hundreds of thousands of strings. But if this is a pretty targeted use for a hotspot, seems OK.\n",
    "commit": "96621633534e84eb8e9a33c4e7afbec62b776430",
    "createdAt": "2016-11-04T16:30:34Z",
    "diffHunk": "@@ -885,8 +885,8 @@ private[spark] object JsonProtocol {\n     if (json == JNothing) {\n       return null\n     }\n-    val executorId = (json \\ \"Executor ID\").extract[String]\n-    val host = (json \\ \"Host\").extract[String]\n+    val executorId = (json \\ \"Executor ID\").extract[String].intern()\n+    val host = (json \\ \"Host\").extract[String].intern()",
    "line": 27
  }],
  "prId": 15743
}]