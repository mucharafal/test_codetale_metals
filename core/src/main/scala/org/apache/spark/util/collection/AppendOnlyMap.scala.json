[{
  "comments": [{
    "author": {
      "login": "srowen"
    },
    "body": "I suppose this doesn't have the same overflow issue if the max is 2^29, OK. Yes nice to try to make these a little more consistent.\n",
    "commit": "912c0adeb92d7c33af05c99970640a66868be374",
    "createdAt": "2015-06-18T09:17:00Z",
    "diffHunk": "@@ -216,7 +213,8 @@ class AppendOnlyMap[K, V](initialCapacity: Int = 64)\n   /** Double the table's size and re-hash everything */\n   protected def growTable() {\n     // capacity < MAXIMUM_CAPACITY (2 ^ 29) so capacity * 2 won't overflow\n-    val newCapacity = (capacity * 2).min(MAXIMUM_CAPACITY)\n+    val newCapacity = capacity * 2\n+    require(newCapacity <= MAXIMUM_CAPACITY, s\"Can't contain more than ${growThreshold} elements\")",
    "line": 28
  }],
  "prId": 6879
}]