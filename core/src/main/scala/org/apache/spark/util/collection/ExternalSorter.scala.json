[{
  "comments": [{
    "author": {
      "login": "JoshRosen"
    },
    "body": "@sryza, this change is intended to partially address https://issues.apache.org/jira/browse/SPARK-7311.\n",
    "commit": "ef0a86e41e9b390e6c0d60a6ed2105dbc54431f7",
    "createdAt": "2015-05-03T20:31:38Z",
    "diffHunk": "@@ -131,8 +131,7 @@ private[spark] class ExternalSorter[K, V, C](\n   private val kvChunkSize = conf.getInt(\"spark.shuffle.sort.kvChunkSize\", 1 << 22) // 4 MB\n   private val useSerializedPairBuffer =\n     !ordering.isDefined && conf.getBoolean(\"spark.shuffle.sort.serializeMapOutputs\", true) &&\n-    ser.isInstanceOf[KryoSerializer] &&\n-    serInstance.asInstanceOf[KryoSerializerInstance].getAutoReset\n+    ser.supportsRelocationOfSerializedObjects"
  }],
  "prId": 5868
}]