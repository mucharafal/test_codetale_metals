[{
  "comments": [{
    "author": {
      "login": "vanzin"
    },
    "body": "nit: missing spaces (I think the new style checker will complain about this).\n",
    "commit": "3447bb995b53c4d93154328c7c7c06e08a5ec9b9",
    "createdAt": "2015-11-02T20:00:50Z",
    "diffHunk": "@@ -106,4 +105,30 @@ class ByteArrayChunkOutputStreamSuite extends SparkFunSuite {\n     assert(arrays(1).toSeq === ref.slice(10, 20))\n     assert(arrays(2).toSeq === ref.slice(20, 30))\n   }\n+\n+  test(\"slice\") {\n+    val ref = new Array[Byte](30)\n+    Random.nextBytes(ref)\n+    val o = new ByteArrayChunkOutputStream(5)\n+    o.write(ref)\n+\n+    for {\n+      start <- (0 until 30)\n+      end <- (start to 30)\n+    } {\n+      withClue(s\"start = $start; end = $end\") {\n+        try {\n+          assert(o.slice(start, end).toSeq === ref.slice(start, end))\n+        } catch {\n+          case ex => fail(ex)\n+        }\n+      }\n+    }\n+\n+    // errors on bad bounds\n+    intercept[IllegalArgumentException]{o.slice(31, 31)}"
  }],
  "prId": 5400
}]