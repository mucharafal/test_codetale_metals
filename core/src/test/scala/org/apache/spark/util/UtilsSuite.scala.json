[{
  "comments": [{
    "author": {
      "login": "srowen"
    },
    "body": "I think it is OK to type Unicode chars into source files because git and Scala ought to be set up to encode and read the source as UTF8. I have avoided it in the past and used Unicode escapes (but put actual string in comment) to be safe. I don't feel strongly. I think we have other instances of Unicode in the source. Just a comment. ",
    "commit": "52acfd58a82f20656331b43a2b27944fdfac2b3f",
    "createdAt": "2018-08-29T14:27:36Z",
    "diffHunk": "@@ -1184,6 +1184,25 @@ class UtilsSuite extends SparkFunSuite with ResetSystemProperties with Logging {\n     assert(Utils.getSimpleName(classOf[MalformedClassObject.MalformedClass]) ===\n       \"UtilsSuite$MalformedClassObject$MalformedClass\")\n   }\n+\n+  test(\"stringHalfWidth\") {\n+    assert(Utils.stringHalfWidth(null) == 0)\n+    assert(Utils.stringHalfWidth(\"\") == 0)\n+    assert(Utils.stringHalfWidth(\"ab c\") == 4)\n+    assert(Utils.stringHalfWidth(\"1098\") == 4)\n+    assert(Utils.stringHalfWidth(\"mø\") == 2)\n+    assert(Utils.stringHalfWidth(\"γύρ\") == 3)",
    "line": 12
  }, {
    "author": {
      "login": "xuejianbest"
    },
    "body": "Do you mean that the string here needs to be converted to a unicode escape form?",
    "commit": "52acfd58a82f20656331b43a2b27944fdfac2b3f",
    "createdAt": "2018-08-30T01:17:06Z",
    "diffHunk": "@@ -1184,6 +1184,25 @@ class UtilsSuite extends SparkFunSuite with ResetSystemProperties with Logging {\n     assert(Utils.getSimpleName(classOf[MalformedClassObject.MalformedClass]) ===\n       \"UtilsSuite$MalformedClassObject$MalformedClass\")\n   }\n+\n+  test(\"stringHalfWidth\") {\n+    assert(Utils.stringHalfWidth(null) == 0)\n+    assert(Utils.stringHalfWidth(\"\") == 0)\n+    assert(Utils.stringHalfWidth(\"ab c\") == 4)\n+    assert(Utils.stringHalfWidth(\"1098\") == 4)\n+    assert(Utils.stringHalfWidth(\"mø\") == 2)\n+    assert(Utils.stringHalfWidth(\"γύρ\") == 3)",
    "line": 12
  }, {
    "author": {
      "login": "srowen"
    },
    "body": "Don't change it. There are Unicode characters elsewhere in the source, and it's clearer this way.",
    "commit": "52acfd58a82f20656331b43a2b27944fdfac2b3f",
    "createdAt": "2018-08-30T01:26:58Z",
    "diffHunk": "@@ -1184,6 +1184,25 @@ class UtilsSuite extends SparkFunSuite with ResetSystemProperties with Logging {\n     assert(Utils.getSimpleName(classOf[MalformedClassObject.MalformedClass]) ===\n       \"UtilsSuite$MalformedClassObject$MalformedClass\")\n   }\n+\n+  test(\"stringHalfWidth\") {\n+    assert(Utils.stringHalfWidth(null) == 0)\n+    assert(Utils.stringHalfWidth(\"\") == 0)\n+    assert(Utils.stringHalfWidth(\"ab c\") == 4)\n+    assert(Utils.stringHalfWidth(\"1098\") == 4)\n+    assert(Utils.stringHalfWidth(\"mø\") == 2)\n+    assert(Utils.stringHalfWidth(\"γύρ\") == 3)",
    "line": 12
  }, {
    "author": {
      "login": "xuejianbest"
    },
    "body": "I found similar code in the `org.apache.commons.lang3.StringUtils` class.\r\nSo the same test was added.\r\nIn StringUtils 6934 line is comment:\r\n`* StringUtils.isNumeric(\"\\u0967\\u0968\\u0969\")  = true`",
    "commit": "52acfd58a82f20656331b43a2b27944fdfac2b3f",
    "createdAt": "2018-08-30T02:29:03Z",
    "diffHunk": "@@ -1184,6 +1184,25 @@ class UtilsSuite extends SparkFunSuite with ResetSystemProperties with Logging {\n     assert(Utils.getSimpleName(classOf[MalformedClassObject.MalformedClass]) ===\n       \"UtilsSuite$MalformedClassObject$MalformedClass\")\n   }\n+\n+  test(\"stringHalfWidth\") {\n+    assert(Utils.stringHalfWidth(null) == 0)\n+    assert(Utils.stringHalfWidth(\"\") == 0)\n+    assert(Utils.stringHalfWidth(\"ab c\") == 4)\n+    assert(Utils.stringHalfWidth(\"1098\") == 4)\n+    assert(Utils.stringHalfWidth(\"mø\") == 2)\n+    assert(Utils.stringHalfWidth(\"γύρ\") == 3)",
    "line": 12
  }],
  "prId": 22048
}]