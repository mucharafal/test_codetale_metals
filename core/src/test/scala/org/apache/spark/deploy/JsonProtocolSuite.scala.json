[{
  "comments": [{
    "author": {
      "login": "JoshRosen"
    },
    "body": "With the removal of these tests, I've noticed that a number of the JSON responses in `JsonConstants` are now unused.  Do we have tests to ensure that the new JSON APIs implemented in this patch remains backwards-compatible with the old JSON written by our legacy implementation?  If not, we might want to add this because folks might be relying on the existing API.\n\nMaybe this is already covered by the \"expected responses\" added elsewhere in this PR.  If so, then I think we should continue purging unused code from this file.\n",
    "commit": "da1e35f39cd60878f32b5446438afdf25d868d7b",
    "createdAt": "2015-03-31T00:31:38Z",
    "diffHunk": "@@ -25,24 +25,11 @@ import org.json4s._\n import org.json4s.jackson.JsonMethods\n import org.scalatest.FunSuite\n \n-import org.apache.spark.deploy.DeployMessages.{MasterStateResponse, WorkerStateResponse}\n-import org.apache.spark.deploy.master.{ApplicationInfo, DriverInfo, RecoveryState, WorkerInfo}\n+import org.apache.spark.{JsonTestUtils, SparkConf}\n+import org.apache.spark.deploy.DeployMessages.WorkerStateResponse\n import org.apache.spark.deploy.worker.{DriverRunner, ExecutorRunner}\n-import org.apache.spark.SparkConf\n \n-class JsonProtocolSuite extends FunSuite {\n-\n-  test(\"writeApplicationInfo\") {"
  }, {
    "author": {
      "login": "squito"
    },
    "body": "thanks for pointing this out -- these changes actually should not have been checked in, this functionality has not been replaced elsewhere.\n\nI should also probably clarify what the other (intended) changes to do backwards-compatibility: The previous `XyzPage` classes had sporadic implementations of `renderJson`.  Other than `Master` and `Worker`, those methods have been removed, with new functionality available from the new routes.  I made no attempt to keep the json the same (its almost certainly different in every case).  I thought there wasn't really a guarantee of backwards-compatibility given how incomplete the previous implementation was, and figured things would be clearer if we just completely removed them.  If we do want to keep those old apis active, its easy enough to drop them back in.\n\nI have not updated the way json is returned for the standalone cluster, specifically in `MasterPage` & `WorkerPage`.  I figure that is independent enough it can go in another PR if we really want to update it, but if you have a strong preference I can update them here as well.\n\n(In the meantime, I will undo my changes to `MasterPage` and `JsonProtocolSuite` since right now that functionality is just missing.)\n",
    "commit": "da1e35f39cd60878f32b5446438afdf25d868d7b",
    "createdAt": "2015-04-01T19:16:08Z",
    "diffHunk": "@@ -25,24 +25,11 @@ import org.json4s._\n import org.json4s.jackson.JsonMethods\n import org.scalatest.FunSuite\n \n-import org.apache.spark.deploy.DeployMessages.{MasterStateResponse, WorkerStateResponse}\n-import org.apache.spark.deploy.master.{ApplicationInfo, DriverInfo, RecoveryState, WorkerInfo}\n+import org.apache.spark.{JsonTestUtils, SparkConf}\n+import org.apache.spark.deploy.DeployMessages.WorkerStateResponse\n import org.apache.spark.deploy.worker.{DriverRunner, ExecutorRunner}\n-import org.apache.spark.SparkConf\n \n-class JsonProtocolSuite extends FunSuite {\n-\n-  test(\"writeApplicationInfo\") {"
  }],
  "prId": 4435
}]