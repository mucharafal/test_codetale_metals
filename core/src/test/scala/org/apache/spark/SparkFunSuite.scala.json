[{
  "comments": [{
    "author": {
      "login": "cloud-fan"
    },
    "body": "why we need this?",
    "commit": "20a375ad71bac59acf8075a23be4db452d7abccb",
    "createdAt": "2018-02-09T03:36:22Z",
    "diffHunk": "@@ -59,6 +59,7 @@ abstract class SparkFunSuite\n   protected val enableAutoThreadAudit = true\n \n   protected override def beforeAll(): Unit = {\n+    System.setProperty(\"spark.testing\", \"true\")"
  }, {
    "author": {
      "login": "heary-cao"
    },
    "body": "If this parameter is not set, sys.props.contains (\"spark.testing\") is false.",
    "commit": "20a375ad71bac59acf8075a23be4db452d7abccb",
    "createdAt": "2018-02-09T03:46:20Z",
    "diffHunk": "@@ -59,6 +59,7 @@ abstract class SparkFunSuite\n   protected val enableAutoThreadAudit = true\n \n   protected override def beforeAll(): Unit = {\n+    System.setProperty(\"spark.testing\", \"true\")"
  }, {
    "author": {
      "login": "cloud-fan"
    },
    "body": "Sorry let me make the question more clear.\r\n\r\nWhy we need this if `./project/SparkBuild.scala:795: javaOptions in Test += \"-Dspark.testing=1\"` works?",
    "commit": "20a375ad71bac59acf8075a23be4db452d7abccb",
    "createdAt": "2018-02-09T07:36:53Z",
    "diffHunk": "@@ -59,6 +59,7 @@ abstract class SparkFunSuite\n   protected val enableAutoThreadAudit = true\n \n   protected override def beforeAll(): Unit = {\n+    System.setProperty(\"spark.testing\", \"true\")"
  }, {
    "author": {
      "login": "heary-cao"
    },
    "body": "My debugging tool is IDEA, I think IDE had no relevance to the process of setting.\r\nBe similar to HiveSparkSubmitSuite RPackageUtilsSuite SparkSubmitSuite.\r\nThere are also manually add System.setProperty(\"spark.testing\", \"true\").\r\nOf courseï¼Œ I try with mavn(using command line) to test case , it is right.  thanks.",
    "commit": "20a375ad71bac59acf8075a23be4db452d7abccb",
    "createdAt": "2018-02-09T07:50:11Z",
    "diffHunk": "@@ -59,6 +59,7 @@ abstract class SparkFunSuite\n   protected val enableAutoThreadAudit = true\n \n   protected override def beforeAll(): Unit = {\n+    System.setProperty(\"spark.testing\", \"true\")"
  }, {
    "author": {
      "login": "cloud-fan"
    },
    "body": "if we are already doing this, let's make it more explicit that we should remove `./project/SparkBuild.scala:795: javaOptions in Test += \"-Dspark.testing=1\"` and set `spark.testing` in `SparkFunSuite.beforeAll`.",
    "commit": "20a375ad71bac59acf8075a23be4db452d7abccb",
    "createdAt": "2018-02-09T07:57:09Z",
    "diffHunk": "@@ -59,6 +59,7 @@ abstract class SparkFunSuite\n   protected val enableAutoThreadAudit = true\n \n   protected override def beforeAll(): Unit = {\n+    System.setProperty(\"spark.testing\", \"true\")"
  }, {
    "author": {
      "login": "heary-cao"
    },
    "body": "@cloud-fan ,thanks, I have update it. Can you help me to test it. thanks.",
    "commit": "20a375ad71bac59acf8075a23be4db452d7abccb",
    "createdAt": "2018-02-09T09:21:36Z",
    "diffHunk": "@@ -59,6 +59,7 @@ abstract class SparkFunSuite\n   protected val enableAutoThreadAudit = true\n \n   protected override def beforeAll(): Unit = {\n+    System.setProperty(\"spark.testing\", \"true\")"
  }],
  "prId": 20516
}]