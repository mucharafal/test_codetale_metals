[{
  "comments": [{
    "author": {
      "login": "cloud-fan"
    },
    "body": "This test is not valid anymore. `TaskMetrics.fromAccumulatorUpdates` will return a task metrics only containing internal accumulators, no need to worry about unregistered external accumulators.\n",
    "commit": "124568b3eeb7e0a657b2fbe4f54bb85543b7ffa3",
    "createdAt": "2016-04-27T09:24:44Z",
    "diffHunk": "@@ -214,46 +214,14 @@ class TaskMetricsSuite extends SparkFunSuite {\n     assert(newUpdates(acc2.id).name === Some(\"b\"))\n     assert(newUpdates(acc3.id).name === Some(\"c\"))\n     assert(newUpdates(acc4.id).name === Some(\"d\"))\n-    assert(newUpdates(acc1.id).update === Some(1))\n-    assert(newUpdates(acc2.id).update === Some(2))\n-    assert(newUpdates(acc3.id).update === Some(0))\n-    assert(newUpdates(acc4.id).update === Some(0))\n+    assert(newUpdates(acc1.id).value === 1)\n+    assert(newUpdates(acc2.id).value === 2)\n+    assert(newUpdates(acc3.id).value === 0)\n+    assert(newUpdates(acc4.id).value === 0)\n     assert(!newUpdates(acc3.id).countFailedValues)\n     assert(newUpdates(acc4.id).countFailedValues)\n-    assert(newUpdates.values.map(_.update).forall(_.isDefined))\n-    assert(newUpdates.values.map(_.value).forall(_.isEmpty))\n     assert(newUpdates.size === tm.internalAccums.size + 4)\n   }\n-\n-  test(\"from accumulator updates\") {",
    "line": 74
  }],
  "prId": 12612
}]