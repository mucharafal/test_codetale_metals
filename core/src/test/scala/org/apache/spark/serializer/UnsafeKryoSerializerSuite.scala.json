[{
  "comments": [{
    "author": {
      "login": "srowen"
    },
    "body": "Nit: I think the style checker will flag the space before the colon. ",
    "commit": "3397957be459bec29c330011e4ccecc48dd97be6",
    "createdAt": "2019-04-01T14:23:19Z",
    "diffHunk": "@@ -32,4 +34,19 @@ class UnsafeKryoSerializerSuite extends KryoSerializerSuite {\n     conf.set(KRYO_USE_UNSAFE, false)\n     super.afterAll()\n   }\n+\n+  test(\"SPARK-27216: Upgrade RoaringBitmap to 0.7.45 to fix Kryo unsafe ser/dser issue\") {\n+    val expected = new RoaringBitmap\n+    expected.add(1787)\n+\n+    conf.set(KRYO_USE_UNSAFE, false)\n+    val safeSer = new KryoSerializer(conf).newInstance()\n+    var actual : RoaringBitmap = safeSer.deserialize(safeSer.serialize(expected))"
  }],
  "prId": 24264
}, {
  "comments": [{
    "author": {
      "login": "srowen"
    },
    "body": "Tiny nit: () after the constructor",
    "commit": "3397957be459bec29c330011e4ccecc48dd97be6",
    "createdAt": "2019-04-01T14:23:29Z",
    "diffHunk": "@@ -32,4 +34,19 @@ class UnsafeKryoSerializerSuite extends KryoSerializerSuite {\n     conf.set(KRYO_USE_UNSAFE, false)\n     super.afterAll()\n   }\n+\n+  test(\"SPARK-27216: Upgrade RoaringBitmap to 0.7.45 to fix Kryo unsafe ser/dser issue\") {\n+    val expected = new RoaringBitmap"
  }],
  "prId": 24264
}, {
  "comments": [{
    "author": {
      "login": "attilapiros"
    },
    "body": "Please move your test into `KryoSerializerSuite` where `conf.set(KRYO_USE_UNSAFE, false)` is given. \r\nAnd as `UnsafeKryoSerializerSuite` is inherited from `KryoSerializerSuite` beside using `conf.set(KRYO_USE_UNSAFE, true)` in `beforeAll()` it will **inherit your test method** so both the safe/unsafe case will be tested this way: once executing `KryoSerializerSuite` and once `UnsafeKryoSerializerSuite`. \r\n\r\nSummary: you do not need to test both cases in one test method.",
    "commit": "3397957be459bec29c330011e4ccecc48dd97be6",
    "createdAt": "2019-04-01T14:35:31Z",
    "diffHunk": "@@ -32,4 +34,19 @@ class UnsafeKryoSerializerSuite extends KryoSerializerSuite {\n     conf.set(KRYO_USE_UNSAFE, false)\n     super.afterAll()\n   }\n+\n+  test(\"SPARK-27216: Upgrade RoaringBitmap to 0.7.45 to fix Kryo unsafe ser/dser issue\") {"
  }, {
    "author": {
      "login": "LantaoJin"
    },
    "body": "Oh, thanks for this reminding.",
    "commit": "3397957be459bec29c330011e4ccecc48dd97be6",
    "createdAt": "2019-04-01T14:48:07Z",
    "diffHunk": "@@ -32,4 +34,19 @@ class UnsafeKryoSerializerSuite extends KryoSerializerSuite {\n     conf.set(KRYO_USE_UNSAFE, false)\n     super.afterAll()\n   }\n+\n+  test(\"SPARK-27216: Upgrade RoaringBitmap to 0.7.45 to fix Kryo unsafe ser/dser issue\") {"
  }],
  "prId": 24264
}]