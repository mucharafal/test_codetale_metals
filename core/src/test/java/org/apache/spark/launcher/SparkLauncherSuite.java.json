[{
  "comments": [{
    "author": {
      "login": "srowen"
    },
    "body": "I usually just see people write `Thread.sleep(500)` but no big deal.\r\nThis is somewhat hacky, but may be OK for just this test's purpose.",
    "commit": "16b985c1018c0f5f54ef1062bdd7960cc4a87b39",
    "createdAt": "2018-01-10T14:38:58Z",
    "diffHunk": "@@ -133,6 +134,10 @@ public void testInProcessLauncher() throws Exception {\n         p.put(e.getKey(), e.getValue());\n       }\n       System.setProperties(p);\n+      // Here DAGScheduler is stopped, while SparkContext.clearActiveContext may not be called yet.\n+      // Wait for a reasonable amount of time to avoid creating two active SparkContext in JVM.\n+      // See SPARK-23019 and SparkContext.stop() for details.\n+      TimeUnit.MILLISECONDS.sleep(500);",
    "line": 15
  }, {
    "author": {
      "login": "gengliangwang"
    },
    "body": "Yep, either way should work.\r\nUsing `TimeUnit` is just following `BaseSuite.java`.",
    "commit": "16b985c1018c0f5f54ef1062bdd7960cc4a87b39",
    "createdAt": "2018-01-10T15:59:15Z",
    "diffHunk": "@@ -133,6 +134,10 @@ public void testInProcessLauncher() throws Exception {\n         p.put(e.getKey(), e.getValue());\n       }\n       System.setProperties(p);\n+      // Here DAGScheduler is stopped, while SparkContext.clearActiveContext may not be called yet.\n+      // Wait for a reasonable amount of time to avoid creating two active SparkContext in JVM.\n+      // See SPARK-23019 and SparkContext.stop() for details.\n+      TimeUnit.MILLISECONDS.sleep(500);",
    "line": 15
  }],
  "prId": 20221
}]