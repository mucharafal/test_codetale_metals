[{
  "comments": [{
    "author": {
      "login": "srowen"
    },
    "body": "Hm, is this right? it seems like this becomes a string when it has no value. Is that just how JSON works or do we need to have it omit this value when not defined?\n",
    "commit": "bfbe7e2d37237a48b8d2251cbd51bb04ba482a74",
    "createdAt": "2016-03-03T15:03:35Z",
    "diffHunk": "@@ -11,6 +14,9 @@\n     \"completed\" : true\n   }, {\n     \"attemptId\" : \"1\",\n+    \"startTimeEpoch\" : 1426533910242,\n+    \"endTimeEpoch\" : 1426533945177,\n+    \"lastUpdatedEpoch\" : \"\","
  }, {
    "author": {
      "login": "steveloughran"
    },
    "body": "not seen that. It should be a 0, shoudn' it. Or send it over as a number in a string, where \"\" means not set? Client gets to parse\n",
    "commit": "bfbe7e2d37237a48b8d2251cbd51bb04ba482a74",
    "createdAt": "2016-03-03T15:11:06Z",
    "diffHunk": "@@ -11,6 +14,9 @@\n     \"completed\" : true\n   }, {\n     \"attemptId\" : \"1\",\n+    \"startTimeEpoch\" : 1426533910242,\n+    \"endTimeEpoch\" : 1426533945177,\n+    \"lastUpdatedEpoch\" : \"\","
  }, {
    "author": {
      "login": "ajbozarth"
    },
    "body": "The empty string is actually hard-coded in HistorySeverSuite, I just copied how it was done with lastUpdated for lastUpdatedEpoch\n",
    "commit": "bfbe7e2d37237a48b8d2251cbd51bb04ba482a74",
    "createdAt": "2016-03-03T18:59:38Z",
    "diffHunk": "@@ -11,6 +14,9 @@\n     \"completed\" : true\n   }, {\n     \"attemptId\" : \"1\",\n+    \"startTimeEpoch\" : 1426533910242,\n+    \"endTimeEpoch\" : 1426533945177,\n+    \"lastUpdatedEpoch\" : \"\","
  }, {
    "author": {
      "login": "srowen"
    },
    "body": "I think the issue is that `lastUpdated` is a formatting string, so an empty string makes sense for no value, but not for a numeric value?\n",
    "commit": "bfbe7e2d37237a48b8d2251cbd51bb04ba482a74",
    "createdAt": "2016-03-03T19:34:21Z",
    "diffHunk": "@@ -11,6 +14,9 @@\n     \"completed\" : true\n   }, {\n     \"attemptId\" : \"1\",\n+    \"startTimeEpoch\" : 1426533910242,\n+    \"endTimeEpoch\" : 1426533945177,\n+    \"lastUpdatedEpoch\" : \"\","
  }, {
    "author": {
      "login": "ajbozarth"
    },
    "body": "If I'm understanding correctly, your issue is not with my changes but the way to test is currently working. If that's the case I can change the hard-coded test values from \"\" to 0 with this PR.\n",
    "commit": "bfbe7e2d37237a48b8d2251cbd51bb04ba482a74",
    "createdAt": "2016-03-03T21:14:31Z",
    "diffHunk": "@@ -11,6 +14,9 @@\n     \"completed\" : true\n   }, {\n     \"attemptId\" : \"1\",\n+    \"startTimeEpoch\" : 1426533910242,\n+    \"endTimeEpoch\" : 1426533945177,\n+    \"lastUpdatedEpoch\" : \"\","
  }, {
    "author": {
      "login": "srowen"
    },
    "body": "I assumed this was some kind of golden file test, where the output is intended to match exactly this file. Is this not what the output would be with this change?\n",
    "commit": "bfbe7e2d37237a48b8d2251cbd51bb04ba482a74",
    "createdAt": "2016-03-03T22:54:24Z",
    "diffHunk": "@@ -11,6 +14,9 @@\n     \"completed\" : true\n   }, {\n     \"attemptId\" : \"1\",\n+    \"startTimeEpoch\" : 1426533910242,\n+    \"endTimeEpoch\" : 1426533945177,\n+    \"lastUpdatedEpoch\" : \"\","
  }, {
    "author": {
      "login": "ajbozarth"
    },
    "body": "I'll detail it better just to make sure we're on the same page: HistoryServerSuite looks at a test json and before comparing it to the exception json file (this file) checks if `lastUpdated` (and now also `lastUpdatedEpoch`) exists, if so it over writes it's value with an empty string. I'm not sure why they decide to do it the sway but it is detailed in a comment on line 157 in HistoryServerSuite.scala\n",
    "commit": "bfbe7e2d37237a48b8d2251cbd51bb04ba482a74",
    "createdAt": "2016-03-03T23:08:36Z",
    "diffHunk": "@@ -11,6 +14,9 @@\n     \"completed\" : true\n   }, {\n     \"attemptId\" : \"1\",\n+    \"startTimeEpoch\" : 1426533910242,\n+    \"endTimeEpoch\" : 1426533945177,\n+    \"lastUpdatedEpoch\" : \"\","
  }, {
    "author": {
      "login": "ajbozarth"
    },
    "body": "@srowen Did that explanation make sense? Do we want to make more changes to update how the tests work?\n",
    "commit": "bfbe7e2d37237a48b8d2251cbd51bb04ba482a74",
    "createdAt": "2016-03-21T16:31:50Z",
    "diffHunk": "@@ -11,6 +14,9 @@\n     \"completed\" : true\n   }, {\n     \"attemptId\" : \"1\",\n+    \"startTimeEpoch\" : 1426533910242,\n+    \"endTimeEpoch\" : 1426533945177,\n+    \"lastUpdatedEpoch\" : \"\","
  }, {
    "author": {
      "login": "srowen"
    },
    "body": "Oh I get it, it blanks the lastUpdated field so this is effectively not compared. (Would it just be easier to strip these?) Although I appreciate it doesn't matter in the sense that it's just for purposes of a diff, it seems like it's worth making the value it substitutes valid, like a 0. Or just removing it if possible.\n",
    "commit": "bfbe7e2d37237a48b8d2251cbd51bb04ba482a74",
    "createdAt": "2016-03-21T16:36:26Z",
    "diffHunk": "@@ -11,6 +14,9 @@\n     \"completed\" : true\n   }, {\n     \"attemptId\" : \"1\",\n+    \"startTimeEpoch\" : 1426533910242,\n+    \"endTimeEpoch\" : 1426533945177,\n+    \"lastUpdatedEpoch\" : \"\","
  }, {
    "author": {
      "login": "ajbozarth"
    },
    "body": "Sounds good, I changed \"\" to 0 and am testing now, will push once it passes.\n",
    "commit": "bfbe7e2d37237a48b8d2251cbd51bb04ba482a74",
    "createdAt": "2016-03-21T17:04:44Z",
    "diffHunk": "@@ -11,6 +14,9 @@\n     \"completed\" : true\n   }, {\n     \"attemptId\" : \"1\",\n+    \"startTimeEpoch\" : 1426533910242,\n+    \"endTimeEpoch\" : 1426533945177,\n+    \"lastUpdatedEpoch\" : \"\","
  }],
  "prId": 11326
}]