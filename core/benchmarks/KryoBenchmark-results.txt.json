[{
  "comments": [{
    "author": {
      "login": "dongjoon-hyun"
    },
    "body": "What do you mean by the following? This line is `9.6X` and the original is `0.3X`.\r\n> The benchmark result is also reason compared to the original one.\r\n\r\nDo you mean this is consistent with `master` branch result and the old old (in the comment) is outdate?",
    "commit": "e2ca55e81e4e395bb16711db63eb23f07ab9ec9f",
    "createdAt": "2018-10-07T16:30:34Z",
    "diffHunk": "@@ -0,0 +1,29 @@\n+================================================================================================\n+Benchmark Kryo Unsafe vs safe Serialization\n+================================================================================================\n+\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n+\n+Benchmark Kryo Unsafe vs safe Serialization: Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n+------------------------------------------------------------------------------------------------\n+basicTypes: Int with unsafe:true                27 /   31        117.9           8.5       1.0X\n+basicTypes: Long with unsafe:true               34 /   37         93.8          10.7       0.8X\n+basicTypes: Float with unsafe:true              29 /   32        107.6           9.3       0.9X\n+basicTypes: Double with unsafe:true             31 /   32        101.3           9.9       0.9X\n+Array: Int with unsafe:true                      3 /    3       1130.4           0.9       9.6X"
  }, {
    "author": {
      "login": "gengliangwang"
    },
    "body": "Hi @dongjoon-hyun , thanks for pointing it out.\r\nThis is because the lengths of the arrays are random\r\nhttps://github.com/apache/spark/blob/669ade3a8eed0016b5ece57d776cea0616417088/core/src/test/scala/org/apache/spark/serializer/KryoBenchmark.scala#L90-L91\r\n\r\n> The benchmark result is also reason compared to the original one.\r\n\r\nI will fix the randomness.",
    "commit": "e2ca55e81e4e395bb16711db63eb23f07ab9ec9f",
    "createdAt": "2018-10-07T17:27:33Z",
    "diffHunk": "@@ -0,0 +1,29 @@\n+================================================================================================\n+Benchmark Kryo Unsafe vs safe Serialization\n+================================================================================================\n+\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n+\n+Benchmark Kryo Unsafe vs safe Serialization: Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n+------------------------------------------------------------------------------------------------\n+basicTypes: Int with unsafe:true                27 /   31        117.9           8.5       1.0X\n+basicTypes: Long with unsafe:true               34 /   37         93.8          10.7       0.8X\n+basicTypes: Float with unsafe:true              29 /   32        107.6           9.3       0.9X\n+basicTypes: Double with unsafe:true             31 /   32        101.3           9.9       0.9X\n+Array: Int with unsafe:true                      3 /    3       1130.4           0.9       9.6X"
  }],
  "prId": 22663
}]