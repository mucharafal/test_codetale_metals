[{
  "comments": [{
    "author": {
      "login": "gatorsmile"
    },
    "body": "the naming is confusing. We have `schema`, `avroJsonSchema` and `avroSchema`. Also add comments about these variables. ",
    "commit": "bdf2f4853426ebb9f86ff132187fda3fa3977f55",
    "createdAt": "2018-07-20T16:31:59Z",
    "diffHunk": "@@ -17,21 +17,24 @@\n \n package org.apache.spark.sql.avro\n \n+import org.apache.avro.Schema\n import org.apache.hadoop.mapreduce.TaskAttemptContext\n \n import org.apache.spark.sql.execution.datasources.{OutputWriter, OutputWriterFactory}\n import org.apache.spark.sql.types.StructType\n \n private[avro] class AvroOutputWriterFactory(\n     schema: StructType,\n-    avroSchema: SerializableSchema) extends OutputWriterFactory {\n+    avroJsonSchema: String) extends OutputWriterFactory {\n+\n+  private lazy val avroSchema = new Schema.Parser().parse(avroJsonSchema)"
  }],
  "prId": 21829
}]