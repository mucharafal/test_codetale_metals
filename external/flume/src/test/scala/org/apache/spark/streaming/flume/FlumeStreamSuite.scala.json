[{
  "comments": [{
    "author": {
      "login": "JoshRosen"
    },
    "body": "For consistency with similar code elsewhere in Spark, this could reference `Charsets.UTF_8` instead of using a string literal; import this from `com.google.common.base.Charsets.UTF_8`.\n",
    "commit": "550d363cfd6ca30ad0ddbbea8c36eb9ac463c14c",
    "createdAt": "2015-02-08T03:30:57Z",
    "diffHunk": "@@ -138,14 +138,13 @@ class FlumeStreamSuite extends FunSuite with BeforeAndAfter with Matchers with L\n       status should be (avro.Status.OK)\n     }\n     \n-    val decoder = Charset.forName(\"UTF-8\").newDecoder()    \n     eventually(timeout(10 seconds), interval(100 milliseconds)) {\n       val outputEvents = outputBuffer.flatten.map { _.event }\n       outputEvents.foreach {\n         event =>\n           event.getHeaders.get(\"test\") should be(\"header\")\n       }\n-      val output = outputEvents.map(event => decoder.decode(event.getBody()).toString)\n+      val output = outputEvents.map(event => new String(event.getBody.array(), \"UTF-8\"))"
  }],
  "prId": 4371
}]