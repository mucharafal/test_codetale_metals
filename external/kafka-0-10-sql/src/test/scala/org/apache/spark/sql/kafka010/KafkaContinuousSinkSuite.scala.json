[{
  "comments": [{
    "author": {
      "login": "gaborgsomogyi"
    },
    "body": "Just wondering is it an accidental change?",
    "commit": "8a0906e11eab36cb92c159915915b77334d34312",
    "createdAt": "2019-03-27T11:34:43Z",
    "diffHunk": "@@ -418,17 +418,13 @@ class KafkaContinuousSinkSuite extends KafkaContinuousTest {\n     val inputSchema = Seq(AttributeReference(\"value\", BinaryType)())\n     val data = new Array[Byte](15000) // large value\n     val writeTask = new KafkaStreamDataWriter(Some(topic), options, inputSchema)\n-    try {\n-      val fieldTypes: Array[DataType] = Array(BinaryType)\n-      val converter = UnsafeProjection.create(fieldTypes)\n-      val row = new SpecificInternalRow(fieldTypes)\n-      row.update(0, data)\n-      val iter = Seq.fill(1000)(converter.apply(row)).iterator\n-      iter.foreach(writeTask.write(_))\n-      writeTask.commit()\n-    } finally {\n-      writeTask.close()\n-    }\n+    val fieldTypes: Array[DataType] = Array(BinaryType)"
  }, {
    "author": {
      "login": "ScrapCodes"
    },
    "body": "No, writeTask.close is private now.",
    "commit": "8a0906e11eab36cb92c159915915b77334d34312",
    "createdAt": "2019-03-28T09:37:33Z",
    "diffHunk": "@@ -418,17 +418,13 @@ class KafkaContinuousSinkSuite extends KafkaContinuousTest {\n     val inputSchema = Seq(AttributeReference(\"value\", BinaryType)())\n     val data = new Array[Byte](15000) // large value\n     val writeTask = new KafkaStreamDataWriter(Some(topic), options, inputSchema)\n-    try {\n-      val fieldTypes: Array[DataType] = Array(BinaryType)\n-      val converter = UnsafeProjection.create(fieldTypes)\n-      val row = new SpecificInternalRow(fieldTypes)\n-      row.update(0, data)\n-      val iter = Seq.fill(1000)(converter.apply(row)).iterator\n-      iter.foreach(writeTask.write(_))\n-      writeTask.commit()\n-    } finally {\n-      writeTask.close()\n-    }\n+    val fieldTypes: Array[DataType] = Array(BinaryType)"
  }, {
    "author": {
      "login": "gaborgsomogyi"
    },
    "body": "I meant the try block disappeared but you've reverted it so its fine.",
    "commit": "8a0906e11eab36cb92c159915915b77334d34312",
    "createdAt": "2019-03-28T13:14:31Z",
    "diffHunk": "@@ -418,17 +418,13 @@ class KafkaContinuousSinkSuite extends KafkaContinuousTest {\n     val inputSchema = Seq(AttributeReference(\"value\", BinaryType)())\n     val data = new Array[Byte](15000) // large value\n     val writeTask = new KafkaStreamDataWriter(Some(topic), options, inputSchema)\n-    try {\n-      val fieldTypes: Array[DataType] = Array(BinaryType)\n-      val converter = UnsafeProjection.create(fieldTypes)\n-      val row = new SpecificInternalRow(fieldTypes)\n-      row.update(0, data)\n-      val iter = Seq.fill(1000)(converter.apply(row)).iterator\n-      iter.foreach(writeTask.write(_))\n-      writeTask.commit()\n-    } finally {\n-      writeTask.close()\n-    }\n+    val fieldTypes: Array[DataType] = Array(BinaryType)"
  }],
  "prId": 19096
}, {
  "comments": [{
    "author": {
      "login": "HeartSaVioR"
    },
    "body": "Is this intentional change? I'm not sure the code change requires this to be changed as well: I think it shouldn't.",
    "commit": "8a0906e11eab36cb92c159915915b77334d34312",
    "createdAt": "2019-03-30T00:34:28Z",
    "diffHunk": "@@ -427,7 +427,7 @@ class KafkaContinuousSinkSuite extends KafkaContinuousTest {\n       iter.foreach(writeTask.write(_))\n       writeTask.commit()\n     } finally {\n-      writeTask.close()\n+      writeTask.abort()",
    "line": 5
  }, {
    "author": {
      "login": "ScrapCodes"
    },
    "body": "Yes, close is no longer part of interface. So I have made it private.",
    "commit": "8a0906e11eab36cb92c159915915b77334d34312",
    "createdAt": "2019-04-03T09:35:20Z",
    "diffHunk": "@@ -427,7 +427,7 @@ class KafkaContinuousSinkSuite extends KafkaContinuousTest {\n       iter.foreach(writeTask.write(_))\n       writeTask.commit()\n     } finally {\n-      writeTask.close()\n+      writeTask.abort()",
    "line": 5
  }],
  "prId": 19096
}]