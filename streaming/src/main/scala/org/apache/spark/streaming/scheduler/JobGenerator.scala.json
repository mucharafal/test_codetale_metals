[{
  "comments": [{
    "author": {
      "login": "pwendell"
    },
    "body": "Just wondering - why does this need to be set here? Who consumes this?\n",
    "commit": "a8009ed0f23899202750df9d2213e8bffa01f7f3",
    "createdAt": "2014-11-04T21:23:58Z",
    "diffHunk": "@@ -217,14 +217,15 @@ class JobGenerator(jobScheduler: JobScheduler) extends Logging {\n \n   /** Generate jobs and perform checkpoint for the given `time`.  */\n   private def generateJobs(time: Time) {\n-    Try(graph.generateJobs(time)) match {\n+    SparkEnv.set(ssc.env)"
  }, {
    "author": {
      "login": "tdas"
    },
    "body": "This was added when SparkEnv needed to be set for launching jobs on non-main threads. Since the JobGenerator is background thread which actually submits the jobs, the SparkEnv needed to be set. But since we have removed the whole threadlocal stuff from SparkEnv, this is probably not needed any more. we can either removed this (scary), or document this as potentially removable.\n",
    "commit": "a8009ed0f23899202750df9d2213e8bffa01f7f3",
    "createdAt": "2014-11-05T00:07:01Z",
    "diffHunk": "@@ -217,14 +217,15 @@ class JobGenerator(jobScheduler: JobScheduler) extends Logging {\n \n   /** Generate jobs and perform checkpoint for the given `time`.  */\n   private def generateJobs(time: Time) {\n-    Try(graph.generateJobs(time)) match {\n+    SparkEnv.set(ssc.env)"
  }],
  "prId": 3026
}]