[{
  "comments": [{
    "author": {
      "login": "zsxwing"
    },
    "body": "You need to add `synchronized` to avoid the race condition when it's stopping.\n",
    "commit": "4440605c9e0b73968f29e305fb95e00bb54151ee",
    "createdAt": "2016-04-07T18:45:36Z",
    "diffHunk": "@@ -241,8 +241,14 @@ class ReceiverTracker(ssc: StreamingContext, skipReceiverLaunch: Boolean = false\n    * @return a map containing receiver ids to optional executor ids.\n    */\n   def allocatedExecutors(): Map[Int, Option[String]] = {\n-    endpoint.askWithRetry[Map[Int, ReceiverTrackingInfo]](GetAllReceiverInfo).mapValues {\n-      _.runningExecutor.map { _.executorId }\n+    if (isTrackerStarted) {"
  }, {
    "author": {
      "login": "jerryshao"
    },
    "body": "I see, thanks.\n",
    "commit": "4440605c9e0b73968f29e305fb95e00bb54151ee",
    "createdAt": "2016-04-08T00:18:45Z",
    "diffHunk": "@@ -241,8 +241,14 @@ class ReceiverTracker(ssc: StreamingContext, skipReceiverLaunch: Boolean = false\n    * @return a map containing receiver ids to optional executor ids.\n    */\n   def allocatedExecutors(): Map[Int, Option[String]] = {\n-    endpoint.askWithRetry[Map[Int, ReceiverTrackingInfo]](GetAllReceiverInfo).mapValues {\n-      _.runningExecutor.map { _.executorId }\n+    if (isTrackerStarted) {"
  }],
  "prId": 12236
}]