[{
  "comments": [{
    "author": {
      "login": "HyukjinKwon"
    },
    "body": "@gaborgsomogyi, wouldn't we avoid to log this when it's failed to remove?",
    "commit": "859e6f93ab685753cf05c2963ecec44f9cbaf6ef",
    "createdAt": "2019-04-01T23:14:06Z",
    "diffHunk": "@@ -87,7 +87,9 @@ class DStreamCheckpointData[T: ClassTag](dstream: DStream[T])\n               if (fileSystem == null) {\n                 fileSystem = path.getFileSystem(dstream.ssc.sparkContext.hadoopConfiguration)\n               }\n-              fileSystem.delete(path, true)\n+              if (!fileSystem.delete(path, true)) {\n+                logWarning(s\"Error deleting old checkpoint file '$file' for time $time\")\n+              }\n               timeToCheckpointFile -= time\n               logInfo(\"Deleted checkpoint file '\" + file + \"' for time \" + time)"
  }, {
    "author": {
      "login": "gaborgsomogyi"
    },
    "body": "Wanted to make the smallest change but since it would touch another log statement its good idea.",
    "commit": "859e6f93ab685753cf05c2963ecec44f9cbaf6ef",
    "createdAt": "2019-04-02T07:11:23Z",
    "diffHunk": "@@ -87,7 +87,9 @@ class DStreamCheckpointData[T: ClassTag](dstream: DStream[T])\n               if (fileSystem == null) {\n                 fileSystem = path.getFileSystem(dstream.ssc.sparkContext.hadoopConfiguration)\n               }\n-              fileSystem.delete(path, true)\n+              if (!fileSystem.delete(path, true)) {\n+                logWarning(s\"Error deleting old checkpoint file '$file' for time $time\")\n+              }\n               timeToCheckpointFile -= time\n               logInfo(\"Deleted checkpoint file '\" + file + \"' for time \" + time)"
  }],
  "prId": 24263
}, {
  "comments": [{
    "author": {
      "login": "srowen"
    },
    "body": "While you're welcome to use string interpolation here while you're at it, this seems fine",
    "commit": "859e6f93ab685753cf05c2963ecec44f9cbaf6ef",
    "createdAt": "2019-04-02T12:54:42Z",
    "diffHunk": "@@ -87,9 +87,12 @@ class DStreamCheckpointData[T: ClassTag](dstream: DStream[T])\n               if (fileSystem == null) {\n                 fileSystem = path.getFileSystem(dstream.ssc.sparkContext.hadoopConfiguration)\n               }\n-              fileSystem.delete(path, true)\n+              if (fileSystem.delete(path, true)) {\n+                logInfo(\"Deleted checkpoint file '\" + file + \"' for time \" + time)",
    "line": 6
  }],
  "prId": 24263
}]