[{
  "comments": [{
    "author": {
      "login": "vanzin"
    },
    "body": "So, you'll also need variants that take `{appId}/{attemptId}` arguments, otherwise this won't work in certain deploy modes (like yarn-cluster). To avoid too much copy / paste, it might be better to add a level of indirection (names are just suggestions):\r\n\r\n```\r\nclass ApiStreamingApp {\r\n\r\n  @Path(\"applications/{appId}/streaming\")\r\n  def getStreamingRoot(...): ApiStreamingRootResource = {\r\n    uiRoot.withSparkUI(appId, None) { new ApiStreamingRootResource(_) }\r\n  }\r\n\r\n  @Path(\"applications/{appId}/{attemptId}/streaming\")\r\n  def getStreamingRoot(...): ApiStreamingRootResource = {\r\n    uiRoot.withSparkUI(appId, attemptId) { new ApiStreamingRootResource(_) }\r\n  }\r\n```\r\n\r\nThen you can reuse `ApiStreamingRootResource` for both apps that have attemptIds and those that do not.",
    "commit": "94dce7728881b02ed10e82120f9c46ed55b24144",
    "createdAt": "2016-12-12T22:49:01Z",
    "diffHunk": "@@ -0,0 +1,89 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.spark.status.api.v1.streaming\n+\n+import javax.ws.rs.{Path, PathParam}\n+\n+import org.apache.spark.status.api.v1.{NotFoundException, UIRootFromServletContext}\n+import org.apache.spark.streaming.ui.StreamingJobProgressListener\n+import org.apache.spark.ui.SparkUI\n+\n+@Path(\"/v1\")\n+private[v1] class StreamingApiRootResource extends UIRootFromServletContext {\n+\n+  import org.apache.spark.status.api.v1.streaming.StreamingApiRootResource._\n+\n+  @Path(\"applications/{appId}/streaming/statistics\")"
  }],
  "prId": 16253
}]