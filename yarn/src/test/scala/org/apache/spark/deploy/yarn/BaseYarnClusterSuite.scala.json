[{
  "comments": [{
    "author": {
      "login": "srowen"
    },
    "body": "This changes the logic of the test a bit; is this needed?\n",
    "commit": "cb6a8626e9c29d8b4a1f4bd2f0163784cf306bb5",
    "createdAt": "2015-12-17T15:22:23Z",
    "diffHunk": "@@ -116,7 +120,7 @@ abstract class BaseYarnClusterSuite\n \n   override def afterAll() {\n     yarnCluster.stop()\n-    System.clearProperty(\"SPARK_YARN_MODE\")\n+    System.setProperties(oldProperties)"
  }, {
    "author": {
      "login": "kiszk"
    },
    "body": "I am afraid that another property may be changes somewhere. I will use the original code since it works well now.\n",
    "commit": "cb6a8626e9c29d8b4a1f4bd2f0163784cf306bb5",
    "createdAt": "2015-12-17T15:47:16Z",
    "diffHunk": "@@ -116,7 +120,7 @@ abstract class BaseYarnClusterSuite\n \n   override def afterAll() {\n     yarnCluster.stop()\n-    System.clearProperty(\"SPARK_YARN_MODE\")\n+    System.setProperties(oldProperties)"
  }, {
    "author": {
      "login": "srowen"
    },
    "body": "It's probably a decent idea. I think you can leave the change.\n",
    "commit": "cb6a8626e9c29d8b4a1f4bd2f0163784cf306bb5",
    "createdAt": "2015-12-17T15:57:02Z",
    "diffHunk": "@@ -116,7 +120,7 @@ abstract class BaseYarnClusterSuite\n \n   override def afterAll() {\n     yarnCluster.stop()\n-    System.clearProperty(\"SPARK_YARN_MODE\")\n+    System.setProperties(oldProperties)"
  }],
  "prId": 10289
}, {
  "comments": [{
    "author": {
      "login": "andrewor14"
    },
    "body": "this one needs to be in `try finally`\n",
    "commit": "cb6a8626e9c29d8b4a1f4bd2f0163784cf306bb5",
    "createdAt": "2015-12-21T22:26:20Z",
    "diffHunk": "@@ -116,7 +120,7 @@ abstract class BaseYarnClusterSuite\n \n   override def afterAll() {\n     yarnCluster.stop()\n-    System.clearProperty(\"SPARK_YARN_MODE\")\n+    System.setProperties(oldProperties)\n     super.afterAll()"
  }, {
    "author": {
      "login": "kiszk"
    },
    "body": "I agree. Since the original code did not use `try finally`, I did not use it, too. Should I use `try finally`?\n",
    "commit": "cb6a8626e9c29d8b4a1f4bd2f0163784cf306bb5",
    "createdAt": "2015-12-22T00:31:35Z",
    "diffHunk": "@@ -116,7 +120,7 @@ abstract class BaseYarnClusterSuite\n \n   override def afterAll() {\n     yarnCluster.stop()\n-    System.clearProperty(\"SPARK_YARN_MODE\")\n+    System.setProperties(oldProperties)\n     super.afterAll()"
  }, {
    "author": {
      "login": "srowen"
    },
    "body": "Yes, your change is adding this call though right? Ok to do it here too\n",
    "commit": "cb6a8626e9c29d8b4a1f4bd2f0163784cf306bb5",
    "createdAt": "2015-12-22T09:20:30Z",
    "diffHunk": "@@ -116,7 +120,7 @@ abstract class BaseYarnClusterSuite\n \n   override def afterAll() {\n     yarnCluster.stop()\n-    System.clearProperty(\"SPARK_YARN_MODE\")\n+    System.setProperties(oldProperties)\n     super.afterAll()"
  }, {
    "author": {
      "login": "kiszk"
    },
    "body": "I see, I will use `try finally` here\n",
    "commit": "cb6a8626e9c29d8b4a1f4bd2f0163784cf306bb5",
    "createdAt": "2015-12-22T10:00:18Z",
    "diffHunk": "@@ -116,7 +120,7 @@ abstract class BaseYarnClusterSuite\n \n   override def afterAll() {\n     yarnCluster.stop()\n-    System.clearProperty(\"SPARK_YARN_MODE\")\n+    System.setProperties(oldProperties)\n     super.afterAll()"
  }],
  "prId": 10289
}]