[{
  "comments": [{
    "author": {
      "login": "andrewor14"
    },
    "body": "Maybe move the `trackingUrl` as a private val somewhere at the top for reuse? Right now this line is duplicated.\n",
    "commit": "ec8970534fbac113b66bdc9c6a5c0ce6b840fd86",
    "createdAt": "2014-04-10T17:58:20Z",
    "diffHunk": "@@ -347,8 +347,8 @@ class ApplicationMaster(args: ApplicationMasterArguments, conf: Configuration,\n \n       logInfo(\"finishApplicationMaster with \" + status)\n       if (registered) {\n-        // Set tracking URL to empty since we don't have a history server.\n-        amClient.unregisterApplicationMaster(status, \"\" /* appMessage */ , \"\" /* appTrackingUrl */)\n+        val trackingUrl = sparkConf.get(\"spark.historyserver.address\", \"\")"
  }, {
    "author": {
      "login": "tgravescs"
    },
    "body": "What do you mean the line is a duplicate? Its only used once in this file. the spark.historyserver.address isn't used anywhere else in spark.  There are 2 different ApplicationMaster files. One for yarn-alpha and one for yarn-stable but currently they have no shared base class.    We could move it up but since its only being used here and this function is only called once I don't see the need.\n",
    "commit": "ec8970534fbac113b66bdc9c6a5c0ce6b840fd86",
    "createdAt": "2014-04-11T15:03:49Z",
    "diffHunk": "@@ -347,8 +347,8 @@ class ApplicationMaster(args: ApplicationMasterArguments, conf: Configuration,\n \n       logInfo(\"finishApplicationMaster with \" + status)\n       if (registered) {\n-        // Set tracking URL to empty since we don't have a history server.\n-        amClient.unregisterApplicationMaster(status, \"\" /* appMessage */ , \"\" /* appTrackingUrl */)\n+        val trackingUrl = sparkConf.get(\"spark.historyserver.address\", \"\")"
  }, {
    "author": {
      "login": "andrewor14"
    },
    "body": "Ah you're right. Somehow I thought they were in the same file.\n",
    "commit": "ec8970534fbac113b66bdc9c6a5c0ce6b840fd86",
    "createdAt": "2014-04-11T17:05:03Z",
    "diffHunk": "@@ -347,8 +347,8 @@ class ApplicationMaster(args: ApplicationMasterArguments, conf: Configuration,\n \n       logInfo(\"finishApplicationMaster with \" + status)\n       if (registered) {\n-        // Set tracking URL to empty since we don't have a history server.\n-        amClient.unregisterApplicationMaster(status, \"\" /* appMessage */ , \"\" /* appTrackingUrl */)\n+        val trackingUrl = sparkConf.get(\"spark.historyserver.address\", \"\")"
  }],
  "prId": 362
}]