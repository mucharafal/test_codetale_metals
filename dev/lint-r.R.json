[{
  "comments": [{
    "author": {
      "login": "HyukjinKwon"
    },
    "body": "Here, I didn't yet change this. Up to my knowledge, this doesn't actually try to install this package if already installed though.. just in case.",
    "commit": "550750eb264d5143007e4e9327dc250643af0f84",
    "createdAt": "2017-09-20T09:31:11Z",
    "diffHunk": "@@ -28,6 +28,7 @@ if (! library(SparkR, lib.loc = LOCAL_LIB_LOC, logical.return = TRUE)) {\n # NOTE: The CRAN's version is too old to adapt to our rules.\n if (\"lintr\" %in% row.names(installed.packages())  == FALSE) {\n   devtools::install_github(\"jimhester/lintr@a769c0b\")\n+  # devtools::install_github(\"jimhester/lintr@5431140\")"
  }, {
    "author": {
      "login": "felixcheung"
    },
    "body": "because of `if (\"lintr\" %in% row.names(installed.packages())  == FALSE) {`\r\n?\r\nit might be the case the Jenkins boxes already have a version installed and this won't update it",
    "commit": "550750eb264d5143007e4e9327dc250643af0f84",
    "createdAt": "2017-09-21T05:22:33Z",
    "diffHunk": "@@ -28,6 +28,7 @@ if (! library(SparkR, lib.loc = LOCAL_LIB_LOC, logical.return = TRUE)) {\n # NOTE: The CRAN's version is too old to adapt to our rules.\n if (\"lintr\" %in% row.names(installed.packages())  == FALSE) {\n   devtools::install_github(\"jimhester/lintr@a769c0b\")\n+  # devtools::install_github(\"jimhester/lintr@5431140\")"
  }, {
    "author": {
      "login": "HyukjinKwon"
    },
    "body": "Yes .. I think I should add few more changes here if we are going to update this package.",
    "commit": "550750eb264d5143007e4e9327dc250643af0f84",
    "createdAt": "2017-09-21T13:20:50Z",
    "diffHunk": "@@ -28,6 +28,7 @@ if (! library(SparkR, lib.loc = LOCAL_LIB_LOC, logical.return = TRUE)) {\n # NOTE: The CRAN's version is too old to adapt to our rules.\n if (\"lintr\" %in% row.names(installed.packages())  == FALSE) {\n   devtools::install_github(\"jimhester/lintr@a769c0b\")\n+  # devtools::install_github(\"jimhester/lintr@5431140\")"
  }, {
    "author": {
      "login": "viirya"
    },
    "body": "It looks like the commented is an old code. Maybe a comment to explain it.",
    "commit": "550750eb264d5143007e4e9327dc250643af0f84",
    "createdAt": "2017-09-21T13:35:54Z",
    "diffHunk": "@@ -28,6 +28,7 @@ if (! library(SparkR, lib.loc = LOCAL_LIB_LOC, logical.return = TRUE)) {\n # NOTE: The CRAN's version is too old to adapt to our rules.\n if (\"lintr\" %in% row.names(installed.packages())  == FALSE) {\n   devtools::install_github(\"jimhester/lintr@a769c0b\")\n+  # devtools::install_github(\"jimhester/lintr@5431140\")"
  }, {
    "author": {
      "login": "HyukjinKwon"
    },
    "body": "Oh, just to be clear, I didn't change this yet but just commented this for now ... Actually, `devtools::install_github(\"jimhester/lintr@5431140\")` is new one but I didn't change this yet just in case.\r\n\r\nWill add some comments around this when I add few more changes and clean up soon in any event.",
    "commit": "550750eb264d5143007e4e9327dc250643af0f84",
    "createdAt": "2017-09-21T13:42:19Z",
    "diffHunk": "@@ -28,6 +28,7 @@ if (! library(SparkR, lib.loc = LOCAL_LIB_LOC, logical.return = TRUE)) {\n # NOTE: The CRAN's version is too old to adapt to our rules.\n if (\"lintr\" %in% row.names(installed.packages())  == FALSE) {\n   devtools::install_github(\"jimhester/lintr@a769c0b\")\n+  # devtools::install_github(\"jimhester/lintr@5431140\")"
  }],
  "prId": 19290
}, {
  "comments": [{
    "author": {
      "login": "HyukjinKwon"
    },
    "body": "I checked this - when downgrading, upgrading and not installed in my local.",
    "commit": "550750eb264d5143007e4e9327dc250643af0f84",
    "createdAt": "2017-09-24T09:18:37Z",
    "diffHunk": "@@ -24,10 +24,16 @@ if (! library(SparkR, lib.loc = LOCAL_LIB_LOC, logical.return = TRUE)) {\n   stop(\"You should install SparkR in a local directory with `R/install-dev.sh`.\")\n }\n \n-# Installs lintr from Github in a local directory.\n-# NOTE: The CRAN's version is too old to adapt to our rules.\n-if (\"lintr\" %in% row.names(installed.packages())  == FALSE) {\n-  devtools::install_github(\"jimhester/lintr@a769c0b\")\n+# Installs lintr from Github in a local directory if lintr is not installed already or\n+# the existing lintr is not the specified version.\n+#\n+# Note that, the CRAN's version is too old to adapt to our rules. Therefore, we try to\n+# install lintr from the latest commit in Github, rather than a specific tag or release.\n+# The current latest is jimhester/lintr@5431140 (see SPARK-22063), the dev version,\n+# '1.0.1.9000'.\n+if (\"lintr\" %in% row.names(installed.packages()) == FALSE ||\n+    packageVersion(\"lintr\") != \"1.0.1.9000\") {"
  }],
  "prId": 19290
}]