[{
  "comments": [{
    "author": {
      "login": "nchammas"
    },
    "body": "Do we need to do any kind of cleaning between the two Maven operations?\n",
    "commit": "42e243e10a11ee7cf4bda38ab12811d88d1ca4d0",
    "createdAt": "2015-03-19T21:38:54Z",
    "diffHunk": "@@ -0,0 +1,36 @@\n+#!/usr/bin/env bash\n+\n+#\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+#\n+\n+#\n+# This script follows the base format for testing pull requests against\n+# another branch and returning results to be published. More details can be\n+# found at dev/run-tests-jenkins.\n+#\n+# Arg1: The Github Pull Request Actual Commit\n+#+ known as `ghprbActualCommit` in `run-tests-jenkins`\n+# Arg2: The SHA1 hash\n+#+ known as `sha1` in `run-tests-jenkins`\n+#\n+\n+ghprbActualCommit=\"$1\"\n+sha1=\"$2\"\n+\n+./build/mvn compile dependency:build-classpath | grep -A 5 \"Building Spark Project Assembly\" | tail -n 1 | tr \":\" \"\\n\" | rev | cut -d \"/\" -f 1 | rev | sort > my-classpath.txt\n+git checkout apache/master"
  }, {
    "author": {
      "login": "brennonyork"
    },
    "body": "Honestly I'm unsure. I believe we're going to need to run a `mvn clean compile dependency:build-classpath` for each to work properly, but @pwendell was running it without the `compile` step which I couldn't reproduce locally without an `install` as well. Going to test now and see what Jenkins tells me.\n",
    "commit": "42e243e10a11ee7cf4bda38ab12811d88d1ca4d0",
    "createdAt": "2015-03-19T22:00:12Z",
    "diffHunk": "@@ -0,0 +1,36 @@\n+#!/usr/bin/env bash\n+\n+#\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+#\n+\n+#\n+# This script follows the base format for testing pull requests against\n+# another branch and returning results to be published. More details can be\n+# found at dev/run-tests-jenkins.\n+#\n+# Arg1: The Github Pull Request Actual Commit\n+#+ known as `ghprbActualCommit` in `run-tests-jenkins`\n+# Arg2: The SHA1 hash\n+#+ known as `sha1` in `run-tests-jenkins`\n+#\n+\n+ghprbActualCommit=\"$1\"\n+sha1=\"$2\"\n+\n+./build/mvn compile dependency:build-classpath | grep -A 5 \"Building Spark Project Assembly\" | tail -n 1 | tr \":\" \"\\n\" | rev | cut -d \"/\" -f 1 | rev | sort > my-classpath.txt\n+git checkout apache/master"
  }],
  "prId": 5093
}, {
  "comments": [{
    "author": {
      "login": "pwendell"
    },
    "body": "It would actually be good to show additions and removals of dependencies (in some cases a library will get a new version, which ends up here as an addition and removal). I updated the JIRA title to reflect that.\n",
    "commit": "42e243e10a11ee7cf4bda38ab12811d88d1ca4d0",
    "createdAt": "2015-03-20T22:53:07Z",
    "diffHunk": "@@ -0,0 +1,77 @@\n+#!/usr/bin/env bash\n+\n+#\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+#\n+\n+#\n+# This script follows the base format for testing pull requests against\n+# another branch and returning results to be published. More details can be\n+# found at dev/run-tests-jenkins.\n+#\n+# Arg1: The Github Pull Request Actual Commit\n+#+ known as `ghprbActualCommit` in `run-tests-jenkins`\n+# Arg2: The SHA1 hash\n+#+ known as `sha1` in `run-tests-jenkins`\n+#\n+\n+ghprbActualCommit=\"$1\"\n+sha1=\"$2\"\n+\n+CURR_CP_FILE=\"my-classpath.txt\"\n+MASTER_CP_FILE=\"master-classpath.txt\"\n+\n+./build/mvn clean compile dependency:build-classpath | \\\n+  sed -n -e '/Building Spark Project Assembly/,$p' | \\\n+  grep --context=1 -m 2 \"Dependencies classpath:\" | \\\n+  head -n 3 | \\\n+  tail -n 1 | \\\n+  tr \":\" \"\\n\" | \\\n+  rev | \\\n+  cut -d \"/\" -f 1 | \\\n+  rev | \\\n+  sort > ${CURR_CP_FILE}\n+\n+# Checkout the master branch to compare against\n+git checkout apache/master\n+\n+./build/mvn clean compile dependency:build-classpath | \\\n+  sed -n -e '/Building Spark Project Assembly/,$p' | \\\n+  grep --context=1 -m 2 \"Dependencies classpath:\" | \\\n+  head -n 3 | \\\n+  tail -n 1 | \\\n+  tr \":\" \"\\n\" | \\\n+  rev | \\\n+  cut -d \"/\" -f 1 | \\\n+  rev | \\\n+  sort > ${MASTER_CP_FILE}\n+\n+DIFF_RESULTS=\"`diff my-classpath.txt master-classpath.txt`\"\n+\n+if [ -z \"${DIFF_RESULTS}\" ]; then\n+  echo \" * This patch adds no new dependencies.\"\n+else\n+  # Pretty print the new dependencies\n+  new_deps=$(echo ${DIFF_RESULTS} | grep \"<\" | cut -d\" \" -f2 | awk '{print \"   * \"$1}')\n+  echo \" * This patch **adds the following new dependencies:**\\n${new_deps}\""
  }, {
    "author": {
      "login": "brennonyork"
    },
    "body": "Was thinking the same thing actually. I'll make sure to include that before this WIP is completed. Thanks!\n",
    "commit": "42e243e10a11ee7cf4bda38ab12811d88d1ca4d0",
    "createdAt": "2015-03-23T17:33:11Z",
    "diffHunk": "@@ -0,0 +1,77 @@\n+#!/usr/bin/env bash\n+\n+#\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+#\n+\n+#\n+# This script follows the base format for testing pull requests against\n+# another branch and returning results to be published. More details can be\n+# found at dev/run-tests-jenkins.\n+#\n+# Arg1: The Github Pull Request Actual Commit\n+#+ known as `ghprbActualCommit` in `run-tests-jenkins`\n+# Arg2: The SHA1 hash\n+#+ known as `sha1` in `run-tests-jenkins`\n+#\n+\n+ghprbActualCommit=\"$1\"\n+sha1=\"$2\"\n+\n+CURR_CP_FILE=\"my-classpath.txt\"\n+MASTER_CP_FILE=\"master-classpath.txt\"\n+\n+./build/mvn clean compile dependency:build-classpath | \\\n+  sed -n -e '/Building Spark Project Assembly/,$p' | \\\n+  grep --context=1 -m 2 \"Dependencies classpath:\" | \\\n+  head -n 3 | \\\n+  tail -n 1 | \\\n+  tr \":\" \"\\n\" | \\\n+  rev | \\\n+  cut -d \"/\" -f 1 | \\\n+  rev | \\\n+  sort > ${CURR_CP_FILE}\n+\n+# Checkout the master branch to compare against\n+git checkout apache/master\n+\n+./build/mvn clean compile dependency:build-classpath | \\\n+  sed -n -e '/Building Spark Project Assembly/,$p' | \\\n+  grep --context=1 -m 2 \"Dependencies classpath:\" | \\\n+  head -n 3 | \\\n+  tail -n 1 | \\\n+  tr \":\" \"\\n\" | \\\n+  rev | \\\n+  cut -d \"/\" -f 1 | \\\n+  rev | \\\n+  sort > ${MASTER_CP_FILE}\n+\n+DIFF_RESULTS=\"`diff my-classpath.txt master-classpath.txt`\"\n+\n+if [ -z \"${DIFF_RESULTS}\" ]; then\n+  echo \" * This patch adds no new dependencies.\"\n+else\n+  # Pretty print the new dependencies\n+  new_deps=$(echo ${DIFF_RESULTS} | grep \"<\" | cut -d\" \" -f2 | awk '{print \"   * \"$1}')\n+  echo \" * This patch **adds the following new dependencies:**\\n${new_deps}\""
  }],
  "prId": 5093
}, {
  "comments": [{
    "author": {
      "login": "srowen"
    },
    "body": "`clean compile` is gonna be slow; does `build-classpath` require it?\n",
    "commit": "42e243e10a11ee7cf4bda38ab12811d88d1ca4d0",
    "createdAt": "2015-03-23T21:31:11Z",
    "diffHunk": "@@ -0,0 +1,85 @@\n+#!/usr/bin/env bash\n+\n+#\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+#\n+\n+#\n+# This script follows the base format for testing pull requests against\n+# another branch and returning results to be published. More details can be\n+# found at dev/run-tests-jenkins.\n+#\n+# Arg1: The Github Pull Request Actual Commit\n+#+ known as `ghprbActualCommit` in `run-tests-jenkins`\n+# Arg2: The SHA1 hash\n+#+ known as `sha1` in `run-tests-jenkins`\n+#\n+\n+ghprbActualCommit=\"$1\"\n+sha1=\"$2\"\n+\n+MVN_BIN=\"`pwd`/build/mvn\"\n+CURR_CP_FILE=\"my-classpath.txt\"\n+MASTER_CP_FILE=\"master-classpath.txt\"\n+\n+${MVN_BIN} clean compile dependency:build-classpath 2>/dev/null | \\"
  }, {
    "author": {
      "login": "brennonyork"
    },
    "body": "Yeah, its required :/ I've tested without it and it fails at building `spark-networking`. This adds on, for each run (of which there are two) around 4.5 mins, so 9mins added to the build time. I also looked at seeing what `sbt` could output, but couldn't find anything. Further thought about this as a special case test and to grab the output from the generic build of spark that happens for each PR, but with having to build against the `master` branch as well that didn't seem like a much better option.\n",
    "commit": "42e243e10a11ee7cf4bda38ab12811d88d1ca4d0",
    "createdAt": "2015-03-23T21:46:11Z",
    "diffHunk": "@@ -0,0 +1,85 @@\n+#!/usr/bin/env bash\n+\n+#\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+#\n+\n+#\n+# This script follows the base format for testing pull requests against\n+# another branch and returning results to be published. More details can be\n+# found at dev/run-tests-jenkins.\n+#\n+# Arg1: The Github Pull Request Actual Commit\n+#+ known as `ghprbActualCommit` in `run-tests-jenkins`\n+# Arg2: The SHA1 hash\n+#+ known as `sha1` in `run-tests-jenkins`\n+#\n+\n+ghprbActualCommit=\"$1\"\n+sha1=\"$2\"\n+\n+MVN_BIN=\"`pwd`/build/mvn\"\n+CURR_CP_FILE=\"my-classpath.txt\"\n+MASTER_CP_FILE=\"master-classpath.txt\"\n+\n+${MVN_BIN} clean compile dependency:build-classpath 2>/dev/null | \\"
  }, {
    "author": {
      "login": "pwendell"
    },
    "body": "If that's the case, we should probably gate this entire thing in a check as to whether any pom.xml files are modified. Then for most builds this will not add any time, since most builds do not modify dependencies.\n",
    "commit": "42e243e10a11ee7cf4bda38ab12811d88d1ca4d0",
    "createdAt": "2015-03-24T01:00:52Z",
    "diffHunk": "@@ -0,0 +1,85 @@\n+#!/usr/bin/env bash\n+\n+#\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+#\n+\n+#\n+# This script follows the base format for testing pull requests against\n+# another branch and returning results to be published. More details can be\n+# found at dev/run-tests-jenkins.\n+#\n+# Arg1: The Github Pull Request Actual Commit\n+#+ known as `ghprbActualCommit` in `run-tests-jenkins`\n+# Arg2: The SHA1 hash\n+#+ known as `sha1` in `run-tests-jenkins`\n+#\n+\n+ghprbActualCommit=\"$1\"\n+sha1=\"$2\"\n+\n+MVN_BIN=\"`pwd`/build/mvn\"\n+CURR_CP_FILE=\"my-classpath.txt\"\n+MASTER_CP_FILE=\"master-classpath.txt\"\n+\n+${MVN_BIN} clean compile dependency:build-classpath 2>/dev/null | \\"
  }, {
    "author": {
      "login": "brennonyork"
    },
    "body": "Sounds like a plan. Once I get this working in a state I like I'll set a gate to check all pom.xml files for changes and, if any show changes, will go ahead and execute the code.\n",
    "commit": "42e243e10a11ee7cf4bda38ab12811d88d1ca4d0",
    "createdAt": "2015-03-25T19:51:38Z",
    "diffHunk": "@@ -0,0 +1,85 @@\n+#!/usr/bin/env bash\n+\n+#\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+#\n+\n+#\n+# This script follows the base format for testing pull requests against\n+# another branch and returning results to be published. More details can be\n+# found at dev/run-tests-jenkins.\n+#\n+# Arg1: The Github Pull Request Actual Commit\n+#+ known as `ghprbActualCommit` in `run-tests-jenkins`\n+# Arg2: The SHA1 hash\n+#+ known as `sha1` in `run-tests-jenkins`\n+#\n+\n+ghprbActualCommit=\"$1\"\n+sha1=\"$2\"\n+\n+MVN_BIN=\"`pwd`/build/mvn\"\n+CURR_CP_FILE=\"my-classpath.txt\"\n+MASTER_CP_FILE=\"master-classpath.txt\"\n+\n+${MVN_BIN} clean compile dependency:build-classpath 2>/dev/null | \\"
  }],
  "prId": 5093
}, {
  "comments": [{
    "author": {
      "login": "srowen"
    },
    "body": "Pretty trivial but the third arg could be described here. I assume the other two scripts simply ignore the third arg.\n",
    "commit": "42e243e10a11ee7cf4bda38ab12811d88d1ca4d0",
    "createdAt": "2015-03-27T13:15:57Z",
    "diffHunk": "@@ -0,0 +1,115 @@\n+#!/usr/bin/env bash\n+\n+#\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+#\n+\n+#\n+# This script follows the base format for testing pull requests against\n+# another branch and returning results to be published. More details can be\n+# found at dev/run-tests-jenkins.\n+#\n+# Arg1: The Github Pull Request Actual Commit\n+#+ known as `ghprbActualCommit` in `run-tests-jenkins`\n+# Arg2: The SHA1 hash\n+#+ known as `sha1` in `run-tests-jenkins`\n+#"
  }],
  "prId": 5093
}, {
  "comments": [{
    "author": {
      "login": "srowen"
    },
    "body": "Is this equivalent to simply `build/mvn`? I see it that way in other scripts.\n",
    "commit": "42e243e10a11ee7cf4bda38ab12811d88d1ca4d0",
    "createdAt": "2015-03-27T13:18:28Z",
    "diffHunk": "@@ -0,0 +1,115 @@\n+#!/usr/bin/env bash\n+\n+#\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+#\n+\n+#\n+# This script follows the base format for testing pull requests against\n+# another branch and returning results to be published. More details can be\n+# found at dev/run-tests-jenkins.\n+#\n+# Arg1: The Github Pull Request Actual Commit\n+#+ known as `ghprbActualCommit` in `run-tests-jenkins`\n+# Arg2: The SHA1 hash\n+#+ known as `sha1` in `run-tests-jenkins`\n+#\n+\n+ghprbActualCommit=\"$1\"\n+sha1=\"$2\"\n+current_pr_head=\"$3\"\n+\n+MVN_BIN=\"`pwd`/build/mvn\""
  }],
  "prId": 5093
}, {
  "comments": [{
    "author": {
      "login": "srowen"
    },
    "body": "Nit: indent the comments since they're sort of part of the else block?\n",
    "commit": "42e243e10a11ee7cf4bda38ab12811d88d1ca4d0",
    "createdAt": "2015-03-27T13:19:01Z",
    "diffHunk": "@@ -0,0 +1,115 @@\n+#!/usr/bin/env bash\n+\n+#\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+#\n+\n+#\n+# This script follows the base format for testing pull requests against\n+# another branch and returning results to be published. More details can be\n+# found at dev/run-tests-jenkins.\n+#\n+# Arg1: The Github Pull Request Actual Commit\n+#+ known as `ghprbActualCommit` in `run-tests-jenkins`\n+# Arg2: The SHA1 hash\n+#+ known as `sha1` in `run-tests-jenkins`\n+#\n+\n+ghprbActualCommit=\"$1\"\n+sha1=\"$2\"\n+current_pr_head=\"$3\"\n+\n+MVN_BIN=\"`pwd`/build/mvn\"\n+CURR_CP_FILE=\"my-classpath.txt\"\n+MASTER_CP_FILE=\"master-classpath.txt\"\n+\n+# First switch over to the master branch\n+git checkout master &>/dev/null\n+# Find and copy all pom.xml files into a *.gate file that we can check\n+# against through various `git` changes\n+find -name \"pom.xml\" -exec cp {} {}.gate \\;\n+# Switch back to the current PR\n+git checkout \"${current_pr_head}\" &>/dev/null\n+\n+# Check if any *.pom files from the current branch are different from the master\n+difference_q=\"\"\n+for p in $(find -name \"pom.xml\"); do\n+  [[ -f \"${p}\" && -f \"${p}.gate\" ]] && \\\n+    difference_q=\"${difference_q}$(diff $p.gate $p)\"\n+done\n+\n+# If no pom files were changed we can easily say no new dependencies were added\n+if [ -z \"${difference_q}\" ]; then\n+  echo \" * This patch does not change any dependencies.\"\n+else\n+# Else we need to manually build spark to determine what, if any, dependencies"
  }],
  "prId": 5093
}]