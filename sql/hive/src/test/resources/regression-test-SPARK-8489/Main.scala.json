[{
  "comments": [{
    "author": {
      "login": "rxin"
    },
    "body": "i think this one needs to be built?\n",
    "commit": "5e464ad766535061d568bc10d6904d1c96857ef1",
    "createdAt": "2016-05-02T23:21:30Z",
    "diffHunk": "@@ -34,7 +34,7 @@ object Main {\n     // scalastyle:off println\n     println(\"Running regression test for SPARK-8489.\")\n     val sc = new SparkContext(\"local\", \"testing\")\n-    val sparkSession = SparkSession.withHiveSupport(sc)\n+    val sparkSession = SparkSession.builder.enableHiveSupport().getOrCreate()"
  }, {
    "author": {
      "login": "techaddict"
    },
    "body": "Not sure I got you ? do you mean something like `withSparkContext(sc)` instead of `getOrCreate()`\n",
    "commit": "5e464ad766535061d568bc10d6904d1c96857ef1",
    "createdAt": "2016-05-02T23:34:30Z",
    "diffHunk": "@@ -34,7 +34,7 @@ object Main {\n     // scalastyle:off println\n     println(\"Running regression test for SPARK-8489.\")\n     val sc = new SparkContext(\"local\", \"testing\")\n-    val sparkSession = SparkSession.withHiveSupport(sc)\n+    val sparkSession = SparkSession.builder.enableHiveSupport().getOrCreate()"
  }, {
    "author": {
      "login": "rxin"
    },
    "body": "In order to use this file, I think it needs to be built into a jar?\n",
    "commit": "5e464ad766535061d568bc10d6904d1c96857ef1",
    "createdAt": "2016-05-03T00:03:33Z",
    "diffHunk": "@@ -34,7 +34,7 @@ object Main {\n     // scalastyle:off println\n     println(\"Running regression test for SPARK-8489.\")\n     val sc = new SparkContext(\"local\", \"testing\")\n-    val sparkSession = SparkSession.withHiveSupport(sc)\n+    val sparkSession = SparkSession.builder.enableHiveSupport().getOrCreate()"
  }, {
    "author": {
      "login": "andrewor14"
    },
    "body": "yeah we need to rebuild the jar. There's already a TODO on L31. Right now the corresponding test in `HiveSparkSubmitSuite` is ignored.\n",
    "commit": "5e464ad766535061d568bc10d6904d1c96857ef1",
    "createdAt": "2016-05-03T00:29:51Z",
    "diffHunk": "@@ -34,7 +34,7 @@ object Main {\n     // scalastyle:off println\n     println(\"Running regression test for SPARK-8489.\")\n     val sc = new SparkContext(\"local\", \"testing\")\n-    val sparkSession = SparkSession.withHiveSupport(sc)\n+    val sparkSession = SparkSession.builder.enableHiveSupport().getOrCreate()"
  }, {
    "author": {
      "login": "techaddict"
    },
    "body": "Since we not longer create a assembly jar, not sure how to create this jar easily(steps could be found here https://github.com/apache/spark/pull/11630).\n",
    "commit": "5e464ad766535061d568bc10d6904d1c96857ef1",
    "createdAt": "2016-05-03T15:10:36Z",
    "diffHunk": "@@ -34,7 +34,7 @@ object Main {\n     // scalastyle:off println\n     println(\"Running regression test for SPARK-8489.\")\n     val sc = new SparkContext(\"local\", \"testing\")\n-    val sparkSession = SparkSession.withHiveSupport(sc)\n+    val sparkSession = SparkSession.builder.enableHiveSupport().getOrCreate()"
  }, {
    "author": {
      "login": "andrewor14"
    },
    "body": "let's just fix it later\n",
    "commit": "5e464ad766535061d568bc10d6904d1c96857ef1",
    "createdAt": "2016-05-03T18:06:30Z",
    "diffHunk": "@@ -34,7 +34,7 @@ object Main {\n     // scalastyle:off println\n     println(\"Running regression test for SPARK-8489.\")\n     val sc = new SparkContext(\"local\", \"testing\")\n-    val sparkSession = SparkSession.withHiveSupport(sc)\n+    val sparkSession = SparkSession.builder.enableHiveSupport().getOrCreate()"
  }],
  "prId": 12851
}, {
  "comments": [{
    "author": {
      "login": "andrewor14"
    },
    "body": "this should use the builder's conf method. By the way for this file I would revert the changes here and fix it in #12924 instead, since @dilipbiswal is actually rebuilding the jar there.\n",
    "commit": "5e464ad766535061d568bc10d6904d1c96857ef1",
    "createdAt": "2016-05-05T17:19:44Z",
    "diffHunk": "@@ -33,8 +33,14 @@ object Main {\n   def main(args: Array[String]) {\n     // scalastyle:off println\n     println(\"Running regression test for SPARK-8489.\")\n-    val sc = new SparkContext(\"local\", \"testing\")\n-    val sparkSession = SparkSession.withHiveSupport(sc)\n+\n+    val conf = new SparkConf()\n+      .setMaster(\"local\")\n+      .setAppName(\"testing\")\n+\n+    val sparkSession = SparkSession.builder.enableHiveSupport().getOrCreate()"
  }],
  "prId": 12851
}]