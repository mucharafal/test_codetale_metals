[{
  "comments": [{
    "author": {
      "login": "hvanhovell"
    },
    "body": "The `current_database()` command is currently added in the HiveContext. \n\nWe could move the command to catalyst, and add the command itself in the `SQLContext`.\n",
    "commit": "ff5508b5c6776af5f38dc17f4c5af37eebd3097e",
    "createdAt": "2016-01-27T18:38:44Z",
    "diffHunk": "@@ -1262,6 +1263,21 @@ class HiveQuerySuite extends HiveComparisonTest with BeforeAndAfter {\n \n   }\n \n+  test(\"use database\") {\n+    val currentDatabase = sql(\"select current_database()\").first().getString(0)\n+\n+    sql(\"CREATE DATABASE hive_test_db\")\n+    sql(\"USE hive_test_db\")\n+    assert(\"hive_test_db\" == sql(\"select current_database()\").first().getString(0))",
    "line": 17
  }, {
    "author": {
      "login": "viirya"
    },
    "body": "Do we already have database support in `SQLContext`?\n",
    "commit": "ff5508b5c6776af5f38dc17f4c5af37eebd3097e",
    "createdAt": "2016-01-28T05:57:23Z",
    "diffHunk": "@@ -1262,6 +1263,21 @@ class HiveQuerySuite extends HiveComparisonTest with BeforeAndAfter {\n \n   }\n \n+  test(\"use database\") {\n+    val currentDatabase = sql(\"select current_database()\").first().getString(0)\n+\n+    sql(\"CREATE DATABASE hive_test_db\")\n+    sql(\"USE hive_test_db\")\n+    assert(\"hive_test_db\" == sql(\"select current_database()\").first().getString(0))",
    "line": 17
  }],
  "prId": 10916
}]