[{
  "comments": [{
    "author": {
      "login": "wangyum"
    },
    "body": "[HIVE-11890](https://issues.apache.org/jira/browse/HIVE-11890) move `org.apache.hadoop.hive.ql.io.orc.OrcProto.Type` to `org.apache.orc.OrcProto.Type`.\r\nRemove `OrcProto.Type` to workaround this api change.",
    "commit": "bf4762a4e64329beb7c768e71e396eb95548a72f",
    "createdAt": "2019-03-08T02:46:54Z",
    "diffHunk": "@@ -42,8 +41,11 @@\n \n   public SparkOrcNewRecordReader(Reader file, Configuration conf,\n       long offset, long length) throws IOException {\n-    List<OrcProto.Type> types = file.getTypes();\n-    numColumns = (types.size() == 0) ? 0 : types.get(0).getSubtypesCount();\n+    if (file.getTypes().size() == 0) {"
  }, {
    "author": {
      "login": "srowen"
    },
    "body": "Could even use `isEmpty` here",
    "commit": "bf4762a4e64329beb7c768e71e396eb95548a72f",
    "createdAt": "2019-03-09T15:54:02Z",
    "diffHunk": "@@ -42,8 +41,11 @@\n \n   public SparkOrcNewRecordReader(Reader file, Configuration conf,\n       long offset, long length) throws IOException {\n-    List<OrcProto.Type> types = file.getTypes();\n-    numColumns = (types.size() == 0) ? 0 : types.get(0).getSubtypesCount();\n+    if (file.getTypes().size() == 0) {"
  }, {
    "author": {
      "login": "wangyum"
    },
    "body": "Yes. `isEmpty` is better.",
    "commit": "bf4762a4e64329beb7c768e71e396eb95548a72f",
    "createdAt": "2019-03-09T16:10:55Z",
    "diffHunk": "@@ -42,8 +41,11 @@\n \n   public SparkOrcNewRecordReader(Reader file, Configuration conf,\n       long offset, long length) throws IOException {\n-    List<OrcProto.Type> types = file.getTypes();\n-    numColumns = (types.size() == 0) ? 0 : types.get(0).getSubtypesCount();\n+    if (file.getTypes().size() == 0) {"
  }],
  "prId": 24018
}]