[{
  "comments": [{
    "author": {
      "login": "dongjoon-hyun"
    },
    "body": "@gengliangwang . Just a surprise, `86.2X -> 6.5X`?",
    "commit": "b204638bdab7aca0676d81fc348a86b32222603e",
    "createdAt": "2018-11-07T17:45:56Z",
    "diffHunk": "@@ -2,268 +2,268 @@\n SQL Single Numeric Column Scan\n ================================================================================================\n \n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n SQL Single TINYINT Column Scan:          Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-SQL CSV                                     21508 / 22112          0.7        1367.5       1.0X\n-SQL Json                                      8705 / 8825          1.8         553.4       2.5X\n-SQL Parquet Vectorized                         157 /  186        100.0          10.0     136.7X\n-SQL Parquet MR                                1789 / 1794          8.8         113.8      12.0X\n-SQL ORC Vectorized                             156 /  166        100.9           9.9     138.0X\n-SQL ORC Vectorized with copy                   218 /  225         72.1          13.9      98.6X\n-SQL ORC MR                                    1448 / 1492         10.9          92.0      14.9X\n-\n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+SQL CSV                                     15974 / 16222          1.0        1015.6       1.0X\n+SQL Json                                      5917 / 6174          2.7         376.2       2.7X\n+SQL Parquet Vectorized                         115 /  128        136.8           7.3     138.9X\n+SQL Parquet MR                                1459 / 1571         10.8          92.8      10.9X\n+SQL ORC Vectorized                             164 /  194         95.8          10.4      97.3X\n+SQL ORC Vectorized with copy                   204 /  303         77.2          12.9      78.4X\n+SQL ORC MR                                    1095 / 1143         14.4          69.6      14.6X\n+\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n Parquet Reader Single TINYINT Column Scan: Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-ParquetReader Vectorized                       202 /  211         77.7          12.9       1.0X\n-ParquetReader Vectorized -> Row                118 /  120        133.5           7.5       1.7X\n+ParquetReader Vectorized                       139 /  156        113.1           8.8       1.0X\n+ParquetReader Vectorized -> Row                 83 /   89        188.7           5.3       1.7X\n \n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n SQL Single SMALLINT Column Scan:         Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-SQL CSV                                     23282 / 23312          0.7        1480.2       1.0X\n-SQL Json                                      9187 / 9189          1.7         584.1       2.5X\n-SQL Parquet Vectorized                         204 /  218         77.0          13.0     114.0X\n-SQL Parquet MR                                1941 / 1953          8.1         123.4      12.0X\n-SQL ORC Vectorized                             217 /  225         72.6          13.8     107.5X\n-SQL ORC Vectorized with copy                   279 /  289         56.3          17.8      83.4X\n-SQL ORC MR                                    1541 / 1549         10.2          98.0      15.1X\n-\n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+SQL CSV                                     16394 / 16643          1.0        1042.3       1.0X\n+SQL Json                                      6014 / 6020          2.6         382.4       2.7X\n+SQL Parquet Vectorized                         147 /  155        106.9           9.4     111.4X\n+SQL Parquet MR                                1575 / 1581         10.0         100.1      10.4X\n+SQL ORC Vectorized                             168 /  173         93.9          10.7      97.9X\n+SQL ORC Vectorized with copy                   219 /  227         71.8          13.9      74.8X\n+SQL ORC MR                                    1185 / 1187         13.3          75.3      13.8X\n+\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n Parquet Reader Single SMALLINT Column Scan: Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-ParquetReader Vectorized                       288 /  297         54.6          18.3       1.0X\n-ParquetReader Vectorized -> Row                255 /  257         61.7          16.2       1.1X\n+ParquetReader Vectorized                       193 /  216         81.4          12.3       1.0X\n+ParquetReader Vectorized -> Row                160 /  175         98.3          10.2       1.2X\n \n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n SQL Single INT Column Scan:              Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-SQL CSV                                     24990 / 25012          0.6        1588.8       1.0X\n-SQL Json                                      9837 / 9865          1.6         625.4       2.5X\n-SQL Parquet Vectorized                         170 /  180         92.3          10.8     146.6X\n-SQL Parquet MR                                2319 / 2328          6.8         147.4      10.8X\n-SQL ORC Vectorized                             293 /  301         53.7          18.6      85.3X\n-SQL ORC Vectorized with copy                   297 /  309         52.9          18.9      84.0X\n-SQL ORC MR                                    1667 / 1674          9.4         106.0      15.0X\n-\n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+SQL CSV                                     17168 / 17306          0.9        1091.5       1.0X\n+SQL Json                                      6167 / 6180          2.6         392.1       2.8X\n+SQL Parquet Vectorized                         134 /  142        117.5           8.5     128.2X\n+SQL Parquet MR                                1659 / 1740          9.5         105.5      10.3X\n+SQL ORC Vectorized                             225 /  229         69.9          14.3      76.3X\n+SQL ORC Vectorized with copy                   231 /  235         68.2          14.7      74.4X\n+SQL ORC MR                                    1287 / 1388         12.2          81.8      13.3X\n+\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n Parquet Reader Single INT Column Scan:   Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-ParquetReader Vectorized                       257 /  274         61.3          16.3       1.0X\n-ParquetReader Vectorized -> Row                259 /  264         60.8          16.4       1.0X\n+ParquetReader Vectorized                       178 /  187         88.2          11.3       1.0X\n+ParquetReader Vectorized -> Row                174 /  184         90.3          11.1       1.0X\n \n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n SQL Single BIGINT Column Scan:           Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-SQL CSV                                     32537 / 32554          0.5        2068.7       1.0X\n-SQL Json                                    12610 / 12668          1.2         801.7       2.6X\n-SQL Parquet Vectorized                         258 /  276         61.0          16.4     126.2X\n-SQL Parquet MR                                2422 / 2435          6.5         154.0      13.4X\n-SQL ORC Vectorized                             378 /  385         41.6          24.0      86.2X\n-SQL ORC Vectorized with copy                   381 /  389         41.3          24.2      85.4X\n-SQL ORC MR                                    1797 / 1819          8.8         114.3      18.1X\n-\n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+SQL CSV                                     21253 / 21542          0.7        1351.2       1.0X\n+SQL Json                                      8208 / 8209          1.9         521.9       2.6X\n+SQL Parquet Vectorized                         180 /  241         87.3          11.5     117.9X\n+SQL Parquet MR                                1769 / 1801          8.9         112.5      12.0X\n+SQL ORC Vectorized                            3271 / 3277          4.8         207.9       6.5X"
  }, {
    "author": {
      "login": "dongjoon-hyun"
    },
    "body": "Could you regenerate the result again?\r\nI think this might be your Macbook issue at this moment of time. \r\nPlease see line 71. It's faster that this. (Usually, line 71 is slower than this due to copying).",
    "commit": "b204638bdab7aca0676d81fc348a86b32222603e",
    "createdAt": "2018-11-07T17:51:01Z",
    "diffHunk": "@@ -2,268 +2,268 @@\n SQL Single Numeric Column Scan\n ================================================================================================\n \n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n SQL Single TINYINT Column Scan:          Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-SQL CSV                                     21508 / 22112          0.7        1367.5       1.0X\n-SQL Json                                      8705 / 8825          1.8         553.4       2.5X\n-SQL Parquet Vectorized                         157 /  186        100.0          10.0     136.7X\n-SQL Parquet MR                                1789 / 1794          8.8         113.8      12.0X\n-SQL ORC Vectorized                             156 /  166        100.9           9.9     138.0X\n-SQL ORC Vectorized with copy                   218 /  225         72.1          13.9      98.6X\n-SQL ORC MR                                    1448 / 1492         10.9          92.0      14.9X\n-\n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+SQL CSV                                     15974 / 16222          1.0        1015.6       1.0X\n+SQL Json                                      5917 / 6174          2.7         376.2       2.7X\n+SQL Parquet Vectorized                         115 /  128        136.8           7.3     138.9X\n+SQL Parquet MR                                1459 / 1571         10.8          92.8      10.9X\n+SQL ORC Vectorized                             164 /  194         95.8          10.4      97.3X\n+SQL ORC Vectorized with copy                   204 /  303         77.2          12.9      78.4X\n+SQL ORC MR                                    1095 / 1143         14.4          69.6      14.6X\n+\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n Parquet Reader Single TINYINT Column Scan: Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-ParquetReader Vectorized                       202 /  211         77.7          12.9       1.0X\n-ParquetReader Vectorized -> Row                118 /  120        133.5           7.5       1.7X\n+ParquetReader Vectorized                       139 /  156        113.1           8.8       1.0X\n+ParquetReader Vectorized -> Row                 83 /   89        188.7           5.3       1.7X\n \n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n SQL Single SMALLINT Column Scan:         Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-SQL CSV                                     23282 / 23312          0.7        1480.2       1.0X\n-SQL Json                                      9187 / 9189          1.7         584.1       2.5X\n-SQL Parquet Vectorized                         204 /  218         77.0          13.0     114.0X\n-SQL Parquet MR                                1941 / 1953          8.1         123.4      12.0X\n-SQL ORC Vectorized                             217 /  225         72.6          13.8     107.5X\n-SQL ORC Vectorized with copy                   279 /  289         56.3          17.8      83.4X\n-SQL ORC MR                                    1541 / 1549         10.2          98.0      15.1X\n-\n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+SQL CSV                                     16394 / 16643          1.0        1042.3       1.0X\n+SQL Json                                      6014 / 6020          2.6         382.4       2.7X\n+SQL Parquet Vectorized                         147 /  155        106.9           9.4     111.4X\n+SQL Parquet MR                                1575 / 1581         10.0         100.1      10.4X\n+SQL ORC Vectorized                             168 /  173         93.9          10.7      97.9X\n+SQL ORC Vectorized with copy                   219 /  227         71.8          13.9      74.8X\n+SQL ORC MR                                    1185 / 1187         13.3          75.3      13.8X\n+\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n Parquet Reader Single SMALLINT Column Scan: Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-ParquetReader Vectorized                       288 /  297         54.6          18.3       1.0X\n-ParquetReader Vectorized -> Row                255 /  257         61.7          16.2       1.1X\n+ParquetReader Vectorized                       193 /  216         81.4          12.3       1.0X\n+ParquetReader Vectorized -> Row                160 /  175         98.3          10.2       1.2X\n \n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n SQL Single INT Column Scan:              Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-SQL CSV                                     24990 / 25012          0.6        1588.8       1.0X\n-SQL Json                                      9837 / 9865          1.6         625.4       2.5X\n-SQL Parquet Vectorized                         170 /  180         92.3          10.8     146.6X\n-SQL Parquet MR                                2319 / 2328          6.8         147.4      10.8X\n-SQL ORC Vectorized                             293 /  301         53.7          18.6      85.3X\n-SQL ORC Vectorized with copy                   297 /  309         52.9          18.9      84.0X\n-SQL ORC MR                                    1667 / 1674          9.4         106.0      15.0X\n-\n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+SQL CSV                                     17168 / 17306          0.9        1091.5       1.0X\n+SQL Json                                      6167 / 6180          2.6         392.1       2.8X\n+SQL Parquet Vectorized                         134 /  142        117.5           8.5     128.2X\n+SQL Parquet MR                                1659 / 1740          9.5         105.5      10.3X\n+SQL ORC Vectorized                             225 /  229         69.9          14.3      76.3X\n+SQL ORC Vectorized with copy                   231 /  235         68.2          14.7      74.4X\n+SQL ORC MR                                    1287 / 1388         12.2          81.8      13.3X\n+\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n Parquet Reader Single INT Column Scan:   Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-ParquetReader Vectorized                       257 /  274         61.3          16.3       1.0X\n-ParquetReader Vectorized -> Row                259 /  264         60.8          16.4       1.0X\n+ParquetReader Vectorized                       178 /  187         88.2          11.3       1.0X\n+ParquetReader Vectorized -> Row                174 /  184         90.3          11.1       1.0X\n \n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n SQL Single BIGINT Column Scan:           Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-SQL CSV                                     32537 / 32554          0.5        2068.7       1.0X\n-SQL Json                                    12610 / 12668          1.2         801.7       2.6X\n-SQL Parquet Vectorized                         258 /  276         61.0          16.4     126.2X\n-SQL Parquet MR                                2422 / 2435          6.5         154.0      13.4X\n-SQL ORC Vectorized                             378 /  385         41.6          24.0      86.2X\n-SQL ORC Vectorized with copy                   381 /  389         41.3          24.2      85.4X\n-SQL ORC MR                                    1797 / 1819          8.8         114.3      18.1X\n-\n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+SQL CSV                                     21253 / 21542          0.7        1351.2       1.0X\n+SQL Json                                      8208 / 8209          1.9         521.9       2.6X\n+SQL Parquet Vectorized                         180 /  241         87.3          11.5     117.9X\n+SQL Parquet MR                                1769 / 1801          8.9         112.5      12.0X\n+SQL ORC Vectorized                            3271 / 3277          4.8         207.9       6.5X"
  }, {
    "author": {
      "login": "gengliangwang"
    },
    "body": "OK, let me re-run it.\r\nThanks for the check!",
    "commit": "b204638bdab7aca0676d81fc348a86b32222603e",
    "createdAt": "2018-11-08T05:01:25Z",
    "diffHunk": "@@ -2,268 +2,268 @@\n SQL Single Numeric Column Scan\n ================================================================================================\n \n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n SQL Single TINYINT Column Scan:          Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-SQL CSV                                     21508 / 22112          0.7        1367.5       1.0X\n-SQL Json                                      8705 / 8825          1.8         553.4       2.5X\n-SQL Parquet Vectorized                         157 /  186        100.0          10.0     136.7X\n-SQL Parquet MR                                1789 / 1794          8.8         113.8      12.0X\n-SQL ORC Vectorized                             156 /  166        100.9           9.9     138.0X\n-SQL ORC Vectorized with copy                   218 /  225         72.1          13.9      98.6X\n-SQL ORC MR                                    1448 / 1492         10.9          92.0      14.9X\n-\n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+SQL CSV                                     15974 / 16222          1.0        1015.6       1.0X\n+SQL Json                                      5917 / 6174          2.7         376.2       2.7X\n+SQL Parquet Vectorized                         115 /  128        136.8           7.3     138.9X\n+SQL Parquet MR                                1459 / 1571         10.8          92.8      10.9X\n+SQL ORC Vectorized                             164 /  194         95.8          10.4      97.3X\n+SQL ORC Vectorized with copy                   204 /  303         77.2          12.9      78.4X\n+SQL ORC MR                                    1095 / 1143         14.4          69.6      14.6X\n+\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n Parquet Reader Single TINYINT Column Scan: Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-ParquetReader Vectorized                       202 /  211         77.7          12.9       1.0X\n-ParquetReader Vectorized -> Row                118 /  120        133.5           7.5       1.7X\n+ParquetReader Vectorized                       139 /  156        113.1           8.8       1.0X\n+ParquetReader Vectorized -> Row                 83 /   89        188.7           5.3       1.7X\n \n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n SQL Single SMALLINT Column Scan:         Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-SQL CSV                                     23282 / 23312          0.7        1480.2       1.0X\n-SQL Json                                      9187 / 9189          1.7         584.1       2.5X\n-SQL Parquet Vectorized                         204 /  218         77.0          13.0     114.0X\n-SQL Parquet MR                                1941 / 1953          8.1         123.4      12.0X\n-SQL ORC Vectorized                             217 /  225         72.6          13.8     107.5X\n-SQL ORC Vectorized with copy                   279 /  289         56.3          17.8      83.4X\n-SQL ORC MR                                    1541 / 1549         10.2          98.0      15.1X\n-\n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+SQL CSV                                     16394 / 16643          1.0        1042.3       1.0X\n+SQL Json                                      6014 / 6020          2.6         382.4       2.7X\n+SQL Parquet Vectorized                         147 /  155        106.9           9.4     111.4X\n+SQL Parquet MR                                1575 / 1581         10.0         100.1      10.4X\n+SQL ORC Vectorized                             168 /  173         93.9          10.7      97.9X\n+SQL ORC Vectorized with copy                   219 /  227         71.8          13.9      74.8X\n+SQL ORC MR                                    1185 / 1187         13.3          75.3      13.8X\n+\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n Parquet Reader Single SMALLINT Column Scan: Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-ParquetReader Vectorized                       288 /  297         54.6          18.3       1.0X\n-ParquetReader Vectorized -> Row                255 /  257         61.7          16.2       1.1X\n+ParquetReader Vectorized                       193 /  216         81.4          12.3       1.0X\n+ParquetReader Vectorized -> Row                160 /  175         98.3          10.2       1.2X\n \n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n SQL Single INT Column Scan:              Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-SQL CSV                                     24990 / 25012          0.6        1588.8       1.0X\n-SQL Json                                      9837 / 9865          1.6         625.4       2.5X\n-SQL Parquet Vectorized                         170 /  180         92.3          10.8     146.6X\n-SQL Parquet MR                                2319 / 2328          6.8         147.4      10.8X\n-SQL ORC Vectorized                             293 /  301         53.7          18.6      85.3X\n-SQL ORC Vectorized with copy                   297 /  309         52.9          18.9      84.0X\n-SQL ORC MR                                    1667 / 1674          9.4         106.0      15.0X\n-\n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+SQL CSV                                     17168 / 17306          0.9        1091.5       1.0X\n+SQL Json                                      6167 / 6180          2.6         392.1       2.8X\n+SQL Parquet Vectorized                         134 /  142        117.5           8.5     128.2X\n+SQL Parquet MR                                1659 / 1740          9.5         105.5      10.3X\n+SQL ORC Vectorized                             225 /  229         69.9          14.3      76.3X\n+SQL ORC Vectorized with copy                   231 /  235         68.2          14.7      74.4X\n+SQL ORC MR                                    1287 / 1388         12.2          81.8      13.3X\n+\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n Parquet Reader Single INT Column Scan:   Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-ParquetReader Vectorized                       257 /  274         61.3          16.3       1.0X\n-ParquetReader Vectorized -> Row                259 /  264         60.8          16.4       1.0X\n+ParquetReader Vectorized                       178 /  187         88.2          11.3       1.0X\n+ParquetReader Vectorized -> Row                174 /  184         90.3          11.1       1.0X\n \n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n SQL Single BIGINT Column Scan:           Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-SQL CSV                                     32537 / 32554          0.5        2068.7       1.0X\n-SQL Json                                    12610 / 12668          1.2         801.7       2.6X\n-SQL Parquet Vectorized                         258 /  276         61.0          16.4     126.2X\n-SQL Parquet MR                                2422 / 2435          6.5         154.0      13.4X\n-SQL ORC Vectorized                             378 /  385         41.6          24.0      86.2X\n-SQL ORC Vectorized with copy                   381 /  389         41.3          24.2      85.4X\n-SQL ORC MR                                    1797 / 1819          8.8         114.3      18.1X\n-\n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+SQL CSV                                     21253 / 21542          0.7        1351.2       1.0X\n+SQL Json                                      8208 / 8209          1.9         521.9       2.6X\n+SQL Parquet Vectorized                         180 /  241         87.3          11.5     117.9X\n+SQL Parquet MR                                1769 / 1801          8.9         112.5      12.0X\n+SQL ORC Vectorized                            3271 / 3277          4.8         207.9       6.5X"
  }, {
    "author": {
      "login": "gengliangwang"
    },
    "body": "Done in https://github.com/apache/spark/pull/22965/commits/3067a6d1f63c93b4295425d90e5894d27c840995 .\r\n",
    "commit": "b204638bdab7aca0676d81fc348a86b32222603e",
    "createdAt": "2018-11-08T05:13:25Z",
    "diffHunk": "@@ -2,268 +2,268 @@\n SQL Single Numeric Column Scan\n ================================================================================================\n \n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n SQL Single TINYINT Column Scan:          Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-SQL CSV                                     21508 / 22112          0.7        1367.5       1.0X\n-SQL Json                                      8705 / 8825          1.8         553.4       2.5X\n-SQL Parquet Vectorized                         157 /  186        100.0          10.0     136.7X\n-SQL Parquet MR                                1789 / 1794          8.8         113.8      12.0X\n-SQL ORC Vectorized                             156 /  166        100.9           9.9     138.0X\n-SQL ORC Vectorized with copy                   218 /  225         72.1          13.9      98.6X\n-SQL ORC MR                                    1448 / 1492         10.9          92.0      14.9X\n-\n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+SQL CSV                                     15974 / 16222          1.0        1015.6       1.0X\n+SQL Json                                      5917 / 6174          2.7         376.2       2.7X\n+SQL Parquet Vectorized                         115 /  128        136.8           7.3     138.9X\n+SQL Parquet MR                                1459 / 1571         10.8          92.8      10.9X\n+SQL ORC Vectorized                             164 /  194         95.8          10.4      97.3X\n+SQL ORC Vectorized with copy                   204 /  303         77.2          12.9      78.4X\n+SQL ORC MR                                    1095 / 1143         14.4          69.6      14.6X\n+\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n Parquet Reader Single TINYINT Column Scan: Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-ParquetReader Vectorized                       202 /  211         77.7          12.9       1.0X\n-ParquetReader Vectorized -> Row                118 /  120        133.5           7.5       1.7X\n+ParquetReader Vectorized                       139 /  156        113.1           8.8       1.0X\n+ParquetReader Vectorized -> Row                 83 /   89        188.7           5.3       1.7X\n \n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n SQL Single SMALLINT Column Scan:         Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-SQL CSV                                     23282 / 23312          0.7        1480.2       1.0X\n-SQL Json                                      9187 / 9189          1.7         584.1       2.5X\n-SQL Parquet Vectorized                         204 /  218         77.0          13.0     114.0X\n-SQL Parquet MR                                1941 / 1953          8.1         123.4      12.0X\n-SQL ORC Vectorized                             217 /  225         72.6          13.8     107.5X\n-SQL ORC Vectorized with copy                   279 /  289         56.3          17.8      83.4X\n-SQL ORC MR                                    1541 / 1549         10.2          98.0      15.1X\n-\n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+SQL CSV                                     16394 / 16643          1.0        1042.3       1.0X\n+SQL Json                                      6014 / 6020          2.6         382.4       2.7X\n+SQL Parquet Vectorized                         147 /  155        106.9           9.4     111.4X\n+SQL Parquet MR                                1575 / 1581         10.0         100.1      10.4X\n+SQL ORC Vectorized                             168 /  173         93.9          10.7      97.9X\n+SQL ORC Vectorized with copy                   219 /  227         71.8          13.9      74.8X\n+SQL ORC MR                                    1185 / 1187         13.3          75.3      13.8X\n+\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n Parquet Reader Single SMALLINT Column Scan: Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-ParquetReader Vectorized                       288 /  297         54.6          18.3       1.0X\n-ParquetReader Vectorized -> Row                255 /  257         61.7          16.2       1.1X\n+ParquetReader Vectorized                       193 /  216         81.4          12.3       1.0X\n+ParquetReader Vectorized -> Row                160 /  175         98.3          10.2       1.2X\n \n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n SQL Single INT Column Scan:              Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-SQL CSV                                     24990 / 25012          0.6        1588.8       1.0X\n-SQL Json                                      9837 / 9865          1.6         625.4       2.5X\n-SQL Parquet Vectorized                         170 /  180         92.3          10.8     146.6X\n-SQL Parquet MR                                2319 / 2328          6.8         147.4      10.8X\n-SQL ORC Vectorized                             293 /  301         53.7          18.6      85.3X\n-SQL ORC Vectorized with copy                   297 /  309         52.9          18.9      84.0X\n-SQL ORC MR                                    1667 / 1674          9.4         106.0      15.0X\n-\n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+SQL CSV                                     17168 / 17306          0.9        1091.5       1.0X\n+SQL Json                                      6167 / 6180          2.6         392.1       2.8X\n+SQL Parquet Vectorized                         134 /  142        117.5           8.5     128.2X\n+SQL Parquet MR                                1659 / 1740          9.5         105.5      10.3X\n+SQL ORC Vectorized                             225 /  229         69.9          14.3      76.3X\n+SQL ORC Vectorized with copy                   231 /  235         68.2          14.7      74.4X\n+SQL ORC MR                                    1287 / 1388         12.2          81.8      13.3X\n+\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n Parquet Reader Single INT Column Scan:   Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-ParquetReader Vectorized                       257 /  274         61.3          16.3       1.0X\n-ParquetReader Vectorized -> Row                259 /  264         60.8          16.4       1.0X\n+ParquetReader Vectorized                       178 /  187         88.2          11.3       1.0X\n+ParquetReader Vectorized -> Row                174 /  184         90.3          11.1       1.0X\n \n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n SQL Single BIGINT Column Scan:           Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-SQL CSV                                     32537 / 32554          0.5        2068.7       1.0X\n-SQL Json                                    12610 / 12668          1.2         801.7       2.6X\n-SQL Parquet Vectorized                         258 /  276         61.0          16.4     126.2X\n-SQL Parquet MR                                2422 / 2435          6.5         154.0      13.4X\n-SQL ORC Vectorized                             378 /  385         41.6          24.0      86.2X\n-SQL ORC Vectorized with copy                   381 /  389         41.3          24.2      85.4X\n-SQL ORC MR                                    1797 / 1819          8.8         114.3      18.1X\n-\n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+SQL CSV                                     21253 / 21542          0.7        1351.2       1.0X\n+SQL Json                                      8208 / 8209          1.9         521.9       2.6X\n+SQL Parquet Vectorized                         180 /  241         87.3          11.5     117.9X\n+SQL Parquet MR                                1769 / 1801          8.9         112.5      12.0X\n+SQL ORC Vectorized                            3271 / 3277          4.8         207.9       6.5X"
  }],
  "prId": 22965
}, {
  "comments": [{
    "author": {
      "login": "dongjoon-hyun"
    },
    "body": "Now, the result looks normal..",
    "commit": "b204638bdab7aca0676d81fc348a86b32222603e",
    "createdAt": "2018-11-08T08:08:34Z",
    "diffHunk": "@@ -2,268 +2,268 @@\n SQL Single Numeric Column Scan\n ================================================================================================\n \n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n SQL Single TINYINT Column Scan:          Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-SQL CSV                                     21508 / 22112          0.7        1367.5       1.0X\n-SQL Json                                      8705 / 8825          1.8         553.4       2.5X\n-SQL Parquet Vectorized                         157 /  186        100.0          10.0     136.7X\n-SQL Parquet MR                                1789 / 1794          8.8         113.8      12.0X\n-SQL ORC Vectorized                             156 /  166        100.9           9.9     138.0X\n-SQL ORC Vectorized with copy                   218 /  225         72.1          13.9      98.6X\n-SQL ORC MR                                    1448 / 1492         10.9          92.0      14.9X\n-\n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+SQL CSV                                     14108 / 14263          1.1         896.9       1.0X\n+SQL Json                                      5477 / 5509          2.9         348.2       2.6X\n+SQL Parquet Vectorized                         115 /  125        137.1           7.3     122.9X\n+SQL Parquet MR                                1318 / 1332         11.9          83.8      10.7X\n+SQL ORC Vectorized                             150 /  159        104.9           9.5      94.1X\n+SQL ORC Vectorized with copy                   206 /  208         76.4          13.1      68.5X\n+SQL ORC MR                                    1072 / 1075         14.7          68.1      13.2X\n+\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n Parquet Reader Single TINYINT Column Scan: Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-ParquetReader Vectorized                       202 /  211         77.7          12.9       1.0X\n-ParquetReader Vectorized -> Row                118 /  120        133.5           7.5       1.7X\n+ParquetReader Vectorized                       138 /  152        114.0           8.8       1.0X\n+ParquetReader Vectorized -> Row                 80 /   87        197.2           5.1       1.7X\n \n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n SQL Single SMALLINT Column Scan:         Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-SQL CSV                                     23282 / 23312          0.7        1480.2       1.0X\n-SQL Json                                      9187 / 9189          1.7         584.1       2.5X\n-SQL Parquet Vectorized                         204 /  218         77.0          13.0     114.0X\n-SQL Parquet MR                                1941 / 1953          8.1         123.4      12.0X\n-SQL ORC Vectorized                             217 /  225         72.6          13.8     107.5X\n-SQL ORC Vectorized with copy                   279 /  289         56.3          17.8      83.4X\n-SQL ORC MR                                    1541 / 1549         10.2          98.0      15.1X\n-\n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+SQL CSV                                     14495 / 14507          1.1         921.6       1.0X\n+SQL Json                                      5615 / 5668          2.8         357.0       2.6X\n+SQL Parquet Vectorized                         147 /  154        107.4           9.3      98.9X\n+SQL Parquet MR                                1431 / 1454         11.0          91.0      10.1X\n+SQL ORC Vectorized                             170 /  175         92.4          10.8      85.1X\n+SQL ORC Vectorized with copy                   223 /  228         70.6          14.2      65.1X\n+SQL ORC MR                                    1187 / 1197         13.2          75.5      12.2X\n+\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n Parquet Reader Single SMALLINT Column Scan: Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-ParquetReader Vectorized                       288 /  297         54.6          18.3       1.0X\n-ParquetReader Vectorized -> Row                255 /  257         61.7          16.2       1.1X\n+ParquetReader Vectorized                       190 /  219         82.8          12.1       1.0X\n+ParquetReader Vectorized -> Row                165 /  169         95.2          10.5       1.1X\n \n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n SQL Single INT Column Scan:              Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-SQL CSV                                     24990 / 25012          0.6        1588.8       1.0X\n-SQL Json                                      9837 / 9865          1.6         625.4       2.5X\n-SQL Parquet Vectorized                         170 /  180         92.3          10.8     146.6X\n-SQL Parquet MR                                2319 / 2328          6.8         147.4      10.8X\n-SQL ORC Vectorized                             293 /  301         53.7          18.6      85.3X\n-SQL ORC Vectorized with copy                   297 /  309         52.9          18.9      84.0X\n-SQL ORC MR                                    1667 / 1674          9.4         106.0      15.0X\n-\n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+SQL CSV                                     16105 / 16214          1.0        1023.9       1.0X\n+SQL Json                                      6289 / 6291          2.5         399.8       2.6X\n+SQL Parquet Vectorized                         142 /  148        111.0           9.0     113.6X\n+SQL Parquet MR                                1797 / 1801          8.8         114.2       9.0X\n+SQL ORC Vectorized                             232 /  238         67.9          14.7      69.5X\n+SQL ORC Vectorized with copy                   237 /  242         66.5          15.0      68.1X\n+SQL ORC MR                                    1309 / 1409         12.0          83.2      12.3X\n+\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n Parquet Reader Single INT Column Scan:   Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-ParquetReader Vectorized                       257 /  274         61.3          16.3       1.0X\n-ParquetReader Vectorized -> Row                259 /  264         60.8          16.4       1.0X\n+ParquetReader Vectorized                       181 /  225         87.0          11.5       1.0X\n+ParquetReader Vectorized -> Row                180 /  186         87.4          11.4       1.0X\n \n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n SQL Single BIGINT Column Scan:           Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-SQL CSV                                     32537 / 32554          0.5        2068.7       1.0X\n-SQL Json                                    12610 / 12668          1.2         801.7       2.6X\n-SQL Parquet Vectorized                         258 /  276         61.0          16.4     126.2X\n-SQL Parquet MR                                2422 / 2435          6.5         154.0      13.4X\n-SQL ORC Vectorized                             378 /  385         41.6          24.0      86.2X\n-SQL ORC Vectorized with copy                   381 /  389         41.3          24.2      85.4X\n-SQL ORC MR                                    1797 / 1819          8.8         114.3      18.1X\n-\n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+SQL CSV                                     20128 / 20682          0.8        1279.7       1.0X\n+SQL Json                                      8277 / 8279          1.9         526.3       2.4X\n+SQL Parquet Vectorized                         198 /  211         79.3          12.6     101.5X\n+SQL Parquet MR                                1788 / 1816          8.8         113.7      11.3X\n+SQL ORC Vectorized                             273 /  290         57.6          17.4      73.7X"
  }, {
    "author": {
      "login": "gengliangwang"
    },
    "body": "Yes  ",
    "commit": "b204638bdab7aca0676d81fc348a86b32222603e",
    "createdAt": "2018-11-08T08:18:25Z",
    "diffHunk": "@@ -2,268 +2,268 @@\n SQL Single Numeric Column Scan\n ================================================================================================\n \n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n SQL Single TINYINT Column Scan:          Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-SQL CSV                                     21508 / 22112          0.7        1367.5       1.0X\n-SQL Json                                      8705 / 8825          1.8         553.4       2.5X\n-SQL Parquet Vectorized                         157 /  186        100.0          10.0     136.7X\n-SQL Parquet MR                                1789 / 1794          8.8         113.8      12.0X\n-SQL ORC Vectorized                             156 /  166        100.9           9.9     138.0X\n-SQL ORC Vectorized with copy                   218 /  225         72.1          13.9      98.6X\n-SQL ORC MR                                    1448 / 1492         10.9          92.0      14.9X\n-\n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+SQL CSV                                     14108 / 14263          1.1         896.9       1.0X\n+SQL Json                                      5477 / 5509          2.9         348.2       2.6X\n+SQL Parquet Vectorized                         115 /  125        137.1           7.3     122.9X\n+SQL Parquet MR                                1318 / 1332         11.9          83.8      10.7X\n+SQL ORC Vectorized                             150 /  159        104.9           9.5      94.1X\n+SQL ORC Vectorized with copy                   206 /  208         76.4          13.1      68.5X\n+SQL ORC MR                                    1072 / 1075         14.7          68.1      13.2X\n+\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n Parquet Reader Single TINYINT Column Scan: Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-ParquetReader Vectorized                       202 /  211         77.7          12.9       1.0X\n-ParquetReader Vectorized -> Row                118 /  120        133.5           7.5       1.7X\n+ParquetReader Vectorized                       138 /  152        114.0           8.8       1.0X\n+ParquetReader Vectorized -> Row                 80 /   87        197.2           5.1       1.7X\n \n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n SQL Single SMALLINT Column Scan:         Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-SQL CSV                                     23282 / 23312          0.7        1480.2       1.0X\n-SQL Json                                      9187 / 9189          1.7         584.1       2.5X\n-SQL Parquet Vectorized                         204 /  218         77.0          13.0     114.0X\n-SQL Parquet MR                                1941 / 1953          8.1         123.4      12.0X\n-SQL ORC Vectorized                             217 /  225         72.6          13.8     107.5X\n-SQL ORC Vectorized with copy                   279 /  289         56.3          17.8      83.4X\n-SQL ORC MR                                    1541 / 1549         10.2          98.0      15.1X\n-\n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+SQL CSV                                     14495 / 14507          1.1         921.6       1.0X\n+SQL Json                                      5615 / 5668          2.8         357.0       2.6X\n+SQL Parquet Vectorized                         147 /  154        107.4           9.3      98.9X\n+SQL Parquet MR                                1431 / 1454         11.0          91.0      10.1X\n+SQL ORC Vectorized                             170 /  175         92.4          10.8      85.1X\n+SQL ORC Vectorized with copy                   223 /  228         70.6          14.2      65.1X\n+SQL ORC MR                                    1187 / 1197         13.2          75.5      12.2X\n+\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n Parquet Reader Single SMALLINT Column Scan: Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-ParquetReader Vectorized                       288 /  297         54.6          18.3       1.0X\n-ParquetReader Vectorized -> Row                255 /  257         61.7          16.2       1.1X\n+ParquetReader Vectorized                       190 /  219         82.8          12.1       1.0X\n+ParquetReader Vectorized -> Row                165 /  169         95.2          10.5       1.1X\n \n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n SQL Single INT Column Scan:              Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-SQL CSV                                     24990 / 25012          0.6        1588.8       1.0X\n-SQL Json                                      9837 / 9865          1.6         625.4       2.5X\n-SQL Parquet Vectorized                         170 /  180         92.3          10.8     146.6X\n-SQL Parquet MR                                2319 / 2328          6.8         147.4      10.8X\n-SQL ORC Vectorized                             293 /  301         53.7          18.6      85.3X\n-SQL ORC Vectorized with copy                   297 /  309         52.9          18.9      84.0X\n-SQL ORC MR                                    1667 / 1674          9.4         106.0      15.0X\n-\n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+SQL CSV                                     16105 / 16214          1.0        1023.9       1.0X\n+SQL Json                                      6289 / 6291          2.5         399.8       2.6X\n+SQL Parquet Vectorized                         142 /  148        111.0           9.0     113.6X\n+SQL Parquet MR                                1797 / 1801          8.8         114.2       9.0X\n+SQL ORC Vectorized                             232 /  238         67.9          14.7      69.5X\n+SQL ORC Vectorized with copy                   237 /  242         66.5          15.0      68.1X\n+SQL ORC MR                                    1309 / 1409         12.0          83.2      12.3X\n+\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n Parquet Reader Single INT Column Scan:   Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-ParquetReader Vectorized                       257 /  274         61.3          16.3       1.0X\n-ParquetReader Vectorized -> Row                259 /  264         60.8          16.4       1.0X\n+ParquetReader Vectorized                       181 /  225         87.0          11.5       1.0X\n+ParquetReader Vectorized -> Row                180 /  186         87.4          11.4       1.0X\n \n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11 on Mac OS X 10.13.6\n+Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\n SQL Single BIGINT Column Scan:           Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-SQL CSV                                     32537 / 32554          0.5        2068.7       1.0X\n-SQL Json                                    12610 / 12668          1.2         801.7       2.6X\n-SQL Parquet Vectorized                         258 /  276         61.0          16.4     126.2X\n-SQL Parquet MR                                2422 / 2435          6.5         154.0      13.4X\n-SQL ORC Vectorized                             378 /  385         41.6          24.0      86.2X\n-SQL ORC Vectorized with copy                   381 /  389         41.3          24.2      85.4X\n-SQL ORC MR                                    1797 / 1819          8.8         114.3      18.1X\n-\n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n-Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n+SQL CSV                                     20128 / 20682          0.8        1279.7       1.0X\n+SQL Json                                      8277 / 8279          1.9         526.3       2.4X\n+SQL Parquet Vectorized                         198 /  211         79.3          12.6     101.5X\n+SQL Parquet MR                                1788 / 1816          8.8         113.7      11.3X\n+SQL ORC Vectorized                             273 /  290         57.6          17.4      73.7X"
  }],
  "prId": 22965
}, {
  "comments": [{
    "author": {
      "login": "dongjoon-hyun"
    },
    "body": "Oops. Never mind. Only `Integral` types seems to show the difference\r\n\r\n~This is not related to this PR. CSV shows a consistent performance regression thoughout all benchmark cases.~ ~The other data sources show reasonable numbers for all types.~",
    "commit": "b204638bdab7aca0676d81fc348a86b32222603e",
    "createdAt": "2018-11-08T17:59:55Z",
    "diffHunk": "@@ -2,268 +2,268 @@\n SQL Single Numeric Column Scan\n ================================================================================================\n \n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n+OpenJDK 64-Bit Server VM 1.8.0_191-b12 on Linux 3.10.0-862.3.2.el7.x86_64\n Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n SQL Single TINYINT Column Scan:          Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\n ------------------------------------------------------------------------------------------------\n-SQL CSV                                     21508 / 22112          0.7        1367.5       1.0X\n-SQL Json                                      8705 / 8825          1.8         553.4       2.5X\n-SQL Parquet Vectorized                         157 /  186        100.0          10.0     136.7X\n-SQL Parquet MR                                1789 / 1794          8.8         113.8      12.0X\n-SQL ORC Vectorized                             156 /  166        100.9           9.9     138.0X\n-SQL ORC Vectorized with copy                   218 /  225         72.1          13.9      98.6X\n-SQL ORC MR                                    1448 / 1492         10.9          92.0      14.9X\n-\n-OpenJDK 64-Bit Server VM 1.8.0_181-b13 on Linux 3.10.0-862.3.2.el7.x86_64\n+SQL CSV                                     26366 / 26562          0.6        1676.3       1.0X",
    "line": 18
  }],
  "prId": 22965
}]