[{
  "comments": [{
    "author": {
      "login": "cloud-fan"
    },
    "body": "why this change?\n",
    "commit": "d2ee5eee7c569b551779a2d73a98c84fd335a4ac",
    "createdAt": "2015-11-03T01:45:25Z",
    "diffHunk": "@@ -381,7 +381,7 @@ class ParquetIOSuite extends QueryTest with ParquetTest with SharedSQLContext {\n       sqlContext.udf.register(\"div0\", (x: Int) => x / 0)\n       withTempPath { dir =>\n         intercept[org.apache.spark.SparkException] {\n-          sqlContext.sql(\"select div0(1)\").write.parquet(dir.getCanonicalPath)\n+          sqlContext.range(1, 2).selectExpr(\"div0(id) as a\").write.parquet(dir.getCanonicalPath)",
    "line": 5
  }, {
    "author": {
      "login": "yhuai"
    },
    "body": "It will prevent us from triggering constant folding.\n",
    "commit": "d2ee5eee7c569b551779a2d73a98c84fd335a4ac",
    "createdAt": "2015-11-03T01:47:50Z",
    "diffHunk": "@@ -381,7 +381,7 @@ class ParquetIOSuite extends QueryTest with ParquetTest with SharedSQLContext {\n       sqlContext.udf.register(\"div0\", (x: Int) => x / 0)\n       withTempPath { dir =>\n         intercept[org.apache.spark.SparkException] {\n-          sqlContext.sql(\"select div0(1)\").write.parquet(dir.getCanonicalPath)\n+          sqlContext.range(1, 2).selectExpr(\"div0(id) as a\").write.parquet(dir.getCanonicalPath)",
    "line": 5
  }, {
    "author": {
      "login": "cloud-fan"
    },
    "body": "Ah, because we can do constant folding to `ScalaUDF` now. This is to make sure we will throw exception at executor side.\n",
    "commit": "d2ee5eee7c569b551779a2d73a98c84fd335a4ac",
    "createdAt": "2015-11-03T01:51:42Z",
    "diffHunk": "@@ -381,7 +381,7 @@ class ParquetIOSuite extends QueryTest with ParquetTest with SharedSQLContext {\n       sqlContext.udf.register(\"div0\", (x: Int) => x / 0)\n       withTempPath { dir =>\n         intercept[org.apache.spark.SparkException] {\n-          sqlContext.sql(\"select div0(1)\").write.parquet(dir.getCanonicalPath)\n+          sqlContext.range(1, 2).selectExpr(\"div0(id) as a\").write.parquet(dir.getCanonicalPath)",
    "line": 5
  }],
  "prId": 9393
}]