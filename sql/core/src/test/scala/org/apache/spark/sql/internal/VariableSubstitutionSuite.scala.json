[{
  "comments": [{
    "author": {
      "login": "dongjoon-hyun"
    },
    "body": "Hi, @gatorsmile .\r\nLet's remove line 47 ~ 49.",
    "commit": "a5ab423c3db1fc8c3de635556f3650ba8279397c",
    "createdAt": "2017-07-05T05:57:15Z",
    "diffHunk": "@@ -35,26 +34,29 @@ class VariableSubstitutionSuite extends SparkFunSuite {\n   }\n \n   test(\"Spark configuration variable\") {\n-    conf.setConfString(\"some-random-string-abcd\", \"1234abcd\")\n-    assert(sub.substitute(\"${hiveconf:some-random-string-abcd}\") == \"1234abcd\")\n-    assert(sub.substitute(\"${sparkconf:some-random-string-abcd}\") == \"1234abcd\")\n-    assert(sub.substitute(\"${spark:some-random-string-abcd}\") == \"1234abcd\")\n-    assert(sub.substitute(\"${some-random-string-abcd}\") == \"1234abcd\")\n+    withSQLConf(\"some-random-string-abcd\" -> \"1234abcd\") {\n+      assert(sub.substitute(\"${hiveconf:some-random-string-abcd}\") == \"1234abcd\")\n+      assert(sub.substitute(\"${sparkconf:some-random-string-abcd}\") == \"1234abcd\")\n+      assert(sub.substitute(\"${spark:some-random-string-abcd}\") == \"1234abcd\")\n+      assert(sub.substitute(\"${some-random-string-abcd}\") == \"1234abcd\")\n+    }\n   }\n \n   test(\"multiple substitutes\") {\n     val q = \"select ${bar} ${foo} ${doo} this is great\"\n     conf.setConfString(\"bar\", \"1\")\n     conf.setConfString(\"foo\", \"2\")\n     conf.setConfString(\"doo\", \"3\")"
  }],
  "prId": 18531
}]