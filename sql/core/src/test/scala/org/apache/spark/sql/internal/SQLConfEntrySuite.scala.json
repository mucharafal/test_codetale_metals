[{
  "comments": [{
    "author": {
      "login": "cloud-fan"
    },
    "body": "can we test `FILESOURCE_TABLE_RELATION_CACHE_SIZE` specifically? e.g.\r\n```\r\nval confEntry = SQLConf.FILESOURCE_TABLE_RELATION_CACHE_SIZE\r\n...\r\n```",
    "commit": "f29c9d77a683c1a63abac92f19210eadcb68682e",
    "createdAt": "2017-02-08T06:22:39Z",
    "diffHunk": "@@ -164,6 +164,18 @@ class SQLConfEntrySuite extends SparkFunSuite {\n     assert(conf.getConf(confEntry) === Some(\"a\"))\n   }\n \n+  test(\"checkValue()\") {"
  }, {
    "author": {
      "login": "lw-lin"
    },
    "body": "thanks.\r\n\r\n`FILESOURCE_TABLE_RELATION_CACHE_SIZE` now is a static conf, so we can not change it's value in tests, so we might not be able to test `FILESOURCE_TABLE_RELATION_CACHE_SIZE` specifically? If so, should we remove this test or keep it?",
    "commit": "f29c9d77a683c1a63abac92f19210eadcb68682e",
    "createdAt": "2017-02-08T07:16:44Z",
    "diffHunk": "@@ -164,6 +164,18 @@ class SQLConfEntrySuite extends SparkFunSuite {\n     assert(conf.getConf(confEntry) === Some(\"a\"))\n   }\n \n+  test(\"checkValue()\") {"
  }, {
    "author": {
      "login": "cloud-fan"
    },
    "body": "> so we can not change it's value in tests\r\n\r\nwe can, we only forbid changing static conf in public API",
    "commit": "f29c9d77a683c1a63abac92f19210eadcb68682e",
    "createdAt": "2017-02-08T11:04:50Z",
    "diffHunk": "@@ -164,6 +164,18 @@ class SQLConfEntrySuite extends SparkFunSuite {\n     assert(conf.getConf(confEntry) === Some(\"a\"))\n   }\n \n+  test(\"checkValue()\") {"
  }, {
    "author": {
      "login": "lw-lin"
    },
    "body": "ah you're quite correct! let me update this.",
    "commit": "f29c9d77a683c1a63abac92f19210eadcb68682e",
    "createdAt": "2017-02-08T15:22:54Z",
    "diffHunk": "@@ -164,6 +164,18 @@ class SQLConfEntrySuite extends SparkFunSuite {\n     assert(conf.getConf(confEntry) === Some(\"a\"))\n   }\n \n+  test(\"checkValue()\") {"
  }],
  "prId": 16736
}, {
  "comments": [{
    "author": {
      "login": "cloud-fan"
    },
    "body": "please also test `setConfString`, which should check the value",
    "commit": "f29c9d77a683c1a63abac92f19210eadcb68682e",
    "createdAt": "2017-02-09T01:15:54Z",
    "diffHunk": "@@ -171,4 +171,14 @@ class SQLConfEntrySuite extends SparkFunSuite {\n       buildConf(key).stringConf.createOptional\n     }\n   }\n+\n+  test(\"StaticSQLConf.FILESOURCE_TABLE_RELATION_CACHE_SIZE\") {\n+    val confEntry = StaticSQLConf.FILESOURCE_TABLE_RELATION_CACHE_SIZE\n+    assert(conf.getConf(confEntry) === 1000)\n+    conf.setConf(confEntry, -1)"
  }],
  "prId": 16736
}]