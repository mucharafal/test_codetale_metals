[{
  "comments": [{
    "author": {
      "login": "MaxGekk"
    },
    "body": "This is the epoch in UTC (`1970-01-01 00:00:00`) displayed in the local time zone.",
    "commit": "a4fae094e9b20a1030cbda7d5295239400717309",
    "createdAt": "2019-09-09T16:27:27Z",
    "diffHunk": "@@ -11,171 +11,265 @@ struct<>\n \n \n -- !query 1\n-INSERT INTO TIMESTAMP_TBL VALUES ('1997-01-02')\n+INSERT INTO TIMESTAMP_TBL VALUES ('now')\n -- !query 1 schema\n struct<>\n -- !query 1 output\n \n \n \n -- !query 2\n-INSERT INTO TIMESTAMP_TBL VALUES ('1997-01-02 03:04:05')\n+INSERT INTO TIMESTAMP_TBL VALUES ('now')\n -- !query 2 schema\n struct<>\n -- !query 2 output\n \n \n \n -- !query 3\n-INSERT INTO TIMESTAMP_TBL VALUES ('1997-02-10 17:32:01-08')\n+INSERT INTO TIMESTAMP_TBL VALUES ('today')\n -- !query 3 schema\n struct<>\n -- !query 3 output\n \n \n \n -- !query 4\n-INSERT INTO TIMESTAMP_TBL VALUES ('2001-09-22T18:19:20')\n+INSERT INTO TIMESTAMP_TBL VALUES ('yesterday')\n -- !query 4 schema\n struct<>\n -- !query 4 output\n \n \n \n -- !query 5\n-SELECT '' AS `64`, d1 FROM TIMESTAMP_TBL\n+INSERT INTO TIMESTAMP_TBL VALUES ('tomorrow')\n -- !query 5 schema\n-struct<64:string,d1:timestamp>\n+struct<>\n -- !query 5 output\n+\n+\n+\n+-- !query 6\n+INSERT INTO TIMESTAMP_TBL VALUES ('tomorrow EST')\n+-- !query 6 schema\n+struct<>\n+-- !query 6 output\n+\n+\n+\n+-- !query 7\n+SELECT count(*) AS One FROM TIMESTAMP_TBL WHERE d1 = timestamp 'today'\n+-- !query 7 schema\n+struct<One:bigint>\n+-- !query 7 output\n+1\n+\n+\n+-- !query 8\n+SELECT count(*) AS Three FROM TIMESTAMP_TBL WHERE d1 = timestamp 'tomorrow'\n+-- !query 8 schema\n+struct<Three:bigint>\n+-- !query 8 output\n+2\n+\n+\n+-- !query 9\n+SELECT count(*) AS One FROM TIMESTAMP_TBL WHERE d1 = timestamp 'yesterday'\n+-- !query 9 schema\n+struct<One:bigint>\n+-- !query 9 output\n+1\n+\n+\n+-- !query 10\n+TRUNCATE TABLE TIMESTAMP_TBL\n+-- !query 10 schema\n+struct<>\n+-- !query 10 output\n+\n+\n+\n+-- !query 11\n+INSERT INTO TIMESTAMP_TBL VALUES ('epoch')\n+-- !query 11 schema\n+struct<>\n+-- !query 11 output\n+\n+\n+\n+-- !query 12\n+INSERT INTO TIMESTAMP_TBL VALUES ('1997-01-02')\n+-- !query 12 schema\n+struct<>\n+-- !query 12 output\n+\n+\n+\n+-- !query 13\n+INSERT INTO TIMESTAMP_TBL VALUES ('1997-01-02 03:04:05')\n+-- !query 13 schema\n+struct<>\n+-- !query 13 output\n+\n+\n+\n+-- !query 14\n+INSERT INTO TIMESTAMP_TBL VALUES ('1997-02-10 17:32:01-08')\n+-- !query 14 schema\n+struct<>\n+-- !query 14 output\n+\n+\n+\n+-- !query 15\n+INSERT INTO TIMESTAMP_TBL VALUES ('2001-09-22T18:19:20')\n+-- !query 15 schema\n+struct<>\n+-- !query 15 output\n+\n+\n+\n+-- !query 16\n+SELECT '' AS `64`, d1 FROM TIMESTAMP_TBL\n+-- !query 16 schema\n+struct<64:string,d1:timestamp>\n+-- !query 16 output\n+\t1969-12-31 16:00:00",
    "line": 149
  }, {
    "author": {
      "login": "maropu"
    },
    "body": "To print `1970-01-01 00:00:00` here, better to set a config for pgSQL tests in\r\nhttps://github.com/apache/spark/blob/master/sql/core/src/test/scala/org/apache/spark/sql/SQLQueryTestSuite.scala#L301 ?",
    "commit": "a4fae094e9b20a1030cbda7d5295239400717309",
    "createdAt": "2019-09-10T00:44:12Z",
    "diffHunk": "@@ -11,171 +11,265 @@ struct<>\n \n \n -- !query 1\n-INSERT INTO TIMESTAMP_TBL VALUES ('1997-01-02')\n+INSERT INTO TIMESTAMP_TBL VALUES ('now')\n -- !query 1 schema\n struct<>\n -- !query 1 output\n \n \n \n -- !query 2\n-INSERT INTO TIMESTAMP_TBL VALUES ('1997-01-02 03:04:05')\n+INSERT INTO TIMESTAMP_TBL VALUES ('now')\n -- !query 2 schema\n struct<>\n -- !query 2 output\n \n \n \n -- !query 3\n-INSERT INTO TIMESTAMP_TBL VALUES ('1997-02-10 17:32:01-08')\n+INSERT INTO TIMESTAMP_TBL VALUES ('today')\n -- !query 3 schema\n struct<>\n -- !query 3 output\n \n \n \n -- !query 4\n-INSERT INTO TIMESTAMP_TBL VALUES ('2001-09-22T18:19:20')\n+INSERT INTO TIMESTAMP_TBL VALUES ('yesterday')\n -- !query 4 schema\n struct<>\n -- !query 4 output\n \n \n \n -- !query 5\n-SELECT '' AS `64`, d1 FROM TIMESTAMP_TBL\n+INSERT INTO TIMESTAMP_TBL VALUES ('tomorrow')\n -- !query 5 schema\n-struct<64:string,d1:timestamp>\n+struct<>\n -- !query 5 output\n+\n+\n+\n+-- !query 6\n+INSERT INTO TIMESTAMP_TBL VALUES ('tomorrow EST')\n+-- !query 6 schema\n+struct<>\n+-- !query 6 output\n+\n+\n+\n+-- !query 7\n+SELECT count(*) AS One FROM TIMESTAMP_TBL WHERE d1 = timestamp 'today'\n+-- !query 7 schema\n+struct<One:bigint>\n+-- !query 7 output\n+1\n+\n+\n+-- !query 8\n+SELECT count(*) AS Three FROM TIMESTAMP_TBL WHERE d1 = timestamp 'tomorrow'\n+-- !query 8 schema\n+struct<Three:bigint>\n+-- !query 8 output\n+2\n+\n+\n+-- !query 9\n+SELECT count(*) AS One FROM TIMESTAMP_TBL WHERE d1 = timestamp 'yesterday'\n+-- !query 9 schema\n+struct<One:bigint>\n+-- !query 9 output\n+1\n+\n+\n+-- !query 10\n+TRUNCATE TABLE TIMESTAMP_TBL\n+-- !query 10 schema\n+struct<>\n+-- !query 10 output\n+\n+\n+\n+-- !query 11\n+INSERT INTO TIMESTAMP_TBL VALUES ('epoch')\n+-- !query 11 schema\n+struct<>\n+-- !query 11 output\n+\n+\n+\n+-- !query 12\n+INSERT INTO TIMESTAMP_TBL VALUES ('1997-01-02')\n+-- !query 12 schema\n+struct<>\n+-- !query 12 output\n+\n+\n+\n+-- !query 13\n+INSERT INTO TIMESTAMP_TBL VALUES ('1997-01-02 03:04:05')\n+-- !query 13 schema\n+struct<>\n+-- !query 13 output\n+\n+\n+\n+-- !query 14\n+INSERT INTO TIMESTAMP_TBL VALUES ('1997-02-10 17:32:01-08')\n+-- !query 14 schema\n+struct<>\n+-- !query 14 output\n+\n+\n+\n+-- !query 15\n+INSERT INTO TIMESTAMP_TBL VALUES ('2001-09-22T18:19:20')\n+-- !query 15 schema\n+struct<>\n+-- !query 15 output\n+\n+\n+\n+-- !query 16\n+SELECT '' AS `64`, d1 FROM TIMESTAMP_TBL\n+-- !query 16 schema\n+struct<64:string,d1:timestamp>\n+-- !query 16 output\n+\t1969-12-31 16:00:00",
    "line": 149
  }, {
    "author": {
      "login": "MaxGekk"
    },
    "body": "I can set `UTC` globally but ... if we know the reason of this, should we do that?",
    "commit": "a4fae094e9b20a1030cbda7d5295239400717309",
    "createdAt": "2019-09-10T07:38:57Z",
    "diffHunk": "@@ -11,171 +11,265 @@ struct<>\n \n \n -- !query 1\n-INSERT INTO TIMESTAMP_TBL VALUES ('1997-01-02')\n+INSERT INTO TIMESTAMP_TBL VALUES ('now')\n -- !query 1 schema\n struct<>\n -- !query 1 output\n \n \n \n -- !query 2\n-INSERT INTO TIMESTAMP_TBL VALUES ('1997-01-02 03:04:05')\n+INSERT INTO TIMESTAMP_TBL VALUES ('now')\n -- !query 2 schema\n struct<>\n -- !query 2 output\n \n \n \n -- !query 3\n-INSERT INTO TIMESTAMP_TBL VALUES ('1997-02-10 17:32:01-08')\n+INSERT INTO TIMESTAMP_TBL VALUES ('today')\n -- !query 3 schema\n struct<>\n -- !query 3 output\n \n \n \n -- !query 4\n-INSERT INTO TIMESTAMP_TBL VALUES ('2001-09-22T18:19:20')\n+INSERT INTO TIMESTAMP_TBL VALUES ('yesterday')\n -- !query 4 schema\n struct<>\n -- !query 4 output\n \n \n \n -- !query 5\n-SELECT '' AS `64`, d1 FROM TIMESTAMP_TBL\n+INSERT INTO TIMESTAMP_TBL VALUES ('tomorrow')\n -- !query 5 schema\n-struct<64:string,d1:timestamp>\n+struct<>\n -- !query 5 output\n+\n+\n+\n+-- !query 6\n+INSERT INTO TIMESTAMP_TBL VALUES ('tomorrow EST')\n+-- !query 6 schema\n+struct<>\n+-- !query 6 output\n+\n+\n+\n+-- !query 7\n+SELECT count(*) AS One FROM TIMESTAMP_TBL WHERE d1 = timestamp 'today'\n+-- !query 7 schema\n+struct<One:bigint>\n+-- !query 7 output\n+1\n+\n+\n+-- !query 8\n+SELECT count(*) AS Three FROM TIMESTAMP_TBL WHERE d1 = timestamp 'tomorrow'\n+-- !query 8 schema\n+struct<Three:bigint>\n+-- !query 8 output\n+2\n+\n+\n+-- !query 9\n+SELECT count(*) AS One FROM TIMESTAMP_TBL WHERE d1 = timestamp 'yesterday'\n+-- !query 9 schema\n+struct<One:bigint>\n+-- !query 9 output\n+1\n+\n+\n+-- !query 10\n+TRUNCATE TABLE TIMESTAMP_TBL\n+-- !query 10 schema\n+struct<>\n+-- !query 10 output\n+\n+\n+\n+-- !query 11\n+INSERT INTO TIMESTAMP_TBL VALUES ('epoch')\n+-- !query 11 schema\n+struct<>\n+-- !query 11 output\n+\n+\n+\n+-- !query 12\n+INSERT INTO TIMESTAMP_TBL VALUES ('1997-01-02')\n+-- !query 12 schema\n+struct<>\n+-- !query 12 output\n+\n+\n+\n+-- !query 13\n+INSERT INTO TIMESTAMP_TBL VALUES ('1997-01-02 03:04:05')\n+-- !query 13 schema\n+struct<>\n+-- !query 13 output\n+\n+\n+\n+-- !query 14\n+INSERT INTO TIMESTAMP_TBL VALUES ('1997-02-10 17:32:01-08')\n+-- !query 14 schema\n+struct<>\n+-- !query 14 output\n+\n+\n+\n+-- !query 15\n+INSERT INTO TIMESTAMP_TBL VALUES ('2001-09-22T18:19:20')\n+-- !query 15 schema\n+struct<>\n+-- !query 15 output\n+\n+\n+\n+-- !query 16\n+SELECT '' AS `64`, d1 FROM TIMESTAMP_TBL\n+-- !query 16 schema\n+struct<64:string,d1:timestamp>\n+-- !query 16 output\n+\t1969-12-31 16:00:00",
    "line": 149
  }, {
    "author": {
      "login": "MaxGekk"
    },
    "body": "And I am afraid it won't be enough. Need to set system time zone as well: https://github.com/apache/spark/blob/7cc0f0e9a795431a79408644b3473df499118d1e/sql/core/src/test/scala/org/apache/spark/sql/SQLQueryTestSuite.scala#L552-L553",
    "commit": "a4fae094e9b20a1030cbda7d5295239400717309",
    "createdAt": "2019-09-10T07:42:21Z",
    "diffHunk": "@@ -11,171 +11,265 @@ struct<>\n \n \n -- !query 1\n-INSERT INTO TIMESTAMP_TBL VALUES ('1997-01-02')\n+INSERT INTO TIMESTAMP_TBL VALUES ('now')\n -- !query 1 schema\n struct<>\n -- !query 1 output\n \n \n \n -- !query 2\n-INSERT INTO TIMESTAMP_TBL VALUES ('1997-01-02 03:04:05')\n+INSERT INTO TIMESTAMP_TBL VALUES ('now')\n -- !query 2 schema\n struct<>\n -- !query 2 output\n \n \n \n -- !query 3\n-INSERT INTO TIMESTAMP_TBL VALUES ('1997-02-10 17:32:01-08')\n+INSERT INTO TIMESTAMP_TBL VALUES ('today')\n -- !query 3 schema\n struct<>\n -- !query 3 output\n \n \n \n -- !query 4\n-INSERT INTO TIMESTAMP_TBL VALUES ('2001-09-22T18:19:20')\n+INSERT INTO TIMESTAMP_TBL VALUES ('yesterday')\n -- !query 4 schema\n struct<>\n -- !query 4 output\n \n \n \n -- !query 5\n-SELECT '' AS `64`, d1 FROM TIMESTAMP_TBL\n+INSERT INTO TIMESTAMP_TBL VALUES ('tomorrow')\n -- !query 5 schema\n-struct<64:string,d1:timestamp>\n+struct<>\n -- !query 5 output\n+\n+\n+\n+-- !query 6\n+INSERT INTO TIMESTAMP_TBL VALUES ('tomorrow EST')\n+-- !query 6 schema\n+struct<>\n+-- !query 6 output\n+\n+\n+\n+-- !query 7\n+SELECT count(*) AS One FROM TIMESTAMP_TBL WHERE d1 = timestamp 'today'\n+-- !query 7 schema\n+struct<One:bigint>\n+-- !query 7 output\n+1\n+\n+\n+-- !query 8\n+SELECT count(*) AS Three FROM TIMESTAMP_TBL WHERE d1 = timestamp 'tomorrow'\n+-- !query 8 schema\n+struct<Three:bigint>\n+-- !query 8 output\n+2\n+\n+\n+-- !query 9\n+SELECT count(*) AS One FROM TIMESTAMP_TBL WHERE d1 = timestamp 'yesterday'\n+-- !query 9 schema\n+struct<One:bigint>\n+-- !query 9 output\n+1\n+\n+\n+-- !query 10\n+TRUNCATE TABLE TIMESTAMP_TBL\n+-- !query 10 schema\n+struct<>\n+-- !query 10 output\n+\n+\n+\n+-- !query 11\n+INSERT INTO TIMESTAMP_TBL VALUES ('epoch')\n+-- !query 11 schema\n+struct<>\n+-- !query 11 output\n+\n+\n+\n+-- !query 12\n+INSERT INTO TIMESTAMP_TBL VALUES ('1997-01-02')\n+-- !query 12 schema\n+struct<>\n+-- !query 12 output\n+\n+\n+\n+-- !query 13\n+INSERT INTO TIMESTAMP_TBL VALUES ('1997-01-02 03:04:05')\n+-- !query 13 schema\n+struct<>\n+-- !query 13 output\n+\n+\n+\n+-- !query 14\n+INSERT INTO TIMESTAMP_TBL VALUES ('1997-02-10 17:32:01-08')\n+-- !query 14 schema\n+struct<>\n+-- !query 14 output\n+\n+\n+\n+-- !query 15\n+INSERT INTO TIMESTAMP_TBL VALUES ('2001-09-22T18:19:20')\n+-- !query 15 schema\n+struct<>\n+-- !query 15 output\n+\n+\n+\n+-- !query 16\n+SELECT '' AS `64`, d1 FROM TIMESTAMP_TBL\n+-- !query 16 schema\n+struct<64:string,d1:timestamp>\n+-- !query 16 output\n+\t1969-12-31 16:00:00",
    "line": 149
  }, {
    "author": {
      "login": "maropu"
    },
    "body": "NVM. I think its ok as it is. But, better to leave some comments about why in `timestamp.sql`.",
    "commit": "a4fae094e9b20a1030cbda7d5295239400717309",
    "createdAt": "2019-09-10T08:00:54Z",
    "diffHunk": "@@ -11,171 +11,265 @@ struct<>\n \n \n -- !query 1\n-INSERT INTO TIMESTAMP_TBL VALUES ('1997-01-02')\n+INSERT INTO TIMESTAMP_TBL VALUES ('now')\n -- !query 1 schema\n struct<>\n -- !query 1 output\n \n \n \n -- !query 2\n-INSERT INTO TIMESTAMP_TBL VALUES ('1997-01-02 03:04:05')\n+INSERT INTO TIMESTAMP_TBL VALUES ('now')\n -- !query 2 schema\n struct<>\n -- !query 2 output\n \n \n \n -- !query 3\n-INSERT INTO TIMESTAMP_TBL VALUES ('1997-02-10 17:32:01-08')\n+INSERT INTO TIMESTAMP_TBL VALUES ('today')\n -- !query 3 schema\n struct<>\n -- !query 3 output\n \n \n \n -- !query 4\n-INSERT INTO TIMESTAMP_TBL VALUES ('2001-09-22T18:19:20')\n+INSERT INTO TIMESTAMP_TBL VALUES ('yesterday')\n -- !query 4 schema\n struct<>\n -- !query 4 output\n \n \n \n -- !query 5\n-SELECT '' AS `64`, d1 FROM TIMESTAMP_TBL\n+INSERT INTO TIMESTAMP_TBL VALUES ('tomorrow')\n -- !query 5 schema\n-struct<64:string,d1:timestamp>\n+struct<>\n -- !query 5 output\n+\n+\n+\n+-- !query 6\n+INSERT INTO TIMESTAMP_TBL VALUES ('tomorrow EST')\n+-- !query 6 schema\n+struct<>\n+-- !query 6 output\n+\n+\n+\n+-- !query 7\n+SELECT count(*) AS One FROM TIMESTAMP_TBL WHERE d1 = timestamp 'today'\n+-- !query 7 schema\n+struct<One:bigint>\n+-- !query 7 output\n+1\n+\n+\n+-- !query 8\n+SELECT count(*) AS Three FROM TIMESTAMP_TBL WHERE d1 = timestamp 'tomorrow'\n+-- !query 8 schema\n+struct<Three:bigint>\n+-- !query 8 output\n+2\n+\n+\n+-- !query 9\n+SELECT count(*) AS One FROM TIMESTAMP_TBL WHERE d1 = timestamp 'yesterday'\n+-- !query 9 schema\n+struct<One:bigint>\n+-- !query 9 output\n+1\n+\n+\n+-- !query 10\n+TRUNCATE TABLE TIMESTAMP_TBL\n+-- !query 10 schema\n+struct<>\n+-- !query 10 output\n+\n+\n+\n+-- !query 11\n+INSERT INTO TIMESTAMP_TBL VALUES ('epoch')\n+-- !query 11 schema\n+struct<>\n+-- !query 11 output\n+\n+\n+\n+-- !query 12\n+INSERT INTO TIMESTAMP_TBL VALUES ('1997-01-02')\n+-- !query 12 schema\n+struct<>\n+-- !query 12 output\n+\n+\n+\n+-- !query 13\n+INSERT INTO TIMESTAMP_TBL VALUES ('1997-01-02 03:04:05')\n+-- !query 13 schema\n+struct<>\n+-- !query 13 output\n+\n+\n+\n+-- !query 14\n+INSERT INTO TIMESTAMP_TBL VALUES ('1997-02-10 17:32:01-08')\n+-- !query 14 schema\n+struct<>\n+-- !query 14 output\n+\n+\n+\n+-- !query 15\n+INSERT INTO TIMESTAMP_TBL VALUES ('2001-09-22T18:19:20')\n+-- !query 15 schema\n+struct<>\n+-- !query 15 output\n+\n+\n+\n+-- !query 16\n+SELECT '' AS `64`, d1 FROM TIMESTAMP_TBL\n+-- !query 16 schema\n+struct<64:string,d1:timestamp>\n+-- !query 16 output\n+\t1969-12-31 16:00:00",
    "line": 149
  }],
  "prId": 25716
}]