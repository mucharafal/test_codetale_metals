[{
  "comments": [{
    "author": {
      "login": "HyukjinKwon"
    },
    "body": "@imback82, can you check why there's this diff?\r\n\r\n```diff\r\n--- a/sql/core/src/test/resources/sql-tests/results/except-all.sql.out\r\n+++ b/sql/core/src/test/resources/sql-tests/results/udf/udf-except-all.sql.out\r\n@@ -77,7 +77,7 @@ NULL\r\n -- !query 6\r\n SELECT * FROM tab1\r\n EXCEPT ALL\r\n-SELECT * FROM tab2 WHERE c1 IS NOT NULL\r\n+SELECT * FROM tab2 WHERE udf(c1) IS NOT NULL\r\n -- !query 6 schema\r\n struct<c1:int>\r\n -- !query 6 output\r\n@@ -85,11 +85,10 @@ struct<c1:int>\r\n 2\r\n 2\r\n NULL\r\n-NULL\r\n```\r\n\r\nI assume it's because udf convert `null` as a string `null` but it should better to double check and clarify",
    "commit": "2c8cc194fb6552cebe6cd1333cb88374c4a156a8",
    "createdAt": "2019-07-11T00:29:28Z",
    "diffHunk": "@@ -0,0 +1,345 @@\n+-- Automatically generated by SQLQueryTestSuite\n+-- Number of queries: 27\n+\n+\n+-- !query 0\n+CREATE TEMPORARY VIEW tab1 AS SELECT * FROM VALUES\n+    (0), (1), (2), (2), (2), (2), (3), (null), (null) AS tab1(c1)\n+-- !query 0 schema\n+struct<>\n+-- !query 0 output\n+\n+\n+\n+-- !query 1\n+CREATE TEMPORARY VIEW tab2 AS SELECT * FROM VALUES\n+    (1), (2), (2), (3), (5), (5), (null) AS tab2(c1)\n+-- !query 1 schema\n+struct<>\n+-- !query 1 output\n+\n+\n+\n+-- !query 2\n+CREATE TEMPORARY VIEW tab3 AS SELECT * FROM VALUES\n+    (1, 2), \n+    (1, 2),\n+    (1, 3),\n+    (2, 3),\n+    (2, 2)\n+    AS tab3(k, v)\n+-- !query 2 schema\n+struct<>\n+-- !query 2 output\n+\n+\n+\n+-- !query 3\n+CREATE TEMPORARY VIEW tab4 AS SELECT * FROM VALUES\n+    (1, 2), \n+    (2, 3),\n+    (2, 2),\n+    (2, 2),\n+    (2, 20)\n+    AS tab4(k, v)\n+-- !query 3 schema\n+struct<>\n+-- !query 3 output\n+\n+\n+\n+-- !query 4\n+SELECT * FROM tab1\n+EXCEPT ALL\n+SELECT * FROM tab2\n+-- !query 4 schema\n+struct<c1:int>\n+-- !query 4 output\n+0\n+2\n+2\n+NULL\n+\n+\n+-- !query 5\n+SELECT * FROM tab1\n+MINUS ALL\n+SELECT * FROM tab2\n+-- !query 5 schema\n+struct<c1:int>\n+-- !query 5 output\n+0\n+2\n+2\n+NULL\n+\n+\n+-- !query 6\n+SELECT * FROM tab1\n+EXCEPT ALL\n+SELECT * FROM tab2 WHERE udf(c1) IS NOT NULL\n+-- !query 6 schema\n+struct<c1:int>\n+-- !query 6 output\n+0\n+2\n+2\n+NULL",
    "line": 87
  }, {
    "author": {
      "login": "imback82"
    },
    "body": "> I assume it's because udf convert `null` as a string `null`\r\n\r\nYea, that is correct. I will add a comment to this file.",
    "commit": "2c8cc194fb6552cebe6cd1333cb88374c4a156a8",
    "createdAt": "2019-07-11T00:52:52Z",
    "diffHunk": "@@ -0,0 +1,345 @@\n+-- Automatically generated by SQLQueryTestSuite\n+-- Number of queries: 27\n+\n+\n+-- !query 0\n+CREATE TEMPORARY VIEW tab1 AS SELECT * FROM VALUES\n+    (0), (1), (2), (2), (2), (2), (3), (null), (null) AS tab1(c1)\n+-- !query 0 schema\n+struct<>\n+-- !query 0 output\n+\n+\n+\n+-- !query 1\n+CREATE TEMPORARY VIEW tab2 AS SELECT * FROM VALUES\n+    (1), (2), (2), (3), (5), (5), (null) AS tab2(c1)\n+-- !query 1 schema\n+struct<>\n+-- !query 1 output\n+\n+\n+\n+-- !query 2\n+CREATE TEMPORARY VIEW tab3 AS SELECT * FROM VALUES\n+    (1, 2), \n+    (1, 2),\n+    (1, 3),\n+    (2, 3),\n+    (2, 2)\n+    AS tab3(k, v)\n+-- !query 2 schema\n+struct<>\n+-- !query 2 output\n+\n+\n+\n+-- !query 3\n+CREATE TEMPORARY VIEW tab4 AS SELECT * FROM VALUES\n+    (1, 2), \n+    (2, 3),\n+    (2, 2),\n+    (2, 2),\n+    (2, 20)\n+    AS tab4(k, v)\n+-- !query 3 schema\n+struct<>\n+-- !query 3 output\n+\n+\n+\n+-- !query 4\n+SELECT * FROM tab1\n+EXCEPT ALL\n+SELECT * FROM tab2\n+-- !query 4 schema\n+struct<c1:int>\n+-- !query 4 output\n+0\n+2\n+2\n+NULL\n+\n+\n+-- !query 5\n+SELECT * FROM tab1\n+MINUS ALL\n+SELECT * FROM tab2\n+-- !query 5 schema\n+struct<c1:int>\n+-- !query 5 output\n+0\n+2\n+2\n+NULL\n+\n+\n+-- !query 6\n+SELECT * FROM tab1\n+EXCEPT ALL\n+SELECT * FROM tab2 WHERE udf(c1) IS NOT NULL\n+-- !query 6 schema\n+struct<c1:int>\n+-- !query 6 output\n+0\n+2\n+2\n+NULL",
    "line": 87
  }, {
    "author": {
      "login": "imback82"
    },
    "body": "Reverted the comment since now it returns the correct result with your changes :)",
    "commit": "2c8cc194fb6552cebe6cd1333cb88374c4a156a8",
    "createdAt": "2019-07-18T04:36:32Z",
    "diffHunk": "@@ -0,0 +1,345 @@\n+-- Automatically generated by SQLQueryTestSuite\n+-- Number of queries: 27\n+\n+\n+-- !query 0\n+CREATE TEMPORARY VIEW tab1 AS SELECT * FROM VALUES\n+    (0), (1), (2), (2), (2), (2), (3), (null), (null) AS tab1(c1)\n+-- !query 0 schema\n+struct<>\n+-- !query 0 output\n+\n+\n+\n+-- !query 1\n+CREATE TEMPORARY VIEW tab2 AS SELECT * FROM VALUES\n+    (1), (2), (2), (3), (5), (5), (null) AS tab2(c1)\n+-- !query 1 schema\n+struct<>\n+-- !query 1 output\n+\n+\n+\n+-- !query 2\n+CREATE TEMPORARY VIEW tab3 AS SELECT * FROM VALUES\n+    (1, 2), \n+    (1, 2),\n+    (1, 3),\n+    (2, 3),\n+    (2, 2)\n+    AS tab3(k, v)\n+-- !query 2 schema\n+struct<>\n+-- !query 2 output\n+\n+\n+\n+-- !query 3\n+CREATE TEMPORARY VIEW tab4 AS SELECT * FROM VALUES\n+    (1, 2), \n+    (2, 3),\n+    (2, 2),\n+    (2, 2),\n+    (2, 20)\n+    AS tab4(k, v)\n+-- !query 3 schema\n+struct<>\n+-- !query 3 output\n+\n+\n+\n+-- !query 4\n+SELECT * FROM tab1\n+EXCEPT ALL\n+SELECT * FROM tab2\n+-- !query 4 schema\n+struct<c1:int>\n+-- !query 4 output\n+0\n+2\n+2\n+NULL\n+\n+\n+-- !query 5\n+SELECT * FROM tab1\n+MINUS ALL\n+SELECT * FROM tab2\n+-- !query 5 schema\n+struct<c1:int>\n+-- !query 5 output\n+0\n+2\n+2\n+NULL\n+\n+\n+-- !query 6\n+SELECT * FROM tab1\n+EXCEPT ALL\n+SELECT * FROM tab2 WHERE udf(c1) IS NOT NULL\n+-- !query 6 schema\n+struct<c1:int>\n+-- !query 6 output\n+0\n+2\n+2\n+NULL",
    "line": 87
  }],
  "prId": 25090
}]