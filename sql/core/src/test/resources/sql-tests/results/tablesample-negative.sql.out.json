[{
  "comments": [{
    "author": {
      "login": "cloud-fan"
    },
    "body": "this message looks weird, seems the parser doesn't accept `-1` inside TABLESAMPLE. Maybe we should change the parser and throw exception inside `Sample`",
    "commit": "c5119fecc05e71d4983c8f6e1f8ae520076811e2",
    "createdAt": "2017-06-22T07:13:58Z",
    "diffHunk": "@@ -0,0 +1,62 @@\n+-- Automatically generated by SQLQueryTestSuite\n+-- Number of queries: 6\n+\n+\n+-- !query 0\n+CREATE DATABASE mydb1\n+-- !query 0 schema\n+struct<>\n+-- !query 0 output\n+\n+\n+\n+-- !query 1\n+USE mydb1\n+-- !query 1 schema\n+struct<>\n+-- !query 1 output\n+\n+\n+\n+-- !query 2\n+CREATE TABLE t1 USING parquet AS SELECT 1 AS i1\n+-- !query 2 schema\n+struct<>\n+-- !query 2 output\n+\n+\n+\n+-- !query 3\n+SELECT mydb1.t1 FROM t1 TABLESAMPLE (-1 PERCENT)\n+-- !query 3 schema\n+struct<>\n+-- !query 3 output\n+org.apache.spark.sql.catalyst.parser.ParseException\n+\n+mismatched input 'FROM' expecting {<EOF>, 'WHERE', 'GROUP', 'ORDER', 'HAVING', 'LIMIT', 'LATERAL', 'WINDOW', 'UNION', 'EXCEPT', 'MINUS', 'INTERSECT', 'SORT', 'CLUSTER', 'DISTRIBUTE'}(line 1, pos 16)"
  }, {
    "author": {
      "login": "hvanhovell"
    },
    "body": "Yeah changing this in SqlBase.g4 seems to make sense.",
    "commit": "c5119fecc05e71d4983c8f6e1f8ae520076811e2",
    "createdAt": "2017-06-22T13:29:40Z",
    "diffHunk": "@@ -0,0 +1,62 @@\n+-- Automatically generated by SQLQueryTestSuite\n+-- Number of queries: 6\n+\n+\n+-- !query 0\n+CREATE DATABASE mydb1\n+-- !query 0 schema\n+struct<>\n+-- !query 0 output\n+\n+\n+\n+-- !query 1\n+USE mydb1\n+-- !query 1 schema\n+struct<>\n+-- !query 1 output\n+\n+\n+\n+-- !query 2\n+CREATE TABLE t1 USING parquet AS SELECT 1 AS i1\n+-- !query 2 schema\n+struct<>\n+-- !query 2 output\n+\n+\n+\n+-- !query 3\n+SELECT mydb1.t1 FROM t1 TABLESAMPLE (-1 PERCENT)\n+-- !query 3 schema\n+struct<>\n+-- !query 3 output\n+org.apache.spark.sql.catalyst.parser.ParseException\n+\n+mismatched input 'FROM' expecting {<EOF>, 'WHERE', 'GROUP', 'ORDER', 'HAVING', 'LIMIT', 'LATERAL', 'WINDOW', 'UNION', 'EXCEPT', 'MINUS', 'INTERSECT', 'SORT', 'CLUSTER', 'DISTRIBUTE'}(line 1, pos 16)"
  }, {
    "author": {
      "login": "gengliangwang"
    },
    "body": "I have changed SqlBase.g4, please check the latest code change",
    "commit": "c5119fecc05e71d4983c8f6e1f8ae520076811e2",
    "createdAt": "2017-06-22T21:51:24Z",
    "diffHunk": "@@ -0,0 +1,62 @@\n+-- Automatically generated by SQLQueryTestSuite\n+-- Number of queries: 6\n+\n+\n+-- !query 0\n+CREATE DATABASE mydb1\n+-- !query 0 schema\n+struct<>\n+-- !query 0 output\n+\n+\n+\n+-- !query 1\n+USE mydb1\n+-- !query 1 schema\n+struct<>\n+-- !query 1 output\n+\n+\n+\n+-- !query 2\n+CREATE TABLE t1 USING parquet AS SELECT 1 AS i1\n+-- !query 2 schema\n+struct<>\n+-- !query 2 output\n+\n+\n+\n+-- !query 3\n+SELECT mydb1.t1 FROM t1 TABLESAMPLE (-1 PERCENT)\n+-- !query 3 schema\n+struct<>\n+-- !query 3 output\n+org.apache.spark.sql.catalyst.parser.ParseException\n+\n+mismatched input 'FROM' expecting {<EOF>, 'WHERE', 'GROUP', 'ORDER', 'HAVING', 'LIMIT', 'LATERAL', 'WINDOW', 'UNION', 'EXCEPT', 'MINUS', 'INTERSECT', 'SORT', 'CLUSTER', 'DISTRIBUTE'}(line 1, pos 16)"
  }],
  "prId": 18387
}]