[{
  "comments": [{
    "author": {
      "login": "maropu"
    },
    "body": "Ur, I see. This test should be passed (see: https://github.com/postgres/postgres/blob/43753c2cfbdd9870e68671abcc9dd377881071b0/src/test/regress/expected/create_view.out#L229) because views can depend on temp tables in pgSQL. So, can you replace `CREATE TEMP VIEW tmptbl` with `CREATE TABLE tmptbl`:\r\nhttps://github.com/apache/spark/blob/be022d9aeeb6b39f7b51427d848600e15a100c30/sql/core/src/test/resources/sql-tests/inputs/postgreSQL/create_view.sql#L252",
    "commit": "24f15f4972606241e8cc4494462586202405f3ce",
    "createdAt": "2019-11-02T22:50:39Z",
    "diffHunk": "@@ -887,35 +890,17 @@ AND NOT EXISTS (SELECT g FROM tbl4 LEFT JOIN tmptbl ON tbl4.h = tmptbl.j)\n -- !query 78 schema\n struct<>\n -- !query 78 output\n-\n+org.apache.spark.sql.AnalysisException\n+Not allowed to create a permanent view `mytempview` by referencing a temporary view `tmptbl`;"
  }, {
    "author": {
      "login": "imback82"
    },
    "body": "@maropu I couldn't just change it to `CREATE TABLE` since it complains about `Hive support is required to CREATE Hive TABLE (AS SELECT);`. So, I created a file based table and introduced `INSERT INTO`. This required me to regenerate the golden file, and the diff is not as pretty but it's just adding 1 to the subsequent queries. Please let me know if this approach is OK with you. Thanks!",
    "commit": "24f15f4972606241e8cc4494462586202405f3ce",
    "createdAt": "2019-11-04T04:35:34Z",
    "diffHunk": "@@ -887,35 +890,17 @@ AND NOT EXISTS (SELECT g FROM tbl4 LEFT JOIN tmptbl ON tbl4.h = tmptbl.j)\n -- !query 78 schema\n struct<>\n -- !query 78 output\n-\n+org.apache.spark.sql.AnalysisException\n+Not allowed to create a permanent view `mytempview` by referencing a temporary view `tmptbl`;"
  }, {
    "author": {
      "login": "maropu"
    },
    "body": "Yea, I meant a data source table. That's ok.",
    "commit": "24f15f4972606241e8cc4494462586202405f3ce",
    "createdAt": "2019-11-04T07:06:32Z",
    "diffHunk": "@@ -887,35 +890,17 @@ AND NOT EXISTS (SELECT g FROM tbl4 LEFT JOIN tmptbl ON tbl4.h = tmptbl.j)\n -- !query 78 schema\n struct<>\n -- !query 78 output\n-\n+org.apache.spark.sql.AnalysisException\n+Not allowed to create a permanent view `mytempview` by referencing a temporary view `tmptbl`;"
  }],
  "prId": 26361
}]