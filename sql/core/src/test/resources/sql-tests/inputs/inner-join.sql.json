[{
  "comments": [{
    "author": {
      "login": "rxin"
    },
    "body": "i don't think you need these drop views, since TEMPORARY VIEW are destroyed immediately after this file.\r\n",
    "commit": "df11cc4d43a587f83fd5650c9129dbd67fb5d3d0",
    "createdAt": "2017-02-28T16:56:15Z",
    "diffHunk": "@@ -0,0 +1,25 @@\n+CREATE TEMPORARY VIEW t1 AS SELECT * FROM VALUES (1) AS GROUPING(a);\n+CREATE TEMPORARY VIEW t2 AS SELECT * FROM VALUES (1) AS GROUPING(a);\n+CREATE TEMPORARY VIEW t3 AS SELECT * FROM VALUES (1), (1) AS GROUPING(a);\n+CREATE TEMPORARY VIEW t4 AS SELECT * FROM VALUES (1), (1) AS GROUPING(a);\n+\n+CREATE TEMPORARY VIEW ta AS\n+SELECT a, 'a' AS tag FROM t1\n+UNION ALL\n+SELECT a, 'b' AS tag FROM t2;\n+\n+CREATE TEMPORARY VIEW tb AS\n+SELECT a, 'a' AS tag FROM t3\n+UNION ALL\n+SELECT a, 'b' AS tag FROM t4;\n+\n+-- SPARK-19766 Constant alias columns in INNER JOIN should not be folded by FoldablePropagation rule\n+SELECT tb.* FROM ta INNER JOIN tb ON ta.a = tb.a AND ta.tag = tb.tag;\n+\n+-- Clean up\n+DROP VIEW IF EXISTS t1;"
  }],
  "prId": 17099
}]