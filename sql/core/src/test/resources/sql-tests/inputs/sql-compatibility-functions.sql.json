[{
  "comments": [{
    "author": {
      "login": "gatorsmile"
    },
    "body": "You can simplify the test case to something like\r\n```SQL\r\nCREATE TEMPORARY VIEW tempView1 AS VALUES (1, NAMED_STRUCT('col1', 'gamma', 'col2', 'delta')) AS T(id, st)\")\r\nSELECT nvl(st.col1, \"value\"), count(*) FROM from tempView1 GROUP BY nvl(st.col1, \"value\")\r\n\r\n```",
    "commit": "82d54ed769e75d2a8b74b8fb87d49904e3d405d9",
    "createdAt": "2017-07-29T07:45:05Z",
    "diffHunk": "@@ -23,3 +23,9 @@ SELECT float(1), double(1), decimal(1);\n SELECT date(\"2014-04-04\"), timestamp(date(\"2014-04-04\"));\n -- error handling: only one argument\n SELECT string(1, 2);\n+\n+-- SPARK-21555: RuntimeReplaceable used in group by\n+CREATE TABLE test(a INT, foo STRUCT<foo1:STRING,foo2:STRING>) USING parquet;\n+INSERT INTO test VALUES(1, (\"value1\", \"value2\"));\n+SELECT nvl(foo.foo1, \"value\"), count(*) FROM test GROUP BY nvl(foo.foo1, \"value\");\n+DROP TABLE test;"
  }],
  "prId": 18761
}]