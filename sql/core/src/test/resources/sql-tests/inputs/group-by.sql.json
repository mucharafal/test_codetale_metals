[{
  "comments": [{
    "author": {
      "login": "JoshRosen"
    },
    "body": "This test case would have passed before because it contains aggregate expressions. The test case on the next line is the one which actually failed because column pruning eliminates the aggregate expression, leaving us with an Aggregate with no aggregate expressions.",
    "commit": "fe8fe9a79f6a0228a08298c60942d6becfe20338",
    "createdAt": "2017-05-10T00:59:26Z",
    "diffHunk": "@@ -53,3 +53,13 @@ set spark.sql.groupByAliases=false;\n \n -- Check analysis exceptions\n SELECT a AS k, COUNT(b) FROM testData GROUP BY k;\n+\n+-- turn on group by aliases (for remaining tests)\n+set spark.sql.groupByAliases=true;\n+\n+-- Aggregate with empty input and non-empty GroupBy expressions.\n+SELECT a, COUNT(1) FROM testData WHERE false GROUP BY a;\n+\n+-- Aggregate with empty input and empty GroupBy expressions.\n+SELECT COUNT(1) FROM testData WHERE false;",
    "line": 9
  }],
  "prId": 17929
}, {
  "comments": [{
    "author": {
      "login": "JoshRosen"
    },
    "body": "This is undoing the opposite change on line 52; I added this here instead of adding my tests above because I wanted to minimize the diff / renumbering of existing test cases.",
    "commit": "fe8fe9a79f6a0228a08298c60942d6becfe20338",
    "createdAt": "2017-05-10T01:00:08Z",
    "diffHunk": "@@ -53,3 +53,13 @@ set spark.sql.groupByAliases=false;\n \n -- Check analysis exceptions\n SELECT a AS k, COUNT(b) FROM testData GROUP BY k;\n+\n+-- turn on group by aliases (for remaining tests)\n+set spark.sql.groupByAliases=true;"
  }, {
    "author": {
      "login": "cloud-fan"
    },
    "body": "why do we need to turn on `groupByAliases`? seems following tests don't use this feature",
    "commit": "fe8fe9a79f6a0228a08298c60942d6becfe20338",
    "createdAt": "2017-05-10T01:17:14Z",
    "diffHunk": "@@ -53,3 +53,13 @@ set spark.sql.groupByAliases=false;\n \n -- Check analysis exceptions\n SELECT a AS k, COUNT(b) FROM testData GROUP BY k;\n+\n+-- turn on group by aliases (for remaining tests)\n+set spark.sql.groupByAliases=true;"
  }, {
    "author": {
      "login": "JoshRosen"
    },
    "body": "Yeah, that's fair: the test cases below shouldn't be affected. Let me remove to shrink diff.",
    "commit": "fe8fe9a79f6a0228a08298c60942d6becfe20338",
    "createdAt": "2017-05-10T01:34:36Z",
    "diffHunk": "@@ -53,3 +53,13 @@ set spark.sql.groupByAliases=false;\n \n -- Check analysis exceptions\n SELECT a AS k, COUNT(b) FROM testData GROUP BY k;\n+\n+-- turn on group by aliases (for remaining tests)\n+set spark.sql.groupByAliases=true;"
  }],
  "prId": 17929
}]