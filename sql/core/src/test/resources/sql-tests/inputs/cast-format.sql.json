[{
  "comments": [{
    "author": {
      "login": "MaxGekk"
    },
    "body": "I don't think we need to test `TimestampFormatter` on different patterns here. Instead it is better to test corner cases like:\r\n```\r\nCAST(... AS TIMESTAMP FORMAT '')\r\nCAST(... AS TIMESTAMP FORMAT)\r\n...\r\n```",
    "commit": "ddbf8b284c4167fc693e79e0f5d14b52d42be41a",
    "createdAt": "2019-05-30T15:58:02Z",
    "diffHunk": "@@ -0,0 +1,53 @@\n+CREATE TEMPORARY VIEW strings(s1, s2, s3, s4, s5, s6, s7) AS VALUES (\n+  null,\n+  '2019',\n+  '2019 05',\n+  '2019 05 28',\n+  '2019 05 28 17 03 53',\n+  '2019 05 28 17 03 53 123',\n+  '2019 05 28 17 03 53 123456'\n+);\n+\n+SELECT\n+    CAST(s1 AS DATE FORMAT 'yyyy'),\n+    CAST(s2 AS DATE FORMAT 'yyyy'),\n+    CAST(s3 AS DATE FORMAT 'yyyy MM'),\n+    CAST(s4 AS DATE FORMAT 'yyyy MM dd'),\n+    CAST(s2 AS DATE FORMAT 'invalid')\n+FROM strings;\n+\n+SELECT\n+    CAST(s1 AS TIMESTAMP FORMAT 'yyyy'),\n+    CAST(s2 AS TIMESTAMP FORMAT 'yyyy'),\n+    CAST(s3 AS TIMESTAMP FORMAT 'yyyy MM'),\n+    CAST(s4 AS TIMESTAMP FORMAT 'yyyy MM dd'),\n+    CAST(s5 AS TIMESTAMP FORMAT 'yyyy MM dd HH mm ss'),\n+    CAST(s6 AS TIMESTAMP FORMAT 'yyyy MM dd HH mm ss SSS'),\n+    CAST(s7 AS TIMESTAMP FORMAT 'yyyy MM dd HH mm ss SSSSSS'),"
  }, {
    "author": {
      "login": "peter-toth"
    },
    "body": "Thanks, I've changed it a bit, now covers the above cases.",
    "commit": "ddbf8b284c4167fc693e79e0f5d14b52d42be41a",
    "createdAt": "2019-05-31T14:50:29Z",
    "diffHunk": "@@ -0,0 +1,53 @@\n+CREATE TEMPORARY VIEW strings(s1, s2, s3, s4, s5, s6, s7) AS VALUES (\n+  null,\n+  '2019',\n+  '2019 05',\n+  '2019 05 28',\n+  '2019 05 28 17 03 53',\n+  '2019 05 28 17 03 53 123',\n+  '2019 05 28 17 03 53 123456'\n+);\n+\n+SELECT\n+    CAST(s1 AS DATE FORMAT 'yyyy'),\n+    CAST(s2 AS DATE FORMAT 'yyyy'),\n+    CAST(s3 AS DATE FORMAT 'yyyy MM'),\n+    CAST(s4 AS DATE FORMAT 'yyyy MM dd'),\n+    CAST(s2 AS DATE FORMAT 'invalid')\n+FROM strings;\n+\n+SELECT\n+    CAST(s1 AS TIMESTAMP FORMAT 'yyyy'),\n+    CAST(s2 AS TIMESTAMP FORMAT 'yyyy'),\n+    CAST(s3 AS TIMESTAMP FORMAT 'yyyy MM'),\n+    CAST(s4 AS TIMESTAMP FORMAT 'yyyy MM dd'),\n+    CAST(s5 AS TIMESTAMP FORMAT 'yyyy MM dd HH mm ss'),\n+    CAST(s6 AS TIMESTAMP FORMAT 'yyyy MM dd HH mm ss SSS'),\n+    CAST(s7 AS TIMESTAMP FORMAT 'yyyy MM dd HH mm ss SSSSSS'),"
  }],
  "prId": 24742
}]