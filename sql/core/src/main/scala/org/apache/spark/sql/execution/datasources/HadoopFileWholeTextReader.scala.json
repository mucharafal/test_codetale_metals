[{
  "comments": [{
    "author": {
      "login": "rxin"
    },
    "body": "put this in the proper package?\n",
    "commit": "021039bd1382392282faaec1e1f5c0d39e650a93",
    "createdAt": "2016-07-12T17:16:29Z",
    "diffHunk": "@@ -0,0 +1,53 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.spark.sql.execution.datasources\n+\n+import java.net.URI\n+\n+import org.apache.hadoop.conf.Configuration\n+import org.apache.hadoop.fs.Path\n+import org.apache.hadoop.io.Text\n+import org.apache.hadoop.mapreduce._\n+import org.apache.hadoop.mapreduce.lib.input.CombineFileSplit\n+import org.apache.hadoop.mapreduce.task.TaskAttemptContextImpl\n+\n+import org.apache.spark.input.WholeTextFileRecordReader\n+\n+/**\n+ * An adaptor from a [[PartitionedFile]] to an [[Iterator]] of [[Text]], which is all of the lines\n+ * in that file.\n+ */\n+class HadoopFileWholeTextReader(file: PartitionedFile, conf: Configuration) extends Iterator[Text] {"
  }, {
    "author": {
      "login": "ScrapCodes"
    },
    "body": "This is currently in the same package as `HadoopFileLineReader` ? i.e. `datasources`. Should I move both of them to the package `datasource.text` ?\n",
    "commit": "021039bd1382392282faaec1e1f5c0d39e650a93",
    "createdAt": "2016-07-13T05:00:12Z",
    "diffHunk": "@@ -0,0 +1,53 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.spark.sql.execution.datasources\n+\n+import java.net.URI\n+\n+import org.apache.hadoop.conf.Configuration\n+import org.apache.hadoop.fs.Path\n+import org.apache.hadoop.io.Text\n+import org.apache.hadoop.mapreduce._\n+import org.apache.hadoop.mapreduce.lib.input.CombineFileSplit\n+import org.apache.hadoop.mapreduce.task.TaskAttemptContextImpl\n+\n+import org.apache.spark.input.WholeTextFileRecordReader\n+\n+/**\n+ * An adaptor from a [[PartitionedFile]] to an [[Iterator]] of [[Text]], which is all of the lines\n+ * in that file.\n+ */\n+class HadoopFileWholeTextReader(file: PartitionedFile, conf: Configuration) extends Iterator[Text] {"
  }, {
    "author": {
      "login": "ScrapCodes"
    },
    "body": "Looks like they might get used in multiple other formats too, what do you intend by proper package is unclear to me.\n",
    "commit": "021039bd1382392282faaec1e1f5c0d39e650a93",
    "createdAt": "2016-07-13T05:03:24Z",
    "diffHunk": "@@ -0,0 +1,53 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.spark.sql.execution.datasources\n+\n+import java.net.URI\n+\n+import org.apache.hadoop.conf.Configuration\n+import org.apache.hadoop.fs.Path\n+import org.apache.hadoop.io.Text\n+import org.apache.hadoop.mapreduce._\n+import org.apache.hadoop.mapreduce.lib.input.CombineFileSplit\n+import org.apache.hadoop.mapreduce.task.TaskAttemptContextImpl\n+\n+import org.apache.spark.input.WholeTextFileRecordReader\n+\n+/**\n+ * An adaptor from a [[PartitionedFile]] to an [[Iterator]] of [[Text]], which is all of the lines\n+ * in that file.\n+ */\n+class HadoopFileWholeTextReader(file: PartitionedFile, conf: Configuration) extends Iterator[Text] {"
  }],
  "prId": 14151
}, {
  "comments": [{
    "author": {
      "login": "viirya"
    },
    "body": "I'd like to remind that a `PartitionedFile` can be just a part of a input file, instead of a whole file. So you cannot guarantee that in this case the reader reads all content of a file.",
    "commit": "021039bd1382392282faaec1e1f5c0d39e650a93",
    "createdAt": "2017-07-31T03:15:14Z",
    "diffHunk": "@@ -0,0 +1,57 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.spark.sql.execution.datasources\n+\n+import java.io.Closeable\n+import java.net.URI\n+\n+import org.apache.hadoop.conf.Configuration\n+import org.apache.hadoop.fs.Path\n+import org.apache.hadoop.io.Text\n+import org.apache.hadoop.mapreduce._\n+import org.apache.hadoop.mapreduce.lib.input.CombineFileSplit\n+import org.apache.hadoop.mapreduce.task.TaskAttemptContextImpl\n+\n+import org.apache.spark.input.WholeTextFileRecordReader\n+\n+/**\n+ * An adaptor from a [[PartitionedFile]] to an [[Iterator]] of [[Text]], which is all of the lines\n+ * in that file.\n+ */\n+class HadoopFileWholeTextReader(file: PartitionedFile, conf: Configuration)",
    "line": 36
  }, {
    "author": {
      "login": "viirya"
    },
    "body": "We may want to override `isSplitable` of `TextFileFormat` and return false when `wholetext` option is enabled.",
    "commit": "021039bd1382392282faaec1e1f5c0d39e650a93",
    "createdAt": "2017-07-31T03:34:35Z",
    "diffHunk": "@@ -0,0 +1,57 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.spark.sql.execution.datasources\n+\n+import java.io.Closeable\n+import java.net.URI\n+\n+import org.apache.hadoop.conf.Configuration\n+import org.apache.hadoop.fs.Path\n+import org.apache.hadoop.io.Text\n+import org.apache.hadoop.mapreduce._\n+import org.apache.hadoop.mapreduce.lib.input.CombineFileSplit\n+import org.apache.hadoop.mapreduce.task.TaskAttemptContextImpl\n+\n+import org.apache.spark.input.WholeTextFileRecordReader\n+\n+/**\n+ * An adaptor from a [[PartitionedFile]] to an [[Iterator]] of [[Text]], which is all of the lines\n+ * in that file.\n+ */\n+class HadoopFileWholeTextReader(file: PartitionedFile, conf: Configuration)",
    "line": 36
  }, {
    "author": {
      "login": "ScrapCodes"
    },
    "body": "Thank you, for catching this.",
    "commit": "021039bd1382392282faaec1e1f5c0d39e650a93",
    "createdAt": "2017-08-03T09:56:43Z",
    "diffHunk": "@@ -0,0 +1,57 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.spark.sql.execution.datasources\n+\n+import java.io.Closeable\n+import java.net.URI\n+\n+import org.apache.hadoop.conf.Configuration\n+import org.apache.hadoop.fs.Path\n+import org.apache.hadoop.io.Text\n+import org.apache.hadoop.mapreduce._\n+import org.apache.hadoop.mapreduce.lib.input.CombineFileSplit\n+import org.apache.hadoop.mapreduce.task.TaskAttemptContextImpl\n+\n+import org.apache.spark.input.WholeTextFileRecordReader\n+\n+/**\n+ * An adaptor from a [[PartitionedFile]] to an [[Iterator]] of [[Text]], which is all of the lines\n+ * in that file.\n+ */\n+class HadoopFileWholeTextReader(file: PartitionedFile, conf: Configuration)",
    "line": 36
  }],
  "prId": 14151
}]