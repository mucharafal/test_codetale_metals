[{
  "comments": [{
    "author": {
      "login": "cloud-fan"
    },
    "body": "not all metric has its corresponding statistics (e.g. `peakMemory`), and not all statistics are long type. We should think of a better place to carry the statistics.",
    "commit": "aae3653e4dab751ae5bff7e3ef26ac63d4f4cc4f",
    "createdAt": "2019-05-29T08:31:47Z",
    "diffHunk": "@@ -27,4 +27,5 @@ import org.apache.spark.annotation.DeveloperApi\n class SQLMetricInfo(\n     val name: String,\n     val accumulatorId: Long,\n-    val metricType: String)\n+    val metricType: String,\n+    val stats: Long = -1)",
    "line": 6
  }, {
    "author": {
      "login": "cloud-fan"
    },
    "body": "or we can put a `val stats: Option[Statistics] = None`",
    "commit": "aae3653e4dab751ae5bff7e3ef26ac63d4f4cc4f",
    "createdAt": "2019-05-29T08:41:08Z",
    "diffHunk": "@@ -27,4 +27,5 @@ import org.apache.spark.annotation.DeveloperApi\n class SQLMetricInfo(\n     val name: String,\n     val accumulatorId: Long,\n-    val metricType: String)\n+    val metricType: String,\n+    val stats: Long = -1)",
    "line": 6
  }, {
    "author": {
      "login": "pengbo"
    },
    "body": "@cloud-fan Thanks for your comments.\r\n\r\nThe idea is that each SQL metric can have a statistic value (-1 means not available/initialized). I set the statistic type to Long is because SQL Metric's value is always Long type as well. `class SQLMetric(val metricType: String, initValue: Long = 0L)`\r\n\r\nPut Option[Statistics] in SQLMetricInfo doesn't sound quite right though. It means that all SQL metrics have an attribute including rowCount, size & column stats.\r\n\r\nLet me know your feedback, thanks in advance.",
    "commit": "aae3653e4dab751ae5bff7e3ef26ac63d4f4cc4f",
    "createdAt": "2019-06-02T12:51:53Z",
    "diffHunk": "@@ -27,4 +27,5 @@ import org.apache.spark.annotation.DeveloperApi\n class SQLMetricInfo(\n     val name: String,\n     val accumulatorId: Long,\n-    val metricType: String)\n+    val metricType: String,\n+    val stats: Long = -1)",
    "line": 6
  }],
  "prId": 24666
}]