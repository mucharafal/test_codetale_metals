[{
  "comments": [{
    "author": {
      "login": "marmbrus"
    },
    "body": "This indentation is off.  See https://cwiki.apache.org/confluence/display/SPARK/Spark+Code+Style+Guide\n\nShould be 4 spaces.\n",
    "commit": "68952b65c65aebfe6bc5a41a80518b8fc2288c8b",
    "createdAt": "2016-02-15T23:41:05Z",
    "diffHunk": "@@ -32,14 +32,18 @@ private object PostgresDialect extends JdbcDialect {\n     if (sqlType == Types.BIT && typeName.equals(\"bit\") && size != 1) {\n       Some(BinaryType)\n     } else if (sqlType == Types.OTHER) {\n-      toCatalystType(typeName).filter(_ == StringType)\n-    } else if (sqlType == Types.ARRAY && typeName.length > 1 && typeName(0) == '_') {\n-      toCatalystType(typeName.drop(1)).map(ArrayType(_))\n+      Some(StringType)\n+    } else if (sqlType == Types.ARRAY) {\n+      val scale = md.build.getLong(\"scale\").toInt\n+      // postgres array type names start with underscore\n+      toCatalystType(typeName.drop(1), size, scale).map(ArrayType(_))\n     } else None\n   }\n \n   // TODO: support more type names.\n-  private def toCatalystType(typeName: String): Option[DataType] = typeName match {\n+  private def toCatalystType(typeName: String,"
  }],
  "prId": 10928
}]