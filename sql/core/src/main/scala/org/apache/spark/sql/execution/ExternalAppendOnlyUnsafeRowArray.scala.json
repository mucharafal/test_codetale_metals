[{
  "comments": [{
    "author": {
      "login": "cloud-fan"
    },
    "body": "typo? this should be `numRowsInMemoryBufferThreshold`. We may spill before reaching `numRowsSpillThreshold` if memory is not enough.",
    "commit": "ab5cd2e7afebe79531b1caa684af14b75d044ea5",
    "createdAt": "2017-08-09T10:29:03Z",
    "diffHunk": "@@ -31,16 +31,16 @@ import org.apache.spark.storage.BlockManager\n import org.apache.spark.util.collection.unsafe.sort.{UnsafeExternalSorter, UnsafeSorterIterator}\n \n /**\n- * An append-only array for [[UnsafeRow]]s that spills content to disk when there a predefined\n- * threshold of rows is reached.\n+ * An append-only array for [[UnsafeRow]]s that strictly keeps content in an in-memory array\n+ * until [[numRowsInMemoryBufferThreshold]] is reached post which it will switch to a mode which\n+ * would flush to disk after [[numRowsSpillThreshold]] is met (or before if there is\n+ * excessive memory consumption). Setting these threshold involves following trade-offs:\n  *\n- * Setting spill threshold faces following trade-off:\n- *\n- * - If the spill threshold is too high, the in-memory array may occupy more memory than is\n- *   available, resulting in OOM.\n- * - If the spill threshold is too low, we spill frequently and incur unnecessary disk writes.\n- *   This may lead to a performance regression compared to the normal case of using an\n- *   [[ArrayBuffer]] or [[Array]].\n+ * - If [[numRowsSpillThreshold]] is too high, the in-memory array may occupy more memory than"
  }, {
    "author": {
      "login": "tejasapatil"
    },
    "body": "Yes it was a typo. Corrected it",
    "commit": "ab5cd2e7afebe79531b1caa684af14b75d044ea5",
    "createdAt": "2017-08-10T19:15:34Z",
    "diffHunk": "@@ -31,16 +31,16 @@ import org.apache.spark.storage.BlockManager\n import org.apache.spark.util.collection.unsafe.sort.{UnsafeExternalSorter, UnsafeSorterIterator}\n \n /**\n- * An append-only array for [[UnsafeRow]]s that spills content to disk when there a predefined\n- * threshold of rows is reached.\n+ * An append-only array for [[UnsafeRow]]s that strictly keeps content in an in-memory array\n+ * until [[numRowsInMemoryBufferThreshold]] is reached post which it will switch to a mode which\n+ * would flush to disk after [[numRowsSpillThreshold]] is met (or before if there is\n+ * excessive memory consumption). Setting these threshold involves following trade-offs:\n  *\n- * Setting spill threshold faces following trade-off:\n- *\n- * - If the spill threshold is too high, the in-memory array may occupy more memory than is\n- *   available, resulting in OOM.\n- * - If the spill threshold is too low, we spill frequently and incur unnecessary disk writes.\n- *   This may lead to a performance regression compared to the normal case of using an\n- *   [[ArrayBuffer]] or [[Array]].\n+ * - If [[numRowsSpillThreshold]] is too high, the in-memory array may occupy more memory than"
  }],
  "prId": 18843
}]