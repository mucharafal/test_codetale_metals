[{
  "comments": [{
    "author": {
      "login": "rxin"
    },
    "body": "is this expensive?\n",
    "commit": "444382ea3a54b1b7f8066b155a2da64cc03775af",
    "createdAt": "2015-06-18T07:01:14Z",
    "diffHunk": "@@ -143,14 +143,15 @@ private[sql] case class InsertIntoHadoopFsRelation(\n       try {\n         writerContainer.executorSideSetup(taskContext)\n \n-        val converter = if (needsConversion) {\n-          CatalystTypeConverters.createToScalaConverter(dataSchema).asInstanceOf[InternalRow => Row]\n-        } else {\n-          r: InternalRow => r.asInstanceOf[Row]\n-        }\n+        val converter = CatalystTypeConverters.createToScalaConverter(dataSchema)\n+          .asInstanceOf[InternalRow => Row]\n         while (iterator.hasNext) {\n-          val row = converter(iterator.next())\n-          writerContainer.outputWriterForRow(row).write(row)\n+          val row = iterator.next()\n+          val converted = converter(row)\n+          writerContainer.outputWriterForRow(converted) match {",
    "line": 52
  }],
  "prId": 6869
}]