[{
  "comments": [{
    "author": {
      "login": "marmbrus"
    },
    "body": "Nit: why are the margins aligned with the indentation?  I think that results in an unindented string.\n",
    "commit": "30708c864b656f04d046a1d3be4e9751960a1cb7",
    "createdAt": "2014-04-24T01:12:13Z",
    "diffHunk": "@@ -68,14 +93,119 @@ object ParquetTestData {\n \n   lazy val testData = new ParquetRelation(testDir.toURI.toString)\n \n+  val testNestedSchema1 =\n+    // based on blogpost example, source:\n+    // https://blog.twitter.com/2013/dremel-made-simple-with-parquet\n+    // note: instead of string we have to use binary (?) otherwise\n+    // Parquet gives us:\n+    // IllegalArgumentException: expected one of [INT64, INT32, BOOLEAN,\n+    //   BINARY, FLOAT, DOUBLE, INT96, FIXED_LEN_BYTE_ARRAY]\n+    // Also repeated primitives seem tricky to convert (AvroParquet\n+    // only uses them in arrays?) so only use at most one in each group\n+    // and nothing else in that group (-> is mapped to array)!\n+    // The \"values\" inside ownerPhoneNumbers is a keyword currently\n+    // so that array types can be translated correctly.\n+    \"\"\"\n+      |message AddressBook {\n+        |required binary owner;\n+        |optional group ownerPhoneNumbers {\n+          |repeated binary array;\n+        |}\n+        |optional group contacts {\n+          |repeated group array {\n+            |required binary name;\n+            |optional binary phoneNumber;\n+          |}\n+        |}\n+      |}\n+    \"\"\".stripMargin\n+\n+\n+  val testNestedSchema2 =\n+    \"\"\"\n+      |message TestNested2 {\n+        |required int32 firstInt;\n+        |optional int32 secondInt;\n+        |optional group longs {\n+          |repeated int64 array;\n+        |}\n+        |required group entries {\n+          |repeated group array {\n+            |required double value;\n+            |optional boolean truth;\n+          |}\n+        |}\n+        |optional group outerouter {\n+          |repeated group array {\n+            |repeated group array {\n+              |repeated int32 array;\n+            |}\n+          |}\n+        |}\n+      |}\n+    \"\"\".stripMargin\n+\n+  val testNestedSchema3 =\n+    \"\"\"\n+      |message TestNested3 {\n+        |required int32 x;\n+        |optional group booleanNumberPairs {\n+          |repeated group array {\n+            |required int32 key;\n+            |optional group value {\n+              |repeated group array {\n+                |required double nestedValue;\n+                |optional boolean truth;\n+              |}\n+            |}\n+          |}\n+        |}\n+      |}\n+    \"\"\".stripMargin\n+\n+  val testNestedSchema4 =\n+    \"\"\"\n+      |message TestNested4 {"
  }],
  "prId": 360
}]