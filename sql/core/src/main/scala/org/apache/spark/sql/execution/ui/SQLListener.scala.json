[{
  "comments": [{
    "author": {
      "login": "vanzin"
    },
    "body": "synchronized",
    "commit": "3ecce56f084e7e08f0c98d82192a1cd313fef65f",
    "createdAt": "2017-11-09T23:35:38Z",
    "diffHunk": "@@ -207,6 +210,14 @@ class SQLListener(conf: SparkConf) extends SparkListener with Logging {\n     }\n   }\n \n+  override def onStageCompleted(stageCompleted: SparkListenerStageCompleted): Unit = {"
  }],
  "prId": 19711
}, {
  "comments": [{
    "author": {
      "login": "jerryshao"
    },
    "body": "Maybe we can use Java's `LinkedHashMap` and override `removeEldestEntry` to what we want.",
    "commit": "3ecce56f084e7e08f0c98d82192a1cd313fef65f",
    "createdAt": "2017-11-10T08:01:39Z",
    "diffHunk": "@@ -113,7 +116,7 @@ class SQLListener(conf: SparkConf) extends SparkListener with Logging {\n    */\n   private val _jobIdToExecutionId = mutable.HashMap[Long, Long]()\n \n-  private val _stageIdToStageMetrics = mutable.HashMap[Long, SQLStageMetrics]()\n+  private val _stageIdToStageMetrics = mutable.LinkedHashMap[Long, SQLStageMetrics]()",
    "line": 15
  }, {
    "author": {
      "login": "vanzin"
    },
    "body": "`removeEldestEntry` is a protected method.",
    "commit": "3ecce56f084e7e08f0c98d82192a1cd313fef65f",
    "createdAt": "2017-11-13T21:49:46Z",
    "diffHunk": "@@ -113,7 +116,7 @@ class SQLListener(conf: SparkConf) extends SparkListener with Logging {\n    */\n   private val _jobIdToExecutionId = mutable.HashMap[Long, Long]()\n \n-  private val _stageIdToStageMetrics = mutable.HashMap[Long, SQLStageMetrics]()\n+  private val _stageIdToStageMetrics = mutable.LinkedHashMap[Long, SQLStageMetrics]()",
    "line": 15
  }, {
    "author": {
      "login": "jerryshao"
    },
    "body": "Java's `LinkedHashMap` can be overridden with a custom implementation of `removeEldestEntry`, that will save the codes done below. It is not the user who call this `removeEldestEntry`...",
    "commit": "3ecce56f084e7e08f0c98d82192a1cd313fef65f",
    "createdAt": "2017-11-14T01:06:04Z",
    "diffHunk": "@@ -113,7 +116,7 @@ class SQLListener(conf: SparkConf) extends SparkListener with Logging {\n    */\n   private val _jobIdToExecutionId = mutable.HashMap[Long, Long]()\n \n-  private val _stageIdToStageMetrics = mutable.HashMap[Long, SQLStageMetrics]()\n+  private val _stageIdToStageMetrics = mutable.LinkedHashMap[Long, SQLStageMetrics]()",
    "line": 15
  }],
  "prId": 19711
}]