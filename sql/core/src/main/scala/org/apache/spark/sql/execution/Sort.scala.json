[{
  "comments": [{
    "author": {
      "login": "davies"
    },
    "body": "Do we need the copy here? I think the sorter will copy it by itself.\n",
    "commit": "6f0ae353a648f6b060b318726d550181bc40b4e2",
    "createdAt": "2016-03-09T16:15:43Z",
    "diffHunk": "@@ -153,18 +155,22 @@ case class Sort(\n      \"\"\".stripMargin.trim\n   }\n \n-  override def doConsume(ctx: CodegenContext, input: Seq[ExprCode]): String = {\n-    val colExprs = child.output.zipWithIndex.map { case (attr, i) =>\n-      BoundReference(i, attr.dataType, attr.nullable)\n-    }\n+  override def doConsume(ctx: CodegenContext, input: Seq[ExprCode], row: String): String = {\n+    if (row != null) {\n+      s\"$sorterVariable.insertRow((UnsafeRow)$row.copy());\""
  }, {
    "author": {
      "login": "viirya"
    },
    "body": "Yes. I checked it. Will remove this copy call.\n",
    "commit": "6f0ae353a648f6b060b318726d550181bc40b4e2",
    "createdAt": "2016-03-10T02:56:36Z",
    "diffHunk": "@@ -153,18 +155,22 @@ case class Sort(\n      \"\"\".stripMargin.trim\n   }\n \n-  override def doConsume(ctx: CodegenContext, input: Seq[ExprCode]): String = {\n-    val colExprs = child.output.zipWithIndex.map { case (attr, i) =>\n-      BoundReference(i, attr.dataType, attr.nullable)\n-    }\n+  override def doConsume(ctx: CodegenContext, input: Seq[ExprCode], row: String): String = {\n+    if (row != null) {\n+      s\"$sorterVariable.insertRow((UnsafeRow)$row.copy());\""
  }],
  "prId": 11484
}]