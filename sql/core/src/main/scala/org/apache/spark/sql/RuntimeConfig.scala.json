[{
  "comments": [{
    "author": {
      "login": "vanzin"
    },
    "body": "Spark",
    "commit": "dd49ea3223d114012ddef40dd3c28a35b9a04018",
    "createdAt": "2018-11-15T19:56:11Z",
    "diffHunk": "@@ -154,5 +154,9 @@ class RuntimeConfig private[sql](sqlConf: SQLConf = new SQLConf) {\n     if (SQLConf.staticConfKeys.contains(key)) {\n       throw new AnalysisException(s\"Cannot modify the value of a static config: $key\")\n     }\n+    if (sqlConf.setCommandRejectsSparkConfs &&\n+        ConfigEntry.findEntry(key) != null && !SQLConf.sqlConfEntries.containsKey(key)) {\n+      throw new AnalysisException(s\"Cannot modify the value of a spark config: $key\")"
  }],
  "prId": 23031
}, {
  "comments": [{
    "author": {
      "login": "vanzin"
    },
    "body": "Actually, thinking of it, isn't `ConfigEntry.findEntry(key) != null` redundant with the other check?\r\n\r\nRemoving that would also want by other settings that don't have constants defined.",
    "commit": "dd49ea3223d114012ddef40dd3c28a35b9a04018",
    "createdAt": "2018-11-16T19:01:12Z",
    "diffHunk": "@@ -154,5 +154,9 @@ class RuntimeConfig private[sql](sqlConf: SQLConf = new SQLConf) {\n     if (SQLConf.staticConfKeys.contains(key)) {\n       throw new AnalysisException(s\"Cannot modify the value of a static config: $key\")\n     }\n+    if (sqlConf.setCommandRejectsSparkConfs &&\n+        ConfigEntry.findEntry(key) != null && !SQLConf.sqlConfEntries.containsKey(key)) {",
    "line": 5
  }, {
    "author": {
      "login": "ueshin"
    },
    "body": "I'm sorry for the delay.\r\nAs per the comment https://github.com/apache/spark/pull/22887#issuecomment-442425557, I'd leave it as is for now.",
    "commit": "dd49ea3223d114012ddef40dd3c28a35b9a04018",
    "createdAt": "2018-11-28T12:56:22Z",
    "diffHunk": "@@ -154,5 +154,9 @@ class RuntimeConfig private[sql](sqlConf: SQLConf = new SQLConf) {\n     if (SQLConf.staticConfKeys.contains(key)) {\n       throw new AnalysisException(s\"Cannot modify the value of a static config: $key\")\n     }\n+    if (sqlConf.setCommandRejectsSparkConfs &&\n+        ConfigEntry.findEntry(key) != null && !SQLConf.sqlConfEntries.containsKey(key)) {",
    "line": 5
  }, {
    "author": {
      "login": "cloud-fan"
    },
    "body": "we should only reject configs that are registered as SparkConf. Thinking about configs that are neither a SparkConf or SQLConf, we shouldn't reject it.",
    "commit": "dd49ea3223d114012ddef40dd3c28a35b9a04018",
    "createdAt": "2018-11-28T13:05:13Z",
    "diffHunk": "@@ -154,5 +154,9 @@ class RuntimeConfig private[sql](sqlConf: SQLConf = new SQLConf) {\n     if (SQLConf.staticConfKeys.contains(key)) {\n       throw new AnalysisException(s\"Cannot modify the value of a static config: $key\")\n     }\n+    if (sqlConf.setCommandRejectsSparkConfs &&\n+        ConfigEntry.findEntry(key) != null && !SQLConf.sqlConfEntries.containsKey(key)) {",
    "line": 5
  }],
  "prId": 23031
}]