[{
  "comments": [{
    "author": {
      "login": "tdas"
    },
    "body": "I dont like the fact that -1 is used as value for non-existence, especially since this value is present deep inside the EpochTracker. Might as well use Options to return None. Then the use of -1 will be contained within the EpochTracker class. ",
    "commit": "41577c35a7c59ffcf48225fbc30b0dc3c8cab674",
    "createdAt": "2018-05-07T03:44:33Z",
    "diffHunk": "@@ -71,8 +72,15 @@ class StateStoreRDD[T: ClassTag, U: ClassTag](\n       StateStoreId(checkpointLocation, operatorId, partition.index),\n       queryRunId)\n \n+    // If we're in continuous processing mode, we should get the store version for the current\n+    // epoch rather than the one at planning time.\n+    val currentVersion = EpochTracker.getCurrentEpoch match {\n+      case -1 => storeVersion"
  }],
  "prId": 21239
}]