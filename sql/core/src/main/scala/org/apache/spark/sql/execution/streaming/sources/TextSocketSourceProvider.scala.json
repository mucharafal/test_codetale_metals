[{
  "comments": [{
    "author": {
      "login": "cloud-fan"
    },
    "body": "this is a small fix. The [test](https://github.com/apache/spark/pull/23619/files#diff-fa0715a30e2a82ca2c4297024e9441d8L298) needs to specify the `numPartitions`, but the socket source always use the spark default parallelism. Here I make `numPartitions` configurable.",
    "commit": "9d2ee51c68fc1b6fd780138e4146cb9c5c7c46bc",
    "createdAt": "2019-01-23T03:03:56Z",
    "diffHunk": "@@ -58,22 +57,16 @@ class TextSocketSourceProvider extends DataSourceV2\n     new TextSocketTable(\n       options.get(\"host\").get,\n       options.getInt(\"port\", -1),\n+      options.getInt(\"numPartitions\", SparkSession.active.sparkContext.defaultParallelism),",
    "line": 24
  }],
  "prId": 23619
}]