[{
  "comments": [{
    "author": {
      "login": "marmbrus"
    },
    "body": "Nit: Space after `while`",
    "commit": "8e3d7051673f30863a938e8b06299b8aec227886",
    "createdAt": "2016-11-29T19:28:59Z",
    "diffHunk": "@@ -129,48 +129,18 @@ class HDFSMetadataLog[T <: AnyRef : ClassTag](sparkSession: SparkSession, path:\n     }\n   }\n \n-  /**\n-   * Write a batch to a temp file then rename it to the batch file.\n-   *\n-   * There may be multiple [[HDFSMetadataLog]] using the same metadata path. Although it is not a\n-   * valid behavior, we still need to prevent it from destroying the files.\n-   */\n-  private def writeBatch(batchId: Long, metadata: T, writer: (T, OutputStream) => Unit): Unit = {\n-    // Use nextId to create a temp file\n+  def writeTempBatch(metadata: T, writer: (T, OutputStream) => Unit = serialize): Option[Path] = {\n     var nextId = 0\n-    while (true) {\n+    while(true) {",
    "line": 24
  }],
  "prId": 15924
}]