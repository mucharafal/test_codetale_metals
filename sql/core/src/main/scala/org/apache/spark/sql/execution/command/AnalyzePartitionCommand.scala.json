[{
  "comments": [{
    "author": {
      "login": "cloud-fan"
    },
    "body": "do we need to change the read path? i.e. where we use these statistics.",
    "commit": "0470c2d881d329655e74296f10b29c3d36778471",
    "createdAt": "2018-08-13T02:40:24Z",
    "diffHunk": "@@ -140,7 +140,13 @@ case class AnalyzePartitionCommand(\n     val df = tableDf.filter(Column(filter)).groupBy(partitionColumns: _*).count()\n \n     df.collect().map { r =>\n-      val partitionColumnValues = partitionColumns.indices.map(r.get(_).toString)\n+      val partitionColumnValues = partitionColumns.indices.map { i =>\n+        if (r.isNullAt(i)) {\n+          ExternalCatalogUtils.DEFAULT_PARTITION_NAME",
    "line": 16
  }, {
    "author": {
      "login": "mgaido91"
    },
    "body": "I don't think so, as the same situation would happen if Hive's statistics are used instead of the ones computed by Spark ",
    "commit": "0470c2d881d329655e74296f10b29c3d36778471",
    "createdAt": "2018-08-13T09:02:26Z",
    "diffHunk": "@@ -140,7 +140,13 @@ case class AnalyzePartitionCommand(\n     val df = tableDf.filter(Column(filter)).groupBy(partitionColumns: _*).count()\n \n     df.collect().map { r =>\n-      val partitionColumnValues = partitionColumns.indices.map(r.get(_).toString)\n+      val partitionColumnValues = partitionColumns.indices.map { i =>\n+        if (r.isNullAt(i)) {\n+          ExternalCatalogUtils.DEFAULT_PARTITION_NAME",
    "line": 16
  }],
  "prId": 22036
}]