[{
  "comments": [{
    "author": {
      "login": "attilapiros"
    },
    "body": "Nit: There is an overloaded version of [listfiles](https://docs.oracle.com/javase/8/docs/api/java/io/File.html#listFiles-java.io.FilenameFilter-).\r\nUsing it saves 1 line.",
    "commit": "93e87f5f138a758dec8ba5f2d3f888da9a04fb67",
    "createdAt": "2018-03-01T19:29:56Z",
    "diffHunk": "@@ -665,6 +667,25 @@ public void close() throws HiveSQLException {\n     }\n   }\n \n+  private void cleanupPipeoutFile() {\n+    String lScratchDir = hiveConf.getVar(ConfVars.LOCALSCRATCHDIR);\n+    String sessionID = hiveConf.getVar(ConfVars.HIVESESSIONID);\n+\n+    File[] fileAry = new File(lScratchDir).listFiles(",
    "line": 17
  }, {
    "author": {
      "login": "zuotingbing"
    },
    "body": "Sorry i did not find the overloaded version of listfiles which saves 1 line. ",
    "commit": "93e87f5f138a758dec8ba5f2d3f888da9a04fb67",
    "createdAt": "2018-03-02T02:03:59Z",
    "diffHunk": "@@ -665,6 +667,25 @@ public void close() throws HiveSQLException {\n     }\n   }\n \n+  private void cleanupPipeoutFile() {\n+    String lScratchDir = hiveConf.getVar(ConfVars.LOCALSCRATCHDIR);\n+    String sessionID = hiveConf.getVar(ConfVars.HIVESESSIONID);\n+\n+    File[] fileAry = new File(lScratchDir).listFiles(",
    "line": 17
  }, {
    "author": {
      "login": "attilapiros"
    },
    "body": "No problem. I hope this works.\r\n\r\n```\r\nFile[] fileAry = new File(lScratchDir).listFiles(\r\n      (dir, name) -> name.startsWith(sessionID) && name.endsWith(\".pipeout\"));\r\n```\r\n\r\nI think it would be good if you would have one unit test for your change.",
    "commit": "93e87f5f138a758dec8ba5f2d3f888da9a04fb67",
    "createdAt": "2018-03-03T02:52:56Z",
    "diffHunk": "@@ -665,6 +667,25 @@ public void close() throws HiveSQLException {\n     }\n   }\n \n+  private void cleanupPipeoutFile() {\n+    String lScratchDir = hiveConf.getVar(ConfVars.LOCALSCRATCHDIR);\n+    String sessionID = hiveConf.getVar(ConfVars.HIVESESSIONID);\n+\n+    File[] fileAry = new File(lScratchDir).listFiles(",
    "line": 17
  }, {
    "author": {
      "login": "zuotingbing"
    },
    "body": "@attilapiros  will fix it, thanks!",
    "commit": "93e87f5f138a758dec8ba5f2d3f888da9a04fb67",
    "createdAt": "2018-03-05T12:05:25Z",
    "diffHunk": "@@ -665,6 +667,25 @@ public void close() throws HiveSQLException {\n     }\n   }\n \n+  private void cleanupPipeoutFile() {\n+    String lScratchDir = hiveConf.getVar(ConfVars.LOCALSCRATCHDIR);\n+    String sessionID = hiveConf.getVar(ConfVars.HIVESESSIONID);\n+\n+    File[] fileAry = new File(lScratchDir).listFiles(",
    "line": 17
  }],
  "prId": 20702
}]