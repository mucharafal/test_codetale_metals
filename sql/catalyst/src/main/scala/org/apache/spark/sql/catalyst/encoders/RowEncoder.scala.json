[{
  "comments": [{
    "author": {
      "login": "cloud-fan"
    },
    "body": "We can follow the style in https://github.com/apache/spark/blob/master/sql/catalyst/src/main/scala/org/apache/spark/sql/catalyst/ScalaReflection.scala#L527:\n\n```\nval nonNullOutput = CreateNamedStruct(fields.zipWithIndex.flatMap { case (field, index) =>\n...\n}\n```\n",
    "commit": "cc8acea16779d4751ea7f54279f66fb74a1e6bad",
    "createdAt": "2016-05-20T05:29:38Z",
    "diffHunk": "@@ -149,12 +149,12 @@ object RowEncoder {\n         dataType = t)\n \n     case StructType(fields) =>\n-      val convertedFields = fields.zipWithIndex.map { case (f, i) =>\n+      val convertedFields = fields.zipWithIndex.flatMap { case (f, i) =>"
  }],
  "prId": 13090
}]