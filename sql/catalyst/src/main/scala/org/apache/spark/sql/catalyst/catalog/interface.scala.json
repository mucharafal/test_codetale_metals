[{
  "comments": [{
    "author": {
      "login": "gatorsmile"
    },
    "body": "If we are designing the interface like this, we might need to refactor it again in the near future. Stats could be collected from Spark, imported from Hive, set by external users, or even from the data source API v2 (in the future). ",
    "commit": "221d0525c989f1d9a92d3d9e58c7667bec8db182",
    "createdAt": "2017-06-09T06:42:15Z",
    "diffHunk": "@@ -349,29 +349,38 @@ object CatalogTable {\n \n /**\n  * This class of statistics is used in [[CatalogTable]] to interact with metastore.\n+ * We prefer Spark statistics over Hive statistics if they both exist.\n  * We define this new class instead of directly using [[Statistics]] here because there are no\n- * concepts of attributes or broadcast hint in catalog.\n+ * concepts of attributes or hints in catalog.\n  */\n case class CatalogStatistics(\n-    sizeInBytes: BigInt,\n-    rowCount: Option[BigInt] = None,\n-    colStats: Map[String, ColumnStat] = Map.empty) {\n+    sparkStats: Option[ExternalStatistics] = None,\n+    hiveStats: Option[ExternalStatistics] = None) {"
  }, {
    "author": {
      "login": "wzhfy"
    },
    "body": "If we have another source of stats, we can just add a field, and then decide which one to use. That is, we collect different sources of stats in `CatalogStatistics`, and unify them when convert to plan's `Statistics`.",
    "commit": "221d0525c989f1d9a92d3d9e58c7667bec8db182",
    "createdAt": "2017-06-09T16:13:06Z",
    "diffHunk": "@@ -349,29 +349,38 @@ object CatalogTable {\n \n /**\n  * This class of statistics is used in [[CatalogTable]] to interact with metastore.\n+ * We prefer Spark statistics over Hive statistics if they both exist.\n  * We define this new class instead of directly using [[Statistics]] here because there are no\n- * concepts of attributes or broadcast hint in catalog.\n+ * concepts of attributes or hints in catalog.\n  */\n case class CatalogStatistics(\n-    sizeInBytes: BigInt,\n-    rowCount: Option[BigInt] = None,\n-    colStats: Map[String, ColumnStat] = Map.empty) {\n+    sparkStats: Option[ExternalStatistics] = None,\n+    hiveStats: Option[ExternalStatistics] = None) {"
  }],
  "prId": 18248
}]