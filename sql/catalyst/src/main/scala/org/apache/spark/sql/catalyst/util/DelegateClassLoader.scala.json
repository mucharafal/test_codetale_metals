[{
  "comments": [{
    "author": {
      "login": "kiszk"
    },
    "body": "What do you mean \"the current class loader\"? Application class loader? System class loader? Other class loaders?",
    "commit": "ed89b875fa7d868061337edf9cadb35d63a88d14",
    "createdAt": "2017-05-19T13:27:08Z",
    "diffHunk": "@@ -0,0 +1,37 @@\n+package org.apache.spark.sql.catalyst.util\n+/*\n+ * See : https://issues.apache.org/jira/browse/SPARK-17922. \n+ * Janino compiler internally creates a byteclassloader (http://grepcode.com/file/repo1.maven.org/maven2/org.codehaus.janino/janino/2.5.15/org/codehaus/janino/ByteArrayClassLoader.java#ByteArrayClassLoader)\n+ * to load the compiled generated class. But this class loader doesnot override load class to load the class from byte array for the generated class.\n+ * Instead the call first goes to parent class loader and if somehow the classloader finds the old generatedClass( all the generated class names are same)\n+ * it will incorrectly load the old generated class. This class loader will be used to intercept delegation to parent if the class has to be loaded by the current byte class loader.\n+ * This will be set as the parent class loader for janino compiler in CodeGenerator.doCompile\n+ * Special classloader to skip delegating to parent class loader when the class name is same as the generated class name.\n+ * Because that class should be loaded by the current class loader ",
    "line": 10
  }, {
    "author": {
      "login": "kdhuria1"
    },
    "body": "By current class loader here ,we mean the byteclassloader used by Janino compiler. ",
    "commit": "ed89b875fa7d868061337edf9cadb35d63a88d14",
    "createdAt": "2017-05-30T19:28:41Z",
    "diffHunk": "@@ -0,0 +1,37 @@\n+package org.apache.spark.sql.catalyst.util\n+/*\n+ * See : https://issues.apache.org/jira/browse/SPARK-17922. \n+ * Janino compiler internally creates a byteclassloader (http://grepcode.com/file/repo1.maven.org/maven2/org.codehaus.janino/janino/2.5.15/org/codehaus/janino/ByteArrayClassLoader.java#ByteArrayClassLoader)\n+ * to load the compiled generated class. But this class loader doesnot override load class to load the class from byte array for the generated class.\n+ * Instead the call first goes to parent class loader and if somehow the classloader finds the old generatedClass( all the generated class names are same)\n+ * it will incorrectly load the old generated class. This class loader will be used to intercept delegation to parent if the class has to be loaded by the current byte class loader.\n+ * This will be set as the parent class loader for janino compiler in CodeGenerator.doCompile\n+ * Special classloader to skip delegating to parent class loader when the class name is same as the generated class name.\n+ * Because that class should be loaded by the current class loader ",
    "line": 10
  }],
  "prId": 15591
}]