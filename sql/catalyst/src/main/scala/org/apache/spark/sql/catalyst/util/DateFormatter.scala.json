[{
  "comments": [{
    "author": {
      "login": "MaxGekk"
    },
    "body": "We have the helper function to convert LocalDate to epoch day: https://github.com/apache/spark/blob/a529be2930b1d69015f1ac8f85e590f197cf53cf/sql/catalyst/src/main/scala/org/apache/spark/sql/catalyst/util/DateTimeUtils.scala#L362 . Please, move `Math.toIntExact` there",
    "commit": "f026348c09fc257af647b201f3a03eeba350b418",
    "createdAt": "2019-04-09T20:42:02Z",
    "diffHunk": "@@ -34,15 +33,12 @@ class Iso8601DateFormatter(\n   private lazy val formatter = getOrCreateFormatter(pattern, locale)\n \n   override def parse(s: String): Int = {\n-    val parsed = formatter.parse(s)\n-    val zonedDateTime = toZonedDateTime(parsed, ZoneOffset.UTC)\n-    val seconds = zonedDateTime.toEpochSecond\n-    SECONDS.toDays(seconds).toInt\n+    val localDate = LocalDate.parse(s, formatter)\n+    Math.toIntExact(localDate.toEpochDay)"
  }],
  "prId": 24325
}]