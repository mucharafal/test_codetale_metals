[{
  "comments": [{
    "author": {
      "login": "gengliangwang"
    },
    "body": "`expectedRulesOrBatches`",
    "commit": "59b45d12e5c9662e15a626be803635413d8c18dd",
    "createdAt": "2019-03-19T14:37:07Z",
    "diffHunk": "@@ -62,7 +65,7 @@ class OptimizerLoggingSuite extends PlanTest {\n     }\n   }\n \n-  private def verifyLog(expectedLevel: Level, expectedRules: Seq[String]): Unit = {\n+  private def verifyLog(expectedLevel: Level, expectedRulesorBatches: Seq[String]): Unit = {"
  }],
  "prId": 24136
}, {
  "comments": [{
    "author": {
      "login": "maryannxue"
    },
    "body": "nit: \"does not changes\" -> \"do not change\"",
    "commit": "59b45d12e5c9662e15a626be803635413d8c18dd",
    "createdAt": "2019-03-20T20:31:11Z",
    "diffHunk": "@@ -145,4 +149,20 @@ class OptimizerLoggingSuite extends PlanTest {\n       }\n     }\n   }\n+\n+  test(\"test log batches which changes the plan\") {\n+    withSQLConf(\n+      SQLConf.OPTIMIZER_PLAN_CHANGE_LOG_BATCHES.key -> \"Optimizer Batch\",\n+      SQLConf.OPTIMIZER_PLAN_CHANGE_LOG_LEVEL.key -> \"INFO\") {\n+      verifyLog(Level.INFO, Seq(\"Optimizer Batch\"))\n+    }\n+  }\n+\n+  test(\"test log batches which does not changes the plan\") {"
  }],
  "prId": 24136
}, {
  "comments": [{
    "author": {
      "login": "maryannxue"
    },
    "body": "nit: \"changes\" -> \"change\"",
    "commit": "59b45d12e5c9662e15a626be803635413d8c18dd",
    "createdAt": "2019-03-20T20:32:42Z",
    "diffHunk": "@@ -145,4 +149,20 @@ class OptimizerLoggingSuite extends PlanTest {\n       }\n     }\n   }\n+\n+  test(\"test log batches which changes the plan\") {\n+    withSQLConf(\n+      SQLConf.OPTIMIZER_PLAN_CHANGE_LOG_BATCHES.key -> \"Optimizer Batch\",",
    "line": 63
  }],
  "prId": 24136
}, {
  "comments": [{
    "author": {
      "login": "HyukjinKwon"
    },
    "body": "Can you keep the indentation consistent like\r\n\r\n```scala\r\nSeq(\r\n  Batch(...,\r\n    ...\r\n  Batch(...\r\n```",
    "commit": "59b45d12e5c9662e15a626be803635413d8c18dd",
    "createdAt": "2019-03-25T12:03:42Z",
    "diffHunk": "@@ -35,14 +35,17 @@ class OptimizerLoggingSuite extends PlanTest {\n     val batches = Batch(\"Optimizer Batch\", FixedPoint(100),\n       PushDownPredicate,\n       ColumnPruning,\n-      CollapseProject) :: Nil\n+      CollapseProject) :: Batch(\"BatchHasNoEffect\", Once,\n+      ColumnPruning) :: Nil"
  }],
  "prId": 24136
}, {
  "comments": [{
    "author": {
      "login": "HyukjinKwon"
    },
    "body": "Looks like we better add some spaces in the batch's name.",
    "commit": "59b45d12e5c9662e15a626be803635413d8c18dd",
    "createdAt": "2019-03-25T12:04:25Z",
    "diffHunk": "@@ -35,14 +35,17 @@ class OptimizerLoggingSuite extends PlanTest {\n     val batches = Batch(\"Optimizer Batch\", FixedPoint(100),\n       PushDownPredicate,\n       ColumnPruning,\n-      CollapseProject) :: Nil\n+      CollapseProject) :: Batch(\"BatchHasNoEffect\", Once,"
  }],
  "prId": 24136
}]