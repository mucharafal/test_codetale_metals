[{
  "comments": [{
    "author": {
      "login": "srowen"
    },
    "body": "You may need to double-check me, but this is just evaluating the result of a call that generates a random number in [0,1) then right? then this test was bogus to begin with. The only thing we should assert is that it is in [0,1). \r\n\r\nThe only argument I can see is that we want to assert that the result doesn't change given the seed. I don't think we guarantee that though. But if that were true we should assert the exact value with no spread.",
    "commit": "5774ad69d4129474d210429e3884d468e5cb47f1",
    "createdAt": "2019-02-09T15:58:25Z",
    "diffHunk": "@@ -25,17 +25,17 @@ import org.apache.spark.sql.types.{IntegerType, LongType}\n class RandomSuite extends SparkFunSuite with ExpressionEvalHelper {\n \n   test(\"random\") {\n-    checkDoubleEvaluation(Rand(30), 0.31429268272540556 +- 0.001)\n-    checkDoubleEvaluation(Randn(30), -0.4798519469521663 +- 0.001)\n+    checkDoubleEvaluation(Rand(30), 0.2762195585886885 +- 0.001)"
  }, {
    "author": {
      "login": "MaxGekk"
    },
    "body": "I will assert exact values.",
    "commit": "5774ad69d4129474d210429e3884d468e5cb47f1",
    "createdAt": "2019-03-18T14:31:07Z",
    "diffHunk": "@@ -25,17 +25,17 @@ import org.apache.spark.sql.types.{IntegerType, LongType}\n class RandomSuite extends SparkFunSuite with ExpressionEvalHelper {\n \n   test(\"random\") {\n-    checkDoubleEvaluation(Rand(30), 0.31429268272540556 +- 0.001)\n-    checkDoubleEvaluation(Randn(30), -0.4798519469521663 +- 0.001)\n+    checkDoubleEvaluation(Rand(30), 0.2762195585886885 +- 0.001)"
  }],
  "prId": 20793
}, {
  "comments": [{
    "author": {
      "login": "srowen"
    },
    "body": "Likewise this test didn't make sense. We can assert maybe that the random number is within 3 standard deviations, as that is very likely to be true, in which case this should be `0.0 +- 3.0`. Same below.",
    "commit": "5774ad69d4129474d210429e3884d468e5cb47f1",
    "createdAt": "2019-02-09T15:59:07Z",
    "diffHunk": "@@ -25,17 +25,17 @@ import org.apache.spark.sql.types.{IntegerType, LongType}\n class RandomSuite extends SparkFunSuite with ExpressionEvalHelper {\n \n   test(\"random\") {\n-    checkDoubleEvaluation(Rand(30), 0.31429268272540556 +- 0.001)\n-    checkDoubleEvaluation(Randn(30), -0.4798519469521663 +- 0.001)\n+    checkDoubleEvaluation(Rand(30), 0.2762195585886885 +- 0.001)\n+    checkDoubleEvaluation(Randn(30), -1.0451987154313813 +- 0.001)"
  }, {
    "author": {
      "login": "MaxGekk"
    },
    "body": "done",
    "commit": "5774ad69d4129474d210429e3884d468e5cb47f1",
    "createdAt": "2019-03-18T14:32:29Z",
    "diffHunk": "@@ -25,17 +25,17 @@ import org.apache.spark.sql.types.{IntegerType, LongType}\n class RandomSuite extends SparkFunSuite with ExpressionEvalHelper {\n \n   test(\"random\") {\n-    checkDoubleEvaluation(Rand(30), 0.31429268272540556 +- 0.001)\n-    checkDoubleEvaluation(Randn(30), -0.4798519469521663 +- 0.001)\n+    checkDoubleEvaluation(Rand(30), 0.2762195585886885 +- 0.001)\n+    checkDoubleEvaluation(Randn(30), -1.0451987154313813 +- 0.001)"
  }],
  "prId": 20793
}]