[{
  "comments": [{
    "author": {
      "login": "dongjoon-hyun"
    },
    "body": "While making this, I didn't notice this is strange. :(",
    "commit": "53b91c83efd0b7d4dba00869dad098ecefbcfdb4",
    "createdAt": "2016-11-28T04:21:48Z",
    "diffHunk": "@@ -46,12 +46,15 @@ class CollapseWindowSuite extends PlanTest {\n       .window(Seq(sum(b).as('sum_b)), partitionSpec1, orderSpec1)\n       .window(Seq(avg(b).as('avg_b)), partitionSpec1, orderSpec1)\n \n-    val optimized = Optimize.execute(query.analyze)\n+    val analyzed = query.analyze\n+    val optimized = Optimize.execute(analyzed)\n+    assert(analyzed.output === optimized.output)\n+\n     val correctAnswer = testRelation.window(Seq(\n-        avg(b).as('avg_b),\n-        sum(b).as('sum_b),\n-        max(a).as('max_a),\n-        min(a).as('min_a)), partitionSpec1, orderSpec1)",
    "line": 13
  }],
  "prId": 16027
}]