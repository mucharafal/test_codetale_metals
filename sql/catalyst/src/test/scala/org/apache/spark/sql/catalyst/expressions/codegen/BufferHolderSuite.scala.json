[{
  "comments": [{
    "author": {
      "login": "cloud-fan"
    },
    "body": "This is a good starting point! Most of the low-level codegen utils are not tested, e.g. `BufferHolder`, `UnsafeRowWriter`, `UnsafeArrayWriter`, etc.\n",
    "commit": "943f7de62204af5fee228e938d293e3283f4b395",
    "createdAt": "2016-06-22T07:04:03Z",
    "diffHunk": "@@ -0,0 +1,38 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.spark.sql.catalyst.expressions.codegen\n+\n+import org.apache.spark.SparkFunSuite\n+import org.apache.spark.sql.catalyst.expressions.UnsafeRow\n+\n+class BufferHolderSuite extends SparkFunSuite {",
    "line": 23
  }],
  "prId": 13829
}, {
  "comments": [{
    "author": {
      "login": "tedyu"
    },
    "body": "Should this string be defined in BufferHolder and referenced here so that the test wouldn't break if the exception message is modified ?\n",
    "commit": "943f7de62204af5fee228e938d293e3283f4b395",
    "createdAt": "2016-06-30T21:22:41Z",
    "diffHunk": "@@ -0,0 +1,39 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.spark.sql.catalyst.expressions.codegen\n+\n+import org.apache.spark.SparkFunSuite\n+import org.apache.spark.sql.catalyst.expressions.UnsafeRow\n+\n+class BufferHolderSuite extends SparkFunSuite {\n+\n+  test(\"SPARK-16071 Check the size limit to avoid integer overflow\") {\n+    var e = intercept[UnsupportedOperationException] {\n+      new BufferHolder(new UnsafeRow(Int.MaxValue / 8))\n+    }\n+    assert(e.getMessage.contains(\"too many fields\"))",
    "line": 29
  }],
  "prId": 13829
}]