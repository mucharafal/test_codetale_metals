[{
  "comments": [{
    "author": {
      "login": "juliuszsompolski"
    },
    "body": "what is the dependency on spark-hive still? Is it just for metastore?",
    "commit": "6f7d48a987fd0cabef7e0cd4ee8af54197d66eaa",
    "createdAt": "2019-10-24T11:30:12Z",
    "diffHunk": "@@ -0,0 +1,153 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+  ~ Licensed to the Apache Software Foundation (ASF) under one or more\n+  ~ contributor license agreements.  See the NOTICE file distributed with\n+  ~ this work for additional information regarding copyright ownership.\n+  ~ The ASF licenses this file to You under the Apache License, Version 2.0\n+  ~ (the \"License\"); you may not use this file except in compliance with\n+  ~ the License.  You may obtain a copy of the License at\n+  ~\n+  ~    http://www.apache.org/licenses/LICENSE-2.0\n+  ~\n+  ~ Unless required by applicable law or agreed to in writing, software\n+  ~ distributed under the License is distributed on an \"AS IS\" BASIS,\n+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  ~ See the License for the specific language governing permissions and\n+  ~ limitations under the License.\n+  -->\n+\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\">\n+    <modelVersion>4.0.0</modelVersion>\n+    <parent>\n+        <groupId>org.apache.spark</groupId>\n+        <artifactId>spark-parent_2.12</artifactId>\n+        <version>3.0.0-SNAPSHOT</version>\n+        <relativePath>../../pom.xml</relativePath>\n+    </parent>\n+\n+    <artifactId>spark-thriftserver_2.12</artifactId>\n+    <packaging>jar</packaging>\n+    <name>Spark Project Thrift Server</name>\n+    <url>http://spark.apache.org/</url>\n+    <properties>\n+        <sbt.project.name>thriftserver</sbt.project.name>\n+    </properties>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>org.apache.spark</groupId>\n+            <artifactId>spark-hive_${scala.binary.version}</artifactId>",
    "line": 40
  }, {
    "author": {
      "login": "AngersZhuuuu"
    },
    "body": "> what is the dependency on spark-hive still? Is it just for metastore?\r\n\r\nIn current thriftserver some place use `Hiveutils` `Hive` and `HiveDelegationTokenProvider`,\r\nthey are from `spark-hive`.  \r\n\r\nIf the final implementation does not need these, we can remove them later.\r\n",
    "commit": "6f7d48a987fd0cabef7e0cd4ee8af54197d66eaa",
    "createdAt": "2019-10-24T14:05:22Z",
    "diffHunk": "@@ -0,0 +1,153 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+  ~ Licensed to the Apache Software Foundation (ASF) under one or more\n+  ~ contributor license agreements.  See the NOTICE file distributed with\n+  ~ this work for additional information regarding copyright ownership.\n+  ~ The ASF licenses this file to You under the Apache License, Version 2.0\n+  ~ (the \"License\"); you may not use this file except in compliance with\n+  ~ the License.  You may obtain a copy of the License at\n+  ~\n+  ~    http://www.apache.org/licenses/LICENSE-2.0\n+  ~\n+  ~ Unless required by applicable law or agreed to in writing, software\n+  ~ distributed under the License is distributed on an \"AS IS\" BASIS,\n+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  ~ See the License for the specific language governing permissions and\n+  ~ limitations under the License.\n+  -->\n+\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\">\n+    <modelVersion>4.0.0</modelVersion>\n+    <parent>\n+        <groupId>org.apache.spark</groupId>\n+        <artifactId>spark-parent_2.12</artifactId>\n+        <version>3.0.0-SNAPSHOT</version>\n+        <relativePath>../../pom.xml</relativePath>\n+    </parent>\n+\n+    <artifactId>spark-thriftserver_2.12</artifactId>\n+    <packaging>jar</packaging>\n+    <name>Spark Project Thrift Server</name>\n+    <url>http://spark.apache.org/</url>\n+    <properties>\n+        <sbt.project.name>thriftserver</sbt.project.name>\n+    </properties>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>org.apache.spark</groupId>\n+            <artifactId>spark-hive_${scala.binary.version}</artifactId>",
    "line": 40
  }],
  "prId": 26221
}, {
  "comments": [{
    "author": {
      "login": "juliuszsompolski"
    },
    "body": "The hive- dependencies are only for beeline now, and for testing with Hive JDBC client?\r\n",
    "commit": "6f7d48a987fd0cabef7e0cd4ee8af54197d66eaa",
    "createdAt": "2019-10-24T11:39:35Z",
    "diffHunk": "@@ -0,0 +1,153 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+  ~ Licensed to the Apache Software Foundation (ASF) under one or more\n+  ~ contributor license agreements.  See the NOTICE file distributed with\n+  ~ this work for additional information regarding copyright ownership.\n+  ~ The ASF licenses this file to You under the Apache License, Version 2.0\n+  ~ (the \"License\"); you may not use this file except in compliance with\n+  ~ the License.  You may obtain a copy of the License at\n+  ~\n+  ~    http://www.apache.org/licenses/LICENSE-2.0\n+  ~\n+  ~ Unless required by applicable law or agreed to in writing, software\n+  ~ distributed under the License is distributed on an \"AS IS\" BASIS,\n+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  ~ See the License for the specific language governing permissions and\n+  ~ limitations under the License.\n+  -->\n+\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\">\n+    <modelVersion>4.0.0</modelVersion>\n+    <parent>\n+        <groupId>org.apache.spark</groupId>\n+        <artifactId>spark-parent_2.12</artifactId>\n+        <version>3.0.0-SNAPSHOT</version>\n+        <relativePath>../../pom.xml</relativePath>\n+    </parent>\n+\n+    <artifactId>spark-thriftserver_2.12</artifactId>\n+    <packaging>jar</packaging>\n+    <name>Spark Project Thrift Server</name>\n+    <url>http://spark.apache.org/</url>\n+    <properties>\n+        <sbt.project.name>thriftserver</sbt.project.name>\n+    </properties>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>org.apache.spark</groupId>\n+            <artifactId>spark-hive_${scala.binary.version}</artifactId>\n+            <version>${project.version}</version>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.spark</groupId>\n+            <artifactId>spark-core_${scala.binary.version}</artifactId>\n+            <version>${project.version}</version>\n+            <type>test-jar</type>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.spark</groupId>\n+            <artifactId>spark-catalyst_${scala.binary.version}</artifactId>\n+            <version>${project.version}</version>\n+            <type>test-jar</type>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.spark</groupId>\n+            <artifactId>spark-hive_${scala.binary.version}</artifactId>\n+            <version>${project.version}</version>\n+            <type>test-jar</type>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>com.google.guava</groupId>\n+            <artifactId>guava</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>${hive.group}</groupId>\n+            <artifactId>hive-cli</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>${hive.group}</groupId>\n+            <artifactId>hive-jdbc</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>${hive.group}</groupId>\n+            <artifactId>hive-beeline</artifactId>\n+        </dependency>",
    "line": 79
  }, {
    "author": {
      "login": "AngersZhuuuu"
    },
    "body": "> The hive- dependencies are only for beeline now, and for testing with Hive JDBC client?\r\n\r\nCurrent beeline still need these dependencies. In first version we can't do all the thing, so copy this from `sql/hive-thriftserver` . First step is to replace old one.",
    "commit": "6f7d48a987fd0cabef7e0cd4ee8af54197d66eaa",
    "createdAt": "2019-10-24T13:45:38Z",
    "diffHunk": "@@ -0,0 +1,153 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+  ~ Licensed to the Apache Software Foundation (ASF) under one or more\n+  ~ contributor license agreements.  See the NOTICE file distributed with\n+  ~ this work for additional information regarding copyright ownership.\n+  ~ The ASF licenses this file to You under the Apache License, Version 2.0\n+  ~ (the \"License\"); you may not use this file except in compliance with\n+  ~ the License.  You may obtain a copy of the License at\n+  ~\n+  ~    http://www.apache.org/licenses/LICENSE-2.0\n+  ~\n+  ~ Unless required by applicable law or agreed to in writing, software\n+  ~ distributed under the License is distributed on an \"AS IS\" BASIS,\n+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  ~ See the License for the specific language governing permissions and\n+  ~ limitations under the License.\n+  -->\n+\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\">\n+    <modelVersion>4.0.0</modelVersion>\n+    <parent>\n+        <groupId>org.apache.spark</groupId>\n+        <artifactId>spark-parent_2.12</artifactId>\n+        <version>3.0.0-SNAPSHOT</version>\n+        <relativePath>../../pom.xml</relativePath>\n+    </parent>\n+\n+    <artifactId>spark-thriftserver_2.12</artifactId>\n+    <packaging>jar</packaging>\n+    <name>Spark Project Thrift Server</name>\n+    <url>http://spark.apache.org/</url>\n+    <properties>\n+        <sbt.project.name>thriftserver</sbt.project.name>\n+    </properties>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>org.apache.spark</groupId>\n+            <artifactId>spark-hive_${scala.binary.version}</artifactId>\n+            <version>${project.version}</version>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.spark</groupId>\n+            <artifactId>spark-core_${scala.binary.version}</artifactId>\n+            <version>${project.version}</version>\n+            <type>test-jar</type>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.spark</groupId>\n+            <artifactId>spark-catalyst_${scala.binary.version}</artifactId>\n+            <version>${project.version}</version>\n+            <type>test-jar</type>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.spark</groupId>\n+            <artifactId>spark-hive_${scala.binary.version}</artifactId>\n+            <version>${project.version}</version>\n+            <type>test-jar</type>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>com.google.guava</groupId>\n+            <artifactId>guava</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>${hive.group}</groupId>\n+            <artifactId>hive-cli</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>${hive.group}</groupId>\n+            <artifactId>hive-jdbc</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>${hive.group}</groupId>\n+            <artifactId>hive-beeline</artifactId>\n+        </dependency>",
    "line": 79
  }, {
    "author": {
      "login": "juliuszsompolski"
    },
    "body": "Maybe we could consider separating the server and the client in separate modules? A `sql/jdbc` module would have `hive-beeline` and `hive-jdbc` and `hive-service` and be used to provide `bin/beeline`, but it will only be a testing dependency of thriftserver, to provide the client for testing - that would further separate the server code from Hive. Could then the existing sql/hive-thriftserver also be depending on it?\r\n@wangyum @gatorsmile what do you think? (definitely in a separate PR from this one)",
    "commit": "6f7d48a987fd0cabef7e0cd4ee8af54197d66eaa",
    "createdAt": "2019-10-24T14:51:37Z",
    "diffHunk": "@@ -0,0 +1,153 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+  ~ Licensed to the Apache Software Foundation (ASF) under one or more\n+  ~ contributor license agreements.  See the NOTICE file distributed with\n+  ~ this work for additional information regarding copyright ownership.\n+  ~ The ASF licenses this file to You under the Apache License, Version 2.0\n+  ~ (the \"License\"); you may not use this file except in compliance with\n+  ~ the License.  You may obtain a copy of the License at\n+  ~\n+  ~    http://www.apache.org/licenses/LICENSE-2.0\n+  ~\n+  ~ Unless required by applicable law or agreed to in writing, software\n+  ~ distributed under the License is distributed on an \"AS IS\" BASIS,\n+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  ~ See the License for the specific language governing permissions and\n+  ~ limitations under the License.\n+  -->\n+\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\">\n+    <modelVersion>4.0.0</modelVersion>\n+    <parent>\n+        <groupId>org.apache.spark</groupId>\n+        <artifactId>spark-parent_2.12</artifactId>\n+        <version>3.0.0-SNAPSHOT</version>\n+        <relativePath>../../pom.xml</relativePath>\n+    </parent>\n+\n+    <artifactId>spark-thriftserver_2.12</artifactId>\n+    <packaging>jar</packaging>\n+    <name>Spark Project Thrift Server</name>\n+    <url>http://spark.apache.org/</url>\n+    <properties>\n+        <sbt.project.name>thriftserver</sbt.project.name>\n+    </properties>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>org.apache.spark</groupId>\n+            <artifactId>spark-hive_${scala.binary.version}</artifactId>\n+            <version>${project.version}</version>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.spark</groupId>\n+            <artifactId>spark-core_${scala.binary.version}</artifactId>\n+            <version>${project.version}</version>\n+            <type>test-jar</type>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.spark</groupId>\n+            <artifactId>spark-catalyst_${scala.binary.version}</artifactId>\n+            <version>${project.version}</version>\n+            <type>test-jar</type>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.spark</groupId>\n+            <artifactId>spark-hive_${scala.binary.version}</artifactId>\n+            <version>${project.version}</version>\n+            <type>test-jar</type>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>com.google.guava</groupId>\n+            <artifactId>guava</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>${hive.group}</groupId>\n+            <artifactId>hive-cli</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>${hive.group}</groupId>\n+            <artifactId>hive-jdbc</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>${hive.group}</groupId>\n+            <artifactId>hive-beeline</artifactId>\n+        </dependency>",
    "line": 79
  }, {
    "author": {
      "login": "wangyum"
    },
    "body": "+1",
    "commit": "6f7d48a987fd0cabef7e0cd4ee8af54197d66eaa",
    "createdAt": "2019-10-25T02:38:12Z",
    "diffHunk": "@@ -0,0 +1,153 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+  ~ Licensed to the Apache Software Foundation (ASF) under one or more\n+  ~ contributor license agreements.  See the NOTICE file distributed with\n+  ~ this work for additional information regarding copyright ownership.\n+  ~ The ASF licenses this file to You under the Apache License, Version 2.0\n+  ~ (the \"License\"); you may not use this file except in compliance with\n+  ~ the License.  You may obtain a copy of the License at\n+  ~\n+  ~    http://www.apache.org/licenses/LICENSE-2.0\n+  ~\n+  ~ Unless required by applicable law or agreed to in writing, software\n+  ~ distributed under the License is distributed on an \"AS IS\" BASIS,\n+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  ~ See the License for the specific language governing permissions and\n+  ~ limitations under the License.\n+  -->\n+\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\">\n+    <modelVersion>4.0.0</modelVersion>\n+    <parent>\n+        <groupId>org.apache.spark</groupId>\n+        <artifactId>spark-parent_2.12</artifactId>\n+        <version>3.0.0-SNAPSHOT</version>\n+        <relativePath>../../pom.xml</relativePath>\n+    </parent>\n+\n+    <artifactId>spark-thriftserver_2.12</artifactId>\n+    <packaging>jar</packaging>\n+    <name>Spark Project Thrift Server</name>\n+    <url>http://spark.apache.org/</url>\n+    <properties>\n+        <sbt.project.name>thriftserver</sbt.project.name>\n+    </properties>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>org.apache.spark</groupId>\n+            <artifactId>spark-hive_${scala.binary.version}</artifactId>\n+            <version>${project.version}</version>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.spark</groupId>\n+            <artifactId>spark-core_${scala.binary.version}</artifactId>\n+            <version>${project.version}</version>\n+            <type>test-jar</type>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.spark</groupId>\n+            <artifactId>spark-catalyst_${scala.binary.version}</artifactId>\n+            <version>${project.version}</version>\n+            <type>test-jar</type>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.spark</groupId>\n+            <artifactId>spark-hive_${scala.binary.version}</artifactId>\n+            <version>${project.version}</version>\n+            <type>test-jar</type>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>com.google.guava</groupId>\n+            <artifactId>guava</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>${hive.group}</groupId>\n+            <artifactId>hive-cli</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>${hive.group}</groupId>\n+            <artifactId>hive-jdbc</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>${hive.group}</groupId>\n+            <artifactId>hive-beeline</artifactId>\n+        </dependency>",
    "line": 79
  }],
  "prId": 26221
}]